<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 4 - Cease to struggle and you cease to live</title>
  <meta name="author" content="JesseChiu">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Cease to struggle and you cease to live"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="Cease to struggle and you cease to live" type="application/atom+xml">
  
  
    <link href="/favicon.ico" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/spacelab.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <!-- analytics -->
  



</head>


 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">Cease to struggle and you cease to live</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="">
			  <i class="fa fa-rss"></i>Rss
			</a>
		  </li>
		  
		  <li>
			<a href="/sitemap.xml" title="">
			  <i class="fa fa-sitemap"></i>Sitemap
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header page-header-inverse ">
  <h1 class="title title-inverse ">Cease to struggle and you cease to live</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      Keep on going never give up.
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
        <!-- render top articles firstly -->
        
        <!-- render other articles -->
        
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-05-14 </div>
			<div class="article-title"><a href="/2018/05/14/2018-05-14-html-add-vector-graphics/" >在 HTML 中添加矢量图片 (十二)</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>矢量图形在很多情况下非常有用 — 它们拥有较小的文件尺寸，却高度可缩放，所以它们不会在镜头拉近或者放大图像时像素化。在这篇文章中，我们将为您呈现如何在网页中添加矢量图形。<br>目标： | 了解如何嵌入 SVG (矢量) 图形到网页中。<br><strong>提示：</strong> 本文的目的并不是教你 SVG；仅仅是告诉你它是什么，以及如何在网页中添加它。</p>
</blockquote>
<h2 id="一、什么是矢量图形？"><a href="#一、什么是矢量图形？" class="headerlink" title="一、什么是矢量图形？"></a>一、什么是矢量图形？</h2><p>在网上，你会和两种类型的图片打交道 — 位图和矢量图:</p>
<ul>
<li>位图使用像素网格来定义 — 一个位图文件精确得包含了每个像素的位置和它的色彩信息。流行的位图格式包括 Bitmap (<code>.bmp</code>), PNG (<code>.png</code>), JPEG (<code>.jpg</code>), and GIF (<code>.gif</code>.)</li>
<li>矢量图使用算法来定义 — 一个矢量图文件包含了图形和路径的定义，电脑可以根据这些定义计算出当它们在屏幕上渲染时应该呈现的样子。 <a href="https://developer.mozilla.org/en-US/docs/Glossary/SVG" target="_blank" rel="noopener" title="SVG: Scalable Vector Graphics (SVG) is a 2D vector image format based on an XML syntax.">SVG</a> 格式可以让我们创造用于 Web 的精彩的矢量图形。</li>
</ul>
<p>为了让你清楚的认识到两者的区别，我们来一个例子。你可以在我们的 Github 仓库中在线查看这个例子：<a href="http://mdn.github.io/learning-area/html/multimedia-and-embedding/adding-vector-graphics-to-the-web/vector-versus-raster.html" target="_blank" rel="noopener">vector-versus-raster.html</a> — 它并排展示了两个看起来一致的图像，一个红色的五角星以及黑色的阴影。不同的是，左边的是 PNG，而右边的是 SVG 图像。</p>
<p><img src="https://mdn.mozillademos.org/files/12866/raster-vector-default-size.png" alt="Two star images, one raster and one vector. At their default size they look identical"></p>
<p>当你放大网页的时候，区别就会变得明显起来 — 随着你的放大，PNG 图片变得像素化了，因为它存储是每个像素的颜色和位置信息 — 当它被放大时，每个像素就被放大以填满屏幕上更多的像素，所以图像就会开始变得马赛克感觉。矢量图像看起来仍然效果很好且清晰，因为无论它的尺寸如何，都使用算法来计算出图像的形状，仅仅是根据放大的倍数来调整算法中的值。</p>
<p><img src="https://mdn.mozillademos.org/files/12868/raster-vector-zoomed.png" alt="Two star images zoomed in. The raster one on the left starts to look pixellated, whereas the vector one still looks crisp."></p>
<p>此外，矢量图形相较于同样的位图，通常拥有更小的体积，因为它们仅需储存少量的算法，而不是逐个储存每个像素的信息。</p>
<h2 id="二、SVG-是什么？"><a href="#二、SVG-是什么？" class="headerlink" title="二、SVG 是什么？"></a>二、SVG 是什么？</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG" target="_blank" rel="noopener">SVG</a> 是用于描述矢量图像的<a href="https://developer.mozilla.org/en-US/docs/Glossary/XML" target="_blank" rel="noopener" title="XML: eXtensible Markup Language (XML) is a generic markup language specified by the W3C. The information technology (IT) industry uses many languages based on XML as data-description languages.">XML</a>语言。 它基本上是像HTML一样的标记，除了你有许多不同的元素来定义你想要出现在图像中的形状，以及你想要应用于这些形状的效果。 SVG用于标记图形，而不是内容。 非常简单，你有一些元素来创建简单图形，如<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/circle" target="_blank" rel="noopener" title="&lt;circle&gt; SVG 元素是一个SVG的基本形状，用来创建圆,基于一个圆心和一个半径。"><code>&lt;circle&gt;</code></a> 和<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/rect" target="_blank" rel="noopener" title="rect元素是SVG的一个基本形状，用来创建矩形，基于一个角位置以及它的宽和高。它还可以用来创建圆角矩形。"><code>&lt;rect&gt;</code></a>。更高级的SVG功能包括 <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/feColorMatrix" target="_blank" rel="noopener" title="该滤镜基于转换矩阵对颜色进行变换。每一像素的颜色值(一个表示为[红,绿,蓝,透明度] 的矢量) 都经过矩阵乘法 (matrix multiplated) 计算出的新颜色。"><code>&lt;feColorMatrix&gt;</code></a>（使用变换矩阵转换颜色）<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/animate" target="_blank" rel="noopener" title="动画元素放在形状元素的内部，用来定义一个元素的某个属性如何踩着时点改变。在指定持续时间里，属性从开始值变成结束值。"><code>&lt;animate&gt;</code></a> （矢量图形的动画部分）和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/mask" target="_blank" rel="noopener" title="在SVG中，你可以指一个透明的遮罩层和当前对象合成，形成背景。透明遮罩层可以是任何其他图形对象或者&lt;g&gt;元素。mask元素用于定义这样的遮罩元素。属性mask用来引用一个遮罩元素。"><code>&lt;mask&gt;</code></a>（在图像顶部应用蒙版）</p>
<p>作为一个简单的例子，以下代码创建一个圆和一个矩形：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"1.1"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">     <span class="attr">baseProfile</span>=<span class="string">"full"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">     <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"200"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">     <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">fill</span>=<span class="string">"black"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"150"</span> <span class="attr">cy</span>=<span class="string">"100"</span> <span class="attr">r</span>=<span class="string">"90"</span> <span class="attr">fill</span>=<span class="string">"blue"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span></pre></td></tr></table></figure>
<p>将创建如下输出:</p>
<p><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/svg.png" alt=""></p>
<p>从上面的例子可以看出，SVG很容易手工编码。 是的，您可以在文本编辑器中手动编写简单的SVG，但是对于复杂的图像，这很快就开始变得非常困难。 为了创建SVG图像，大多数人使用矢量图形编辑器，如 <a href="https://inkscape.org/en/" target="_blank" rel="noopener">Inkscape</a> 或 <a href="https://en.wikipedia.org/wiki/Adobe_Illustrator" target="_blank" rel="noopener">Illustrator</a>。 这些软件包允许您使用各种图形工具创建各种插图，并创建照片的近似值（例如Inkscape的跟踪位图功能）。</p>
<p>SVG 除了迄今为止所描述的以外还有其他优点：</p>
<ul>
<li>矢量图像中的文本仍然可访问（这也有利于 <a href="https://developer.mozilla.org/en-US/docs/Glossary/SEO" target="_blank" rel="noopener" title="SEO: SEO (Search Engine Optimization) is the process of making a website more visible in search results, also termed improving search rankings.">SEO</a>)）。</li>
<li>SVG 可以很好地适应样式/脚本，因为图像的每个组件都是可以通过CSS或通过JavaScript编写的样式的元素。</li>
</ul>
<p>那么为什么会有人想使用光栅图形而不是SVG？ 其实 SVG 确实有一些缺点：</p>
<ul>
<li>SVG非常容易变得复杂，这意味着文件大小会增加; 复杂的SVG也会在浏览器中占用很长的处理时间。</li>
<li>SVG可能比栅格图像更难创建，具体取决于您尝试创建哪种图像。</li>
<li>旧版浏览器不支持SVG，因此如果您需要在网站上支持旧版本的 IE，则可能不适合（SVG从IE9开始得到支持）。</li>
</ul>
<p>由于上述原因，光栅图形更适合照片那样复杂精密的图像。</p>
<p><strong>注意：</strong>在Inkscape中，将文件保存为纯SVG以节省空间。 另请参阅<a href="http://tavmjong.free.fr/INKSCAPE/MANUAL/html/Web-Inkscape.html" target="_blank" rel="noopener">如何为Web准备SVG</a>。</p>
<h2 id="三、将-SVG-添加到页面"><a href="#三、将-SVG-添加到页面" class="headerlink" title="三、将 SVG 添加到页面"></a>三、将 SVG 添加到页面</h2><p>在本节中，我们将介绍将SVG矢量图形添加到网页的不同方式。</p>
<h3 id="1-快捷方式：-lt-img-gt"><a href="#1-快捷方式：-lt-img-gt" class="headerlink" title="1. 快捷方式：&lt;img&gt;"></a>1. 快捷方式：<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a></h3><p>要通过 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a>元素嵌入SVG，你只需要按照预期的方式在 src 属性中引用它。你将需要一个<code>height</code>或<code>width</code>属性（或者如果您的SVG没有固有的宽高比）。如果还没有这样做，请阅读<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML" target="_blank" rel="noopener">HTML中的图片</a> 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">    <span class="attr">src</span>=<span class="string">"equilateral.svg"</span> </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">    <span class="attr">alt</span>=<span class="string">"triangle with all three sides equal"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">    <span class="attr">height</span>=<span class="string">"87px"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">    <span class="attr">width</span>=<span class="string">"100px"</span> /&gt;</span></span></pre></td></tr></table></figure>

<h4 id="1-1-优点"><a href="#1-1-优点" class="headerlink" title="1.1 优点"></a>1.1 优点</h4><ul>
<li>快速，熟悉的图像语法与<code>alt</code>属性中提供的内置文本等效。</li>
<li>可以通过在<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a" target="_blank" rel="noopener" title="HTML &lt;a&gt; 元素  (或锚元素) 可以创建一个到其他网页、文件、同一页面内的位置、电子邮件地址或任何其他URL的超链接。"><code>&lt;a&gt;</code></a>元素嵌套<code>&lt;img&gt;</code>，使图像轻松地成为超链接。</li>
</ul>
<h4 id="1-2-缺点"><a href="#1-2-缺点" class="headerlink" title="1.2 缺点"></a>1.2 缺点</h4><ul>
<li>无法使用JavaScript操作图像。</li>
<li>如果要使用CSS控制SVG内容，则必须在SVG代码中包含内联CSS样式。 （从SVG文件调用的外部样式表不起作用）</li>
<li>不能用CSS伪类来重设图像样式（如<code>:focus</code>）。</li>
</ul>
<h3 id="2-疑难解答和跨浏览器支持"><a href="#2-疑难解答和跨浏览器支持" class="headerlink" title="2. 疑难解答和跨浏览器支持"></a>2. 疑难解答和跨浏览器支持</h3><p>对于不支持SVG（IE 8及更低版本，Android 2.3及更低版本）的浏览器，您可以从<code>src</code>属性引用PNG或JPG，并使用<code>[srcset](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img#attr-srcset)</code>属性 只有最近的浏览器才能识别）来引用SVG。 在这种情况下，仅支持浏览器将加载SVG - 较旧的浏览器将加载PNG：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"equilateral.png"</span> <span class="attr">alt</span>=<span class="string">"triangle with equal sides"</span> <span class="attr">srcset</span>=<span class="string">"equilateral.svg"</span>&gt;</span></span></pre></td></tr></table></figure>

<p>您还可以使用SVG作为CSS背景图像，如下所示。 在下面的代码中，旧版浏览器会坚持他们理解的PNG，而较新的浏览器将加载SVG：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">background: url("fallback.png") no-repeat center;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">background-image: url("image.svg");</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">background-size: contain;</span></pre></td></tr></table></figure>

<p>像上面描述的<code>&lt;img&gt;</code>方法一样，使用 CSS 背景图像插入SVG 意味着它不能被 JavaScript 操作，并且也受到相同的 CSS 限制。</p>
<p>如果 SVG 根本没有显示，可能是因为你的服务器设置不正确。 如果是这个问题，<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Getting_Started#A_Word_on_Webservers" target="_blank" rel="noopener">这篇文章</a>将告诉你正确方向。</p>
<h3 id="3-如何在-HTML-中引入-SVG-代码"><a href="#3-如何在-HTML-中引入-SVG-代码" class="headerlink" title="3. 如何在 HTML 中引入 SVG 代码"></a>3. 如何在 HTML 中引入 SVG 代码</h3><p>你还可以在文本编辑器中打开SVG文件，复制SVG代码，并将其粘贴到HTML文档中 - 这有时称为将<strong>SVG内联</strong>或<strong>内联SVG</strong>。确保您的SVG代码在<code>[&lt;svg&gt;&lt;/svg&gt;](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)</code>标签中（不要在外面添加任何内容）。这是一个非常简单的示例，您可以粘贴到文档中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"200"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">rect</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">fill</span>=<span class="string">"green"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="3-1-优点"><a href="#3-1-优点" class="headerlink" title="3.1 优点"></a>3.1 优点</h4><ul>
<li>将 SVG 内联减少 HTTP 请求，可以减少加载时间。</li>
<li>您可以为 SVG 元素分配<code>class</code>和<code>id</code>，并使用 CSS 修改样式，无论是在SVG中，还是 HTML 文档中的 CSS 样式规则。 实际上，您可以使用任何 <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute#Presentation_attributes" target="_blank" rel="noopener">SVG外观属性</a> 作为CSS属性。</li>
<li>内联SVG是唯一可以让您在SVG图像上使用CSS交互（如<code>:focus</code>）和CSS动画的方法（即使在常规样式表中）。</li>
<li>您可以通过将 SVG 标记包在<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a" target="_blank" rel="noopener" title="HTML &lt;a&gt; 元素  (或锚元素) 可以创建一个到其他网页、文件、同一页面内的位置、电子邮件地址或任何其他URL的超链接。"><code>&lt;a&gt;</code></a>元素中，使其成为超链接。</li>
</ul>
<h4 id="3-2-缺点"><a href="#3-2-缺点" class="headerlink" title="3.2 缺点"></a>3.2 缺点</h4><ul>
<li>这种方法只适用于在一个地方使用的SVG。多次使用会导致资源密集型维护（resource-intensive maintenance）。</li>
<li>额外的 SVG 代码会增加HTML文件的大小。</li>
<li>浏览器不能像缓存普通图片一样缓存内联SVG。</li>
<li>您可能会在<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/foreignObject" target="_blank" rel="noopener" title="foreignObject元素允许包含外来的XML命名空间，其图形内容是别的用户代理绘制的。这个被包含的外来图形内容服从SVG变形和合成。"><code>&lt;foreignObject&gt;</code></a> 元素中包含回退，但支持 SVG 的浏览器仍然会下载任何后备图像。你需要考虑仅仅为支持过时的浏览器，而增加额外开销是否真的值得。</li>
</ul>
<h3 id="4-如何使用-lt-iframe-gt-嵌入SVG"><a href="#4-如何使用-lt-iframe-gt-嵌入SVG" class="headerlink" title="4. 如何使用 &lt;iframe&gt; 嵌入SVG"></a>4. 如何使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML内联框架元素 &lt;iframe&gt; 表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。在HTML 4.01中，文档可能包含头部和正文，或头部和框架集，但不能包含正文和框架集。但是，&lt;iframe&gt;可以在正常的文档主体中使用。每个浏览上下文都有自己的会话历史记录和活动文档。包含嵌入内容的浏览上下文称为父浏览上下文。顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a> 嵌入SVG</h3><p>您可以在浏览器中打开 SVG 图像，就像网页一样。 因此，使用<code>&lt;iframe&gt;</code>嵌入 SVG 文档就像我们在 <a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/%E5%85%B6%E4%BB%96%E5%B5%8C%E5%85%A5%E6%8A%80%E6%9C%AF" target="_blank" rel="noopener">从对象到iframe - 其他嵌入技术</a> 中进行研究一样。</p>
<p>这是一个快速回顾：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"triangle.svg"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span> <span class="attr">sandbox</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"triangle.png"</span> <span class="attr">alt</span>=<span class="string">"Triangle with three unequal sides"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></pre></td></tr></table></figure>

<p>这绝对不是最好的方法：</p>
<h4 id="4-1-缺点"><a href="#4-1-缺点" class="headerlink" title="4.1 缺点"></a>4.1 缺点</h4><ul>
<li>如你所知， <code>iframe</code>有一个回退机制，如果浏览器不支持<code>iframe</code>，则只会显示回退。</li>
<li>此外，除非 SVG 和您当前的网页具有相同的 <a href="https://developer.mozilla.org/en-US/docs/Glossary/origin" target="_blank" rel="noopener" title="origin: Web content&#39;s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.">origin</a>，否则你不能在主页面上使用 JavaScript 来操纵 SVG。</li>
</ul>
<h2 id="四、动手学习：使用SVG"><a href="#四、动手学习：使用SVG" class="headerlink" title="四、动手学习：使用SVG"></a>四、动手学习：使用SVG</h2><p>在这个动手学习部分中，我们希望你能够体验一下 SVG 的乐趣。 在下面的“input”部分，您将看到我们已经提供了一些样例来开始使用。 您还可以访问 <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element" target="_blank" rel="noopener">SVG元素参考</a>，了解更多关于SVG可以使用的其他玩具的细节，也可以尝试一下。 这部分都是为了锻炼你的研究技巧，并且有一些乐趣。</p>
<p>如果你卡住了，无法使你的代码工作，你可以随时使用 Reset 按钮进行重置。</p>
<h6 id="Playable-code"><a href="#Playable-code" class="headerlink" title="Playable code"></a>Playable code</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Input<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"code"</span> <span class="attr">class</span>=<span class="string">"input"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">fill</span>=<span class="string">"red"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"100%"</span> <span class="attr">cy</span>=<span class="string">"100%"</span> <span class="attr">r</span>=<span class="string">"150"</span> <span class="attr">fill</span>=<span class="string">"blue"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">polygon</span> <span class="attr">points</span>=<span class="string">"120,0 240,225 0,225"</span> <span class="attr">fill</span>=<span class="string">"green"</span>/&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">font-family</span>=<span class="string">"Verdana"</span> <span class="attr">font-size</span>=<span class="string">"55"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="tag">        <span class="attr">fill</span>=<span class="string">"white"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">stroke-width</span>=<span class="string">"2"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    Hello!</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Output<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"output"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"reset"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Reset"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Open Sans Light'</span>,Helvetica,Arial,sans-serif;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.input</span>, <span class="selector-class">.output</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="number">10em</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#0095dd</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: auto;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.output</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="number">14em</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">"code"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reset = <span class="built_in">document</span>.getElementById(<span class="string">"reset"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> code = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> output = <span class="built_in">document</span>.querySelector(<span class="string">".output"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawOutput</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  output.innerHTML = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">reset.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  textarea.value = code;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  drawOutput();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">textarea.addEventListener(<span class="string">"input"</span>, drawOutput);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, drawOutput);</span></pre></td></tr></table></figure>

<iframe src="https://mdn.mozillademos.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web$samples/Playable_code?revision=1344124" class="live-sample-frame sample-code-frame" height="600" width="700" id="frame_Playable_code" frameborder="0"></iframe>

<p><button class="open-in-host button neutral">在 CodePen 中打开 <i class="icon-codepen" aria-hidden="true"></i></button></p>
<p><button class="open-in-host button neutral">在 JSFiddle 中打开 <i class="icon-jsfiddle" aria-hidden="true"></i></button></p>
<h2 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h2><p>本文提供了一个矢量图形和 SVG 的快速浏览，让你了解他们的作用，以及如何在网页中引入 SVG。 它从来没有打算成为学习 SVG 的完整教程，只是一个指南，让你在网上遇到 SVG 时知道它是什么。 所以不要觉得你不是一个 SVG 专家而担心。如果你想了解更多关于它的工作原理，我们在下面列出了一些可能会帮助您的信息。</p>
<p>在本模块的最后一篇文章中，我们将详细探索响应式图像，查看 HTML 可以让您的图像在不同设备上更好地适配。</p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web" target="_blank" rel="noopener">在网页中添加矢量图形</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-05-11 </div>
			<div class="article-title"><a href="/2018/05/11/2018-05-11-android-aidl/" >Android AIDL</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>Android 接口定义语言 (AIDL- Android Interface definition language)<br>AIDL（Android 接口定义语言）与您可能使用过的其他 IDL 类似。 您可以利用它定义客户端与服务使用进程间通信 (IPC) 进行相互通信时都认可的编程接口。 在 Android 上，一个进程通常无法访问另一个进程的内存。 尽管如此，进程需要将其对象分解成操作系统能够识别的原语，并将对象编组成跨越边界的对象。 编写执行这一编组操作的代码是一项繁琐的工作，因此 Android 会使用 AIDL 来处理。</p>
</blockquote>
<p><strong>注：只有允许不同应用的客户端用 IPC 方式访问服务，并且想要在服务中处理多线程时，才有必要使用 AIDL。 如果您不需要执行跨越不同应用的并发 IPC，就应该通过实现一个 Binder 创建接口；或者，如果您想执行 IPC，但根本不需要处理多线程，则使用 Messenger 类来实现接口。无论如何，在实现 AIDL 之前，请您务必理解绑定服务。</strong></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://developer.android.com/guide/components/aidl#CreateAidl" target="_blank" rel="noopener">Android 接口定义语言 (AIDL)</a></li>
<li><a href="https://developer.android.com/guide/components/bound-services#Messenger" target="_blank" rel="noopener">Binder</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-05-10 </div>
			<div class="article-title"><a href="/2018/05/10/2018-05-10-java-doc/" >JavaDoc</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<h2 id="一、常用的-JavaDoc-参数"><a href="#一、常用的-JavaDoc-参数" class="headerlink" title="一、常用的 JavaDoc 参数"></a>一、常用的 JavaDoc 参数</h2><h3 id="1-句号"><a href="#1-句号" class="headerlink" title="1. 句号"></a>1. 句号</h3><p>为什么是句号而不是其他的标点符号呢？因为这涉及到一个 JDK 文档生成的规则：  </p>
<blockquote>
<p>The first sentence of each doc comment should be a summary sentence, containing a concise but complete description of the API item. This means the first sentence of each member, class, interface or package description. （成员、类、接口或包注释的第一个句子将作为该注释项的总结，这个句子应该是言简意赅的）    </p>
</blockquote>
<p>既然提到了句子，那就说明应该用标准的方式——句号来进行第一个句子的断句识别。也许是为了简洁，Javadoc 工具并没有“多语言句号识别”这个特性，所以不管我们用什么语言撰写文档注释，断句符号都必须是英文状态下的句号——.  </p>
<p>比如在 NetBeans IDE 里（默认编辑器配置）可以很直观的看到用于总结的第一个句子和后面描述的区别：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2p5S5BWi5Trv27KDTDHjYqwMIo0q7G-2213JLLC24bgGcXFMgipHSTSu9rKMA7fEi1EfaRmKQOiwT-zdEEKiRmbkjT5MVZ0cyHQU5PIY7_BMc%2Ffirst-sentence.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2p5S5BWi5Trv27KDTDHjYqwMIo0q7G-2213JLLC24bgGcXFMgipHSTSu9rKMA7fEi1EfaRmKQOiwT-zdEEKiRmbkjT5MVZ0cyHQU5PIY7_BMc/first-sentence.png?psid=1" alt="first-sentence"></a>  </p>
<p>在生成 Javadoc 后，类概要页面我们可以看到最终的效果：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2peA4JAgPOEgPewxNZIw6lVCzd-IHNOozsmmwVh_WjvXdZ5GJFZICgSeBkOsuNQVxOmkTrQLmhnV9FRAwqL0rvymqP2puNZlxN-Oig_sF3EB4%2Fclass-summary.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2peA4JAgPOEgPewxNZIw6lVCzd-IHNOozsmmwVh_WjvXdZ5GJFZICgSeBkOsuNQVxOmkTrQLmhnV9FRAwqL0rvymqP2puNZlxN-Oig_sF3EB4/class-summary.png?psid=1" alt="class-summery"></a>  </p>
<p>在使用中文撰写文档注释时，为了保持整体风格一致，在所有需要使用句号的地方有两种策略可选择：  </p>
<ul>
<li><p>都使用英文句号：这样做可以让生成的文档句号统一，但缺点是看上去有点别扭  </p>
</li>
<li><p>只有第一个句子使用英文句号，其余地方都是要中文句号：这样做后生成的文档看上去比较顺眼，但别人可能会奇怪为什么第一个句号是 .    </p>
</li>
</ul>
<p>当然，最彻底的解决方案是不用中文写文档注释，这样就不存在要统一的问题了！  </p>
<p>下面我们重点介绍各种你熟悉的或是不熟悉的 Javadoc 文档标记（它们很有内涵）  </p>
<h3 id="2-author"><a href="#2-author" class="headerlink" title="2. @author"></a>2. <code>@author</code></h3><p>该标记使用频率是所有文档标记中最高的，我想这是因为：  </p>
<ul>
<li><p>做好事要留名  </p>
</li>
<li><p>使用超简单，就像在填表格（姓名： ）一样自然    </p>
</li>
</ul>
<p>来看看大牛怎么写的：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2p_oXGAVLGdkskphXOjyuQjFpTSgEmOcHdRHXvRddiy26L6DUhOX-Wv34uVXrg7dqFHO1dMvt5PsQeeP6LdwxQBVV-zA49B2kijLJF2fNy9sU%2Fcommons-lang-stringutils.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2p_oXGAVLGdkskphXOjyuQjFpTSgEmOcHdRHXvRddiy26L6DUhOX-Wv34uVXrg7dqFHO1dMvt5PsQeeP6LdwxQBVV-zA49B2kijLJF2fNy9sU/commons-lang-stringutils.png?psid=1" alt="commons-lang-stringutils"></a>  </p>
<p>（from Commons Lang 2.5 StringUtils）  </p>
<p>总结下来有三种写法：  </p>
<ul>
<li><p>纯文本  </p>
</li>
<li><p>带邮箱链接  </p>
</li>
<li><p>带 HTTP 链接    </p>
</li>
</ul>
<p>（个人建议用 HTTP 链接：打码时可以顺便推广一下自己的博客，哈哈）  </p>
<p>另外，在 JDK 代码中我们经常看到 @author unascribed，意思是：“该代码第一原作者不是我，但我实在也不知道是谁，就记作无名氏吧”（这是多么严肃的一种版权意识啊）  </p>
<h3 id="3-value"><a href="#3-value" class="headerlink" title="3. @value"></a>3. <code>@value</code></h3><p>这个文档标记非常实用（不光好用），可以用于生成被标记的常量字段的值。  </p>
<p>直接用于常量字段时：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pnvWxihuLOEnImS8xyuaWK-Eht_JyEOF7hDWrpcwmiXRcteuAs2sUnTzMAYmZmAv-Y1cZjy6EFmoHiG126eG53J03k9KSuT4wj1RhAGJyJVw%2Fvalue-code.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pnvWxihuLOEnImS8xyuaWK-Eht_JyEOF7hDWrpcwmiXRcteuAs2sUnTzMAYmZmAv-Y1cZjy6EFmoHiG126eG53J03k9KSuT4wj1RhAGJyJVw/value-code.png?psid=1" alt="value-code"></a>  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pLtQMm5FoWU02cixAJoH8QEBCyo_I_9ssqvPiF-Tl8mIlxdT9fyWuLELes8HJMgh9xxVepLQEASxtBSYPeR093VTE-Tmvqk3tgfAqd8FqLoM%2Fvalue-html.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pLtQMm5FoWU02cixAJoH8QEBCyo_I_9ssqvPiF-Tl8mIlxdT9fyWuLELes8HJMgh9xxVepLQEASxtBSYPeR093VTE-Tmvqk3tgfAqd8FqLoM/value-html.png?psid=1" alt="value-html"></a>  </p>
<p>也可以使用引用方式：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2p0JF14tRuSfjarfg9QuYSOCdvpLC-LzY73CTKqLlrxpxZmO1SH9y5aqDv4WOdIhOdhAY2TZulhTswAocMoL5o8sveStzfFjxuZnWCTYutXYI%2Fvalue-ref-code.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2p0JF14tRuSfjarfg9QuYSOCdvpLC-LzY73CTKqLlrxpxZmO1SH9y5aqDv4WOdIhOdhAY2TZulhTswAocMoL5o8sveStzfFjxuZnWCTYutXYI/value-ref-code.png?psid=1" alt="value-ref-code"></a>  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pG-6eXeG1fRAO1O1AbGzMofB3uyMPxd-q1Zvu680JceRBttDJjUhpeYqNhyMVu4B_ky6rVnCk7Q9YwfK8pRdjFAmmZSlRWY9DOvrtQlVztX4%2Fvalue-ref-html.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pG-6eXeG1fRAO1O1AbGzMofB3uyMPxd-q1Zvu680JceRBttDJjUhpeYqNhyMVu4B_ky6rVnCk7Q9YwfK8pRdjFAmmZSlRWY9DOvrtQlVztX4/value-ref-html.png?psid=1" alt="value-ref-html"></a>  </p>
<h3 id="4-inheritDoc"><a href="#4-inheritDoc" class="headerlink" title="4. {@inheritDoc}"></a>4. <code>{@inheritDoc}</code></h3><p>这个标签体现了 Java 面向对象的精辟所在：不但可以类可以集成，连文档都可以继承（足见 Java 在经典面向对象概念上的完备与圆润）。  </p>
<p>比如有个计算面积的接口：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pJKJ6CL0KWglqfNdV73U3dySu1SAeX0uMpMBe2GK3rRrX-AgsbdveU5nkUY4ofiPvWt8K-3Fddkuxr9cQMmkrnOnexiBHVsvCskw9p0G0L58%2Finheritdoc-interface-code.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pJKJ6CL0KWglqfNdV73U3dySu1SAeX0uMpMBe2GK3rRrX-AgsbdveU5nkUY4ofiPvWt8K-3Fddkuxr9cQMmkrnOnexiBHVsvCskw9p0G0L58/inheritdoc-interface-code.png?psid=1" alt="inheritdoc-interface-code"></a>  </p>
<p>它的实现方法标注了 {@inheritDoc}_（处女座阅读提示：无 .）_：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pEBtBhvFFNe_z3L-5JNzWcaa6_B-6NcwY24ljeAhkUpOU5Mx4NYZetayMfP-3DwXrd9uL1mmqQw9q-pJU9K2nATNWL5fSHodgvCDrgAzxfqc%2Finheritdoc-impl-code.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pEBtBhvFFNe_z3L-5JNzWcaa6_B-6NcwY24ljeAhkUpOU5Mx4NYZetayMfP-3DwXrd9uL1mmqQw9q-pJU9K2nATNWL5fSHodgvCDrgAzxfqc/inheritdoc-impl-code.png?psid=1" alt="inheritdoc-impl-code"></a>  </p>
<p>最后生成的文档：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pAfyk_fIGUC6Sh1GnOZREbXoB0tnBEIB79GxsaZNeLUkzmE0n-uobEFXIqVaclv4bChzpqOOn2wapcsEq4vELKaA99sDb7obypbSjkykPSd4%2Finheritdoc-html.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pAfyk_fIGUC6Sh1GnOZREbXoB0tnBEIB79GxsaZNeLUkzmE0n-uobEFXIqVaclv4bChzpqOOn2wapcsEq4vELKaA99sDb7obypbSjkykPSd4/inheritdoc-html.png?psid=1" alt="inheritdoc-html"></a>  </p>
<ul>
<li><p>基类的文档注释被继承到了子类  </p>
</li>
<li><p>子类可以再加入自己的注释（特殊化扩展）  </p>
</li>
<li><p>@return @param @throws 也会被继承    </p>
</li>
</ul>
<p>其实在不写 {@inheritDoc} 的情况下也存在文档注释的继承，具体规则请看<a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23inheritingcomments" target="_blank" rel="noopener">这里</a>。  </p>
<h3 id="5-link-linkplain"><a href="#5-link-linkplain" class="headerlink" title="5. {@link} {@linkplain}"></a>5. <code>{@link} {@linkplain}</code></h3><p>这两个链接标记大家用 / 见的应该比较多，但它们有什么区别、在什么场景下该怎么使用很少有人能够区分开（我猜你要用的时候一般也都是用 link 吧）。  </p>
<p>看看官网的标准解释：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2psbvmx2xRhV7NF38YP_Od56KwjR19yZ_fXjbR6fxa5Df4QGKrC85--iWgYIioNLZ5vK8tol2bQQ-YI2DfaWZlLkqkmm0gn2YlU4w78q8jmMs%2Flink.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2psbvmx2xRhV7NF38YP_Od56KwjR19yZ_fXjbR6fxa5Df4QGKrC85--iWgYIioNLZ5vK8tol2bQQ-YI2DfaWZlLkqkmm0gn2YlU4w78q8jmMs/link.png?psid=1" alt="link"></a>  </p>
<p>link 和 linkplain 的实参都是 <strong><em>package.class#member label</em></strong> 。唯一的不同就是因为字体不同，如果 label 是个纯文本，那就使用 linkplain 吧。（根据这点，我严重怀疑 Javadoc 文档标记的设计者是处女座，~ ~）  </p>
<h3 id="6-pre"><a href="#6-pre" class="headerlink" title="6. pre"></a>6. <code>pre</code></h3><p>没错，这就是那个 HTML 标签，用于显示“原始样子”的。这个标签在写 Javadoc 的时候非常有用，用或者不使用在打码的时候看上去差别不大：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2p43U983cfZ-13wUPO3HoElbzhwERyGlv8obqaKt_ChrXO2yH-T_SzYQTma4_CdDZszFVsjq1JV4oBxTMwzWx2DQeL9K28fFsb577oZ5qZp3E%2Fpre-code.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2p43U983cfZ-13wUPO3HoElbzhwERyGlv8obqaKt_ChrXO2yH-T_SzYQTma4_CdDZszFVsjq1JV4oBxTMwzWx2DQeL9K28fFsb577oZ5qZp3E/pre-code.png?psid=1" alt="pre-code"></a>  </p>
<p>但最终生成 apidocs 之后差别一目了然<em>（处女座阅读提示：在源码文档注释中特别需要注意 pre 后 { 的位置，紧跟 <em>，无空格）_：</em></em>  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pQ7YGtOOaZLPNHNXvar56b304Eyp8QAeyFEvtQo1QhicFR3CiPutcDyCTvMm2juc6d8yImclF72TW9lbajvfwhIEf24Y2OiGTtINSDodobyo%2Fpre-html.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pQ7YGtOOaZLPNHNXvar56b304Eyp8QAeyFEvtQo1QhicFR3CiPutcDyCTvMm2juc6d8yImclF72TW9lbajvfwhIEf24Y2OiGTtINSDodobyo/pre-html.png?psid=1" alt="pre-html"></a>  </p>
<h3 id="7-since"><a href="#7-since" class="headerlink" title="7. @since"></a>7. <code>@since</code></h3><p>这个从字面的意思上很好理解，所以使用的比较多（如同 @author、@version 一样）。但问题是大家写的时候表达的意思五花八门，常见的有：  </p>
<ol start="2">
<li><p>想表达日期 / 时间<br>@since 2014-01-01<br>@since 2014-01-01 14:00:00  </p>
</li>
<li><p>想表达可运行的 JDK 版本<br>@since JDK1.5  </p>
</li>
<li><p>想表达加入这个元素的版本<br>@since 1.0.0    </p>
</li>
</ol>
<p>根据官方文档解释，@since 表达的是被标记元素是哪个发布版本引入的（3）。比如别人在我们的文档注释中看到  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pJWYTK3eXMyb-5BrNEav_0kpZ1yOAgBEdUW8hWyeOKRutVC6XkjTwdYaMK-9uu5zIGQRs0BAPUNnYZBeQt_du2ycM0VGmTwJ_gW0a_Hu_vX8%2Fsince.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pJWYTK3eXMyb-5BrNEav_0kpZ1yOAgBEdUW8hWyeOKRutVC6XkjTwdYaMK-9uu5zIGQRs0BAPUNnYZBeQt_du2ycM0VGmTwJ_gW0a_Hu_vX8/since.png?psid=1" alt="since"></a>  </p>
<p>那他可以（应该）认为这个类是在该程序对外发布 1.0.0 版本时已经引入的。如果他要做二次开发，那他就可以很清晰的向后兼容了（我们在用 JDK 的时候就是这个场景）。  </p>
<h3 id="8-version"><a href="#8-version" class="headerlink" title="8. @version"></a>8. <code>@version</code></h3><p>提到了 @since 就自然会联想到 @version，因为它们的实参都是版本相关的。@version 要表达的是被标记元素自己的版本（注意对比 @since），也就是说这个版本只要代码改过就应该发生变化，而 @since 是不会变的。  </p>
<p>官方文档也解释了<a href="https://hacpai.com/forward?goto=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdocumentation%2Findex-137868.html%23%40version" target="_blank" rel="noopener">怎么用好</a>这个文档标记：通过 SCCS 字符 “%I%, %G%”，例如 1.39, 02/28/97（文件版本号, 日期）生成。但实际上很少有项目这么做（至少目前 Oracle JDK 没这么做，甚至都没有使用 @version，或者是使用了但最后由于特殊原因总体移除了），大家一般都是 @version 1.0.0 然后就再也不修改了，不管被标记的元素改了多少次（这样的做法还不如不写）。  </p>
<p>当然，通过版本控制系统 hook 来做是比较经典的做法，不过这样总感觉没有把这个标记的能力完全发挥出来。在<a href="https://hacpai.com/forward?goto=https%3A%2F%2Fgithub.com%2Fb3log" target="_blank" rel="noopener">我们的项目</a>里是这样使用的：@version 1.2.3.4, Jun 9, 2014  </p>
<p>重点是版本号部分，在这个例子中从左到右（1.2.3.4）分别表示：  </p>
<ul>
<li><p>兼容性位 1，表示兼容性，如果 +1 了说明这个修改是不兼容的  </p>
</li>
<li><p>特性位 2，表示已引入了两个特性，每次 +1 说明引入一个新特性  </p>
</li>
<li><p>缺陷修复位 3，表示已经修复了 3 个缺陷，每次 +1 说明修复了一个缺陷  </p>
</li>
<li><p>重构位 4，表示已经进行了 4 次重构，每次 +1 说明重构了一次    </p>
</li>
</ul>
<p>前面 3 位表达的意义和 <a href="https://hacpai.com/forward?goto=http%3A%2F%2Fsemver.org" target="_blank" rel="noopener">Semantic Versioning</a> 建议的一致，重构我觉得非常重要，所以也加了进来。  </p>
<h3 id="9-exception-throws"><a href="#9-exception-throws" class="headerlink" title="9. @exception @throws"></a>9. <code>@exception @throws</code></h3><p>这两兄弟的情况比 @<a href="https://hacpai.com/member/link" target="_blank" rel="noopener">link</a> @linkplain 更纠结（人家 link 兄弟最起码可以区分出来使用场景）。按照官方文档解释：它们完全是同义词，没有任何区分。那当年 Sun 在 JDK1.2 的时候为什么要加入 @throws 呢——答案是起名失误了，词性没弄匹配：@throws Exception 比 @exception Exception 更符合语法，代入感更好！（细节：<a href="https://hacpai.com/forward?goto=http%3A%2F%2Fstackoverflow.com%2Fquestions%2F5510170%2Fin-javadoc-what-is-the-difference-between-the-tags-throws-and-exception" target="_blank" rel="noopener">In javadoc, what is the difference between the tags @throws and @exception?</a>）  </p>
<h3 id="10-标记总表"><a href="#10-标记总表" class="headerlink" title="10. 标记总表"></a>10. 标记总表</h3><p>来张 Javadoc 文档标记总表：  </p>
<table>
<thead>
<tr>
<th>Tag</th>
<th>Introduced in JDK/SDK</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23author" target="_blank" rel="noopener"><code>@author</code></a></td>
<td>1.0</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23code" target="_blank" rel="noopener"><code>{@code}</code></a></td>
<td>1.5</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23docRoot" target="_blank" rel="noopener"><code>{@docRoot}</code></a></td>
<td>1.3</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23deprecated" target="_blank" rel="noopener"><code>@deprecated</code></a></td>
<td>1.0</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23exception" target="_blank" rel="noopener"><code>@exception</code></a></td>
<td>1.0</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23inheritDoc" target="_blank" rel="noopener"><code>{@inheritDoc}</code></a></td>
<td>1.4</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23link" target="_blank" rel="noopener"><code>{@link}</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23linkplain" target="_blank" rel="noopener"><code>{@linkplain}</code></a></td>
<td>1.4</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23literal" target="_blank" rel="noopener"><code>{@literal}</code></a></td>
<td>1.5</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23param" target="_blank" rel="noopener"><code>@param</code></a></td>
<td>1.0</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23return" target="_blank" rel="noopener"><code>@return</code></a></td>
<td>1.0</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23see" target="_blank" rel="noopener"><code>@see</code></a></td>
<td>1.0</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23serial" target="_blank" rel="noopener"><code>@serial</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23serialData" target="_blank" rel="noopener"><code>@serialData</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23serialField" target="_blank" rel="noopener"><code>@serialField</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23since" target="_blank" rel="noopener"><code>@since</code></a></td>
<td>1.1</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23throws" target="_blank" rel="noopener"><code>@throws</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23value" target="_blank" rel="noopener"><code>{@value}</code></a></td>
<td>1.4</td>
</tr>
<tr>
<td><a href="https://hacpai.com/forward?goto=http%3A%2F%2Fdocs.oracle.com%2Fjavase%2F7%2Fdocs%2Ftechnotes%2Ftools%2Fwindows%2Fjavadoc.html%23version" target="_blank" rel="noopener"><code>@version</code></a></td>
<td>1.0</td>
</tr>
</tbody></table>
<p>这个表是 JDK7 技术手册里的，从中我们可以看出，自 JDK1.5 以后就没有加过新的文档标记了，目测有两个原因：</p>
<ul>
<li><p>Oracle：“这些已经足够开发人员使用了，没必要加新的了”  </p>
</li>
<li><p>Sun：“看吧，Oracle 严重缺乏折腾精神，当初不应该卖给它的”  _  </p>
</li>
</ul>
<p>文档标记介绍完了，下面我们来聊聊 Javadoc 相关的其他侃点。  </p>
<h3 id="11-对齐"><a href="#11-对齐" class="headerlink" title="11. 对齐"></a>11. 对齐</h3><p>Javadoc 文档注释也有对齐（不是前面 pre 例子那种），这里说的对齐主要指的是以源码视图看到的，最典型的场景就是在给方法添加文档注释的时候，我们经常看到两种风格：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pYDTzzMXOqGBvjzfpI05LLv010MGJEegleDkUcNgy0ykwWyDU4Ze9knP8RusW5NM0h26984EueVPm_13iD_KyLXmg7xiJ6h8QMtD-rOq2OPM%2Falign-para.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pYDTzzMXOqGBvjzfpI05LLv010MGJEegleDkUcNgy0ykwWyDU4Ze9knP8RusW5NM0h26984EueVPm_13iD_KyLXmg7xiJ6h8QMtD-rOq2OPM/align-para.png?psid=1" alt="align-para"></a>  </p>
<p>第一眼看上去是不是风格 2 要顺眼得多？但最好还是使用风格 1，因为：  </p>
<ul>
<li><p>这和编辑器配置的字体有关，如果不是（适合的）等宽字体，那会非常的参差不齐  </p>
</li>
<li><p>浪费空间，特别是当注释内容多了需要换行的时候会很别扭  </p>
</li>
<li><p>最后生成的 apidocs 效果是一模一样的（无对齐）    </p>
</li>
</ul>
<p>（一些 IDE 默认格式化文档注释的时候也是使用风格 1 进行格式化的，强烈建议使用风格 1）  </p>
<h3 id="12-包注释"><a href="#12-包注释" class="headerlink" title="12. 包注释"></a>12. 包注释</h3><p>和前面几点打码风格相关的细节比起来，包注释是具有一定的实用性的。虽然大家可能用得很少，但看得应该比较多，就是这部分：  </p>
<p><a href="https://hacpai.com/forward?goto=https%3A%2F%2Fplokra.dm2301.livefilestore.com%2Fy2pxjXlPHiuouivoM_I4eK9QzBSFj8bhvXX0Q5RWPyt-XYRKNi0Wy3iFFHe14jr9NkTZXjSIpXHEPKZ1ZurUX6dRbyz-jZBtqyzEaNFAKCZDvo%2Fpackage.png%3Fpsid%3D1" target="_blank" rel="noopener"><img src="https://plokra.dm2301.livefilestore.com/y2pxjXlPHiuouivoM_I4eK9QzBSFj8bhvXX0Q5RWPyt-XYRKNi0Wy3iFFHe14jr9NkTZXjSIpXHEPKZ1ZurUX6dRbyz-jZBtqyzEaNFAKCZDvo/package.png?psid=1" alt="package"></a>  </p>
<p>这里我们使用了两种方式来生成包文档：  </p>
<ul>
<li><p>package.html：这是 JDK1.5 以前的方式，现在已经不推荐使用  </p>
</li>
<li><p>package-info.java：目前推荐方式，因为这样可以<strong><em>使用注解</em></strong>    </p>
</li>
</ul>
<p>在包上面使用注解？这个用法和在其他地方使用注解一样，只是被标注的元素变成了包，在运行时可以获取到包的注解，然后做你想做的事情吧！  </p>
<h3 id="13-中文"><a href="#13-中文" class="headerlink" title="13. 中文"></a>13. 中文</h3><p>一开始我们提到了句号的问题（那的确是一个问题），最后我们来看看中文在写文档注释的时候也非常值得注意的一点（其实不只是 Javadoc 文档注释，该建议也适用于其他一些情况）：在中文和英文、数字中间插入一个空格（本文就是这样排版的）。  </p>
<p>比如说：  </p>
<ul>
<li><p>我觉得 Java 非常 cool，特别是 JDK8 中的 lambda，真希望 9 能带来更多实用特性  </p>
</li>
<li></li>
<li><p>我觉得 Java 非常 cool，特别是 JDK8 中的 lambda，真希望 9 能带来更多实用特性    </p>
</li>
</ul>
<p>后者看上去就比前者更舒服一些，这样的排版方式适合纯文本编辑器，如果使用的是 Office 之类的工具就不需要手动空格了，因为它们默认已经处理的很好了。  </p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://hacpai.com/article/1402537988442" target="_blank" rel="noopener">细节见真功之 Javadoc</a></li>
<li><a href="https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html" target="_blank" rel="noopener">JavaDoc</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-05-01 </div>
			<div class="article-title"><a href="/2018/05/01/2018-05-01-html-iframe/" >HTML 嵌入技术(十一)</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>到目前为止，您应该掌握了将图像\视频和音频嵌入到网页上的诀窍了。此刻，让我们进行深入学习，来看一些能让您在网页中嵌入各种内容类型的元素：<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML内联框架元素 &lt;iframe&gt; 表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。在HTML 4.01中，文档可能包含头部和正文，或头部和框架集，但不能包含正文和框架集。但是，&lt;iframe&gt;可以在正常的文档主体中使用。每个浏览上下文都有自己的会话历史记录和活动文档。包含嵌入内容的浏览上下文称为父浏览上下文。顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/embed" target="_blank" rel="noopener" title="HTML &lt;embed&gt; 元素将外部内容嵌入文档中的指定位置。此内容由外部应用程序或其他交互式内容源（如浏览器插件）提供。"><code>&lt;embed&gt;</code></a> 和<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/object" target="_blank" rel="noopener" title="HTML &lt;object&gt; 元素（或者称作 HTML 嵌入对象元素）表示引入一个外部资源，这个资源可能是一张图片，一个嵌入的浏览上下文，亦或是一个插件所使用的资源。"><code>&lt;object&gt;</code></a> 元素。<code>&lt;iframe&gt;</code> 用于嵌入其他网页，另外两个元素则允许您嵌入 PDF，SVG，甚至 Flash——一种正在被淘汰的技术，但您仍然会时不时的看到它。</p>
</blockquote>
<p>目的:   | 要了解如何使用嵌入物品进入网页<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object" target="_blank" rel="noopener" title="HTML &lt;object&gt;元素表示外部资源，可以将其视为图像，嵌套浏览上下文或要由插件处理的资源。"><code>&lt;object&gt;</code></a>，&nbsp;&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/embed" target="_blank" rel="noopener" title="HTML &lt;embed&gt;元素表示外部应用程序或交互式内容（换句话说，插件）的集成点。"><code>&lt;embed&gt;</code></a>以及<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML &lt;iframe&gt;元素表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。 在HTML 4.01中，文档可能包含一个头部和一个主体或头部和框架集，但不包括主体和框架集。 但是，一个&lt;iframe&gt;可以在普通文档正文中使用。 每个浏览上下文都有自己的会话历史和活动文档。 包含嵌入内容的浏览上下文称为父浏览上下文。 顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a>，像Flash电影和其他网页。</p>
<h2 id="一、嵌入的简史"><a href="#一、嵌入的简史" class="headerlink" title="一、嵌入的简史"></a>一、嵌入的简史</h2><p>很久以前，在网络上使用 <strong>框架</strong><br>创建网站 - 有一小部分存储于个人 HTML 页面的网站是受欢迎的。这些嵌入在一个称为 <strong>框架集</strong><br>的主文档中，允许您指定每个框架填充的屏幕上的区域，而不是像表格的列和行的大小。这些被认为是 90 年代中期至 90 年代的凉爽的高度，有证据表明，将网页分解成较小的块，这样更适合下载速度 - 尤其是网络连接如此缓慢。然而，他们有很多问题，远远超过网络速度更快的任何积极因素，所以你看不到它们被使用了。过了一段时间后（20世纪90年代末，21世纪初），插件技术变得非常受欢迎，例如 <a href="https://developer.mozilla.org/en-US/docs/Glossary/Java" target="_blank" rel="noopener">Java Applet</a>和 <a href="https://developer.mozilla.org/en-US/docs/Glossary/Adobe_Flash" target="_blank" rel="noopener">Flash</a>- 这些允许网络开发者将丰富的内容嵌入到视频和动画等网页中，这些网页只能通过 HTML 单独使用。嵌入这些技术是通过诸如 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object" target="_blank" rel="noopener" title="HTML &lt;object&gt;元素表示外部资源，可以将其视为图像，嵌套浏览上下文或要由插件处理的资源。"><code>&lt;object&gt;</code></a>和较少使用 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/embed" target="_blank" rel="noopener" title="HTML &lt;cke:embed&gt;&lt;/cke:embed&gt;元素表示外部应用程序或交互式内容（换句话说，插件）的集成点。"><code>&lt;embed&gt;</code></a>的元素来实现的，当时它们非常有用。由于许多问题，包括可访问性、安全性、文件大小等，它们已经过时了;&nbsp;现如今，大多数移动设备不再支持这样的插件，桌面也逐渐不再支持。最后，<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML &lt;iframe&gt;元素表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。 在HTML 4.01中，文档可能包含一个头部和一个主体或头部和框架集，但不包括主体和框架集。 但是，一个&lt;iframe&gt;可以在普通文档正文中使用。 每个浏览上下文都有自己的会话历史和活动文档。 包含嵌入内容的浏览上下文称为父浏览上下文。 顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a>元素出现了（连同其他嵌入内容的方式，如<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas" target="_blank" rel="noopener" title="使用HTML &lt;canvas&gt;元素与canvas脚本API来绘制图形和动画。"><code>&lt;canvas&gt;</code></a>，<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="使用HTML &lt;video&gt;元素将视频内容嵌入到文档中。"><code>&lt;video&gt;</code></a>等），它提供了一种将整个 web 页嵌入到另一个网页的方法，看起来就像那个 web 页是另一个网页的一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt;）代表文档中的一个图像。"><code>&lt;img&gt;</code></a>或其他元素一样。<a href="https://developer.mozilla.org/zh-CN/ocs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML内联框架元素 &lt;iframe&gt;表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。在HTML 4.01中，文档可能包含头部和正文，或头部和框架集，但不能包含正文和框架集。但是，&lt;iframe&gt;可以在正常的文档主体中使用。每个浏览上下文都有自己的会话历史记录和活动文档。包含嵌入内容的浏览上下文称为父浏览上下文。顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a>现在经常被使用。了解完历史之后，让我们继续往下看以了解如何使用它们。</p>
<h2 id="二、自主学习：嵌入类型的使用"><a href="#二、自主学习：嵌入类型的使用" class="headerlink" title="二、自主学习：嵌入类型的使用"></a>二、自主学习：嵌入类型的使用</h2><p>在这篇文章中，我们将直接进入自主学习部分，立即让你体会到嵌入技术的实用性。大家都非常熟悉<a href="https://www.youtube.com/" target="_blank" rel="noopener">Youtube</a><br>，但很多人不了解它所提供的一些分享功能。让我们来看看 Youtube 如何让我们通过 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML &lt;iframe&gt;元素表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。 在HTML 4.01中，文档可能包含一个头部和一个主体或头部和框架集，但不包括主体和框架集。 但是，一个&lt;iframe&gt;可以在普通文档正文中使用。 每个浏览上下文都有自己的会话历史和活动文档。 包含嵌入内容的浏览上下文称为父浏览上下文。 顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a><br>在页面中嵌入喜欢的视频。</p>
<ol>
<li>首先，去Youtube找一个喜欢的视频。</li>
<li>在视频下方，您会看到一个_共享_按钮 - 点击查看共享选项。</li>
<li>选择“&nbsp;_嵌入”_选项卡，您将得到一些<code>&lt;iframe&gt;</code>代码 - 复制一下。</li>
<li>粘贴到下面的_输入_框里，看看_输出_结果是什么。</li>
</ol>
<p>此外，您还可以试试在示例中嵌入<a href="https://www.google.com/maps/" target="_blank" rel="noopener">Google地图</a></p>
<ol>
<li>去Google地图找一个喜欢的地图。</li>
<li>点击UI左上角的“汉堡菜单”（三条水平线）。</li>
<li>选择_共享或嵌入地图_选项。</li>
<li>选择嵌入地图选项，这将给你一些<code>&lt;iframe&gt;</code>代码 - 复制一下。</li>
<li>粘贴到下面的_输入_框，看看_输出_结果是什么。</li>
</ol>
<p>如果你犯了某些错误，你可以点击_Reset按钮以重置编辑器。_如果你确实被卡住了， 按下Show _solution按钮以借鉴答案</p>
<h6 id="Playable-code"><a href="#Playable-code" class="headerlink" title="Playable code"></a>Playable code</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Input<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"code"</span> <span class="attr">class</span>=<span class="string">"input"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Output<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"output"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"reset"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Reset"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"solution"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Show solution"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Open Sans Light'</span>,Helvetica,Arial,sans-serif;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.input</span>, <span class="selector-class">.output</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="number">10em</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#0095dd</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: auto;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.output</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="number">14em</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">"code"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reset = <span class="built_in">document</span>.getElementById(<span class="string">"reset"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> code = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> output = <span class="built_in">document</span>.querySelector(<span class="string">".output"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> solution = <span class="built_in">document</span>.getElementById(<span class="string">"solution"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawOutput</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  output.innerHTML = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">reset.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  textarea.value = code;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  drawOutput();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">solution.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">textarea.value = <span class="string">'&lt;iframe width="420" height="315" src="https://www.youtube.com/embed/QH2-TGUlwu4" frameborder="0" allowfullscreen&gt;\n&lt;/iframe&gt;'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  drawOutput();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">textarea.addEventListener(<span class="string">"input"</span>, drawOutput);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, drawOutput);</span></pre></td></tr></table></figure>

<iframe src="https://mdn.mozillademos.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/%E5%85%B6%E4%BB%96%E5%B5%8C%E5%85%A5%E6%8A%80%E6%9C%AF$samples/Playable_code?revision=1347732" class="live-sample-frame sample-code-frame" height="600" width="700" id="frame_Playable_code" frameborder="0"></iframe>

<p><button class="open-in-host button neutral">在 CodePen 中打开 <i class="icon-codepen" aria-hidden="true"></i></button></p>
<p><button class="open-in-host button neutral">在 JSFiddle 中打开 <i class="icon-jsfiddle" aria-hidden="true"></i></button></p>
<h2 id="三、Iframe-详解"><a href="#三、Iframe-详解" class="headerlink" title="三、Iframe 详解"></a>三、Iframe 详解</h2><p>是不是很简单又有趣呢？<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML &lt;iframe&gt;元素表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。 在HTML 4.01中，文档可能包含一个头部和一个主体或头部和框架集，但不包括主体和框架集。 但是，一个&lt;iframe&gt;可以在普通文档正文中使用。 每个浏览上下文都有自己的会话历史和活动文档。 包含嵌入内容的浏览上下文称为父浏览上下文。 顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a><br>元素旨在允许您将其他Web文档嵌入到当前文档中。这很适合将第三方内容纳入您的网站，您可能无法直接控制，也不希望实现自己的版本 - 例如来自在线视频提供商的视频，<a href="https://disqus.com/" target="_blank" rel="noopener">Disqus</a><br>等评论系统，在线地图提供商，广告横幅等。您通过本课程使用的实时可编辑示例使用<code>&lt;iframe&gt;</code>实现。我<br>们会在后面提到，关于<code>&lt;iframe&gt;</code>有一些严重的<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/%E5%85%B6%E4%BB%96%E5%B5%8C%E5%85%A5%E6%8A%80%E6%9C%AF#安全隐患" target="_blank" rel="noopener">安全隐患</a>需要考虑，但这并不意味着你不应该在你的网站上使用它们 - 它只需要一些知识和仔细的思考。让我们更详细地探索这些代码。假设您想在其中一个网页上加入 MDN 词汇表，您可以尝试以下方式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"https://developer.mozilla.org/en-US/docs/Glossary"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">        <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"500"</span> <span class="attr">frameborder</span>=<span class="string">"0"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">        <span class="attr">allowfullscreen</span> <span class="attr">sandbox</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://developer.mozilla.org/en-US/docs/Glossary"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    Fallback link for browsers that don't support iframes</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></pre></td></tr></table></figure>

<p>此示例包括使用以下所需的基本要素 <code>&lt;iframe&gt;</code></p>
<ul>
<li><code>[allowfullscreen](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-allowfullscreen)</code> 如果设置，<code>&lt;iframe&gt;</code> 则可以使用<a href="https://developer.mozilla.org/en-US/docs/Web/Apps/Fundamentals/User_notifications/Full_screen_api" target="_blank" rel="noopener">全屏API</a>放置在全屏模式（稍微超出本文的范围）。</li>
<li><code>[frameborder](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-frameborder)</code> 如果设置为 1，则会告诉浏览器在此框架和其他框架之间绘制边框，这是默认行为。0 删除边框。不推荐这样设置，因为在 <code>&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/CSS&quot; title=&quot;CSS：CSS（Cascading Style Sheets）是一种声明式语言，用于控制浏览器中网页的外观。&quot;&gt;CSS中&lt;/a&gt;</code> 可以更好地实现相同的效果。<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/border" target="_blank" rel="noopener" title="边框CSS属性是用于一次设置所有单个边框属性值的缩写属性：border-width，border-style和border-color。 与所有速记属性一样，未指定的任何单个值都将设置为其对应的初始值。 重要的是，边框不能用于指定border-image的自定义值，而是将其设置为其初始值，即none。"><code>border</code></a><code>: none;</code></li>
<li><code>[src](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-src)</code><br>该属性与<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="使用HTML &lt;video&gt;元素将视频内容嵌入到文档中。"><code>&lt;video&gt;</code></a></li>
<li><code>[&lt;img&gt;](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img &quot;HTML &lt;img&gt;元素表示文档中的图像。&quot;)</code>一样包含指向要嵌入的文档的URL的路径。</li>
<li><code>[width](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-width)</code>和<code>[height](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-height)</code>这些属性指定您想要的iframe的宽度和高度。</li>
<li>备选内容与<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="使用HTML &lt;video&gt;元素将视频内容嵌入到文档中。"><code>&lt;video&gt;</code></a>等其他类似元素相同，您可以在打开和关闭<code>&lt;iframe&gt;&lt;/iframe&gt;</code>标签之间包含备选内容，如果浏览器不支持，将会显示 <code>&lt;iframe&gt;</code>。在这种情况下，我们已经添加了一个链接到页面。您几乎不可能遇到任何不支持<code>&lt;iframe&gt;</code>的浏览器。</li>
<li><code>[sandbox](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-sandbox)</code>该属性比其他<code>&lt;iframe&gt;</code>功能（例如IE 10及更高版本）稍微更现代的浏览器工作，要求提高安全性设置;我们将在下一节中再说一遍。</li>
</ul>
<p><strong>注意</strong>：为了提高速度，在主内容完成加载后，使用 JavaScript 设置 iframe 的 <code>src</code>属性是个好主意。这使您的页面可以更快地使用，并减少您的官方页面加载时间（重要的<a href="https://developer.mozilla.org/en-US/docs/Glossary/SEO" target="_blank" rel="noopener" title="SEO：SEO（搜索引擎优化）是使网站在搜索结果中更加可见的过程，也称为提高搜索排名。">SEO</a>指标）。</p>
<h3 id="3-1-安全隐患"><a href="#3-1-安全隐患" class="headerlink" title="3.1 安全隐患"></a>3.1 安全隐患</h3><p>以上我们提到了安全问题 - 现在我们来详细介绍一下这一点。我们并不期望您第一次完全理解所有这些内容;我们只想让您意识到这一问题，并为您提供参考，让您更有经验，并开始考虑 <code>&lt;iframe&gt;</code><br>在您的实验和工作中使用。此外，没有必要害怕和不使用 <code>&lt;iframe&gt;</code> - 你只需要谨慎一点。继续看下去…<br>浏览器制造商和 Web 开发人员已经学会了如何使用 iframe 作为网络上的坏人（通常被称为<strong>黑客</strong>，或更准确地说是<strong>破解者</strong>）的共同目标（官方术语：<strong>攻击向量</strong><br>），如果他们试图恶意修改您的网页或欺骗人们进行不想做的事情，例如显示用户名和密码等敏感信息。因此，规范工程师和浏览器开发人员已经开发了各种安全机制，使其更加安全，并且还有最佳实践要考虑 - 我们将在下面介绍其中的一些。<code>&lt;iframe&gt;</code> <a href="https://en.wikipedia.org/wiki/Clickjacking" target="_blank" rel="noopener" title="点击劫持">单击劫持</a>是一种常见的 iframe 攻击，黑客将隐藏的 iframe 嵌入到您的文档中（或将您的文档嵌入自己的恶意网站），并使用它来捕获用户的交互。这是误导用户或窃取敏感数据的常见方式。一个快速的例子，尽管如此 - 尝试加载在浏览器中上面的例子 - 你可以<a href="http://mdn.github.io/learning-area/html/multimedia-and-embedding/other-embedding-technologies/iframe-detail.html" target="_blank" rel="noopener">在Github上找到它</a><br>（<a href="https://github.com/mdn/learning-area/blob/gh-pages/html/multimedia-and-embedding/other-embedding-technologies/iframe-detail.html" target="_blank" rel="noopener">参见源代码</a><br>）。你不会看到页面上显示的内容，如果你点击<code>&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools&quot;&gt;浏览器开发者工具&lt;/a&gt;</code>中的控制台<br>，你会看到一条消息，告诉你为什么。在 Firefox 中，您会<em>被 X-Frame-Options 拒绝加载：<code>https://developer.mozilla.org/en-US/docs/Glossary</code> 不允许框架化</em><br>。这是因为构建 MDN 的开发人员已经在服务于网站页面的服务器上设置了一个不允许嵌入 <code>&lt;iframe&gt;</code><br>的设置（请参阅<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies#配置CSP指令" target="_blank" rel="noopener">配置CSP指令</a><br>）这是有必要的 - 整个 MDN 页面嵌入在其他页面中并不真实，除非您想要将其嵌入到您的网站上并将其声称为自己的内容，或尝试通过以下方式窃取数据：点击劫持，这两个都是非常糟糕的事情。此外，如果每个人都开始这样做，所有额外的带宽将开始花费 Mozilla 很多资金。</p>
<h4 id="3-1-1-只有在必要时嵌入"><a href="#3-1-1-只有在必要时嵌入" class="headerlink" title="3.1.1 只有在必要时嵌入"></a>3.1.1 只有在必要时嵌入</h4><p>有时嵌入第三方内容（例如YouTube视频和地图）是有意义的，但如果您只在完全需要时嵌入第三方内容，您可以省去很多麻烦。网络安全的一个很好的经验法则是_“你怎么谨慎都不为过，如果你决定要做这件事，多检查一遍；如果是别人做的，在被证明是安全的之前，都假设这是危险的。”_除了安全问题，你还应该意识到知识产权问题。无论在线内容还是离线内容，绝大部分内容都是有版权的，甚至是一些你没想到有版权的内容（例如，<a href="https://commons.wikimedia.org/wiki/Main_Page" target="_blank" rel="noopener">Wikimedia Commons</a>上的大多数图片）。不要在网页上展示一些不属于你的内容，除非你是所有者或所有者给了你明确的、书面的许可。对于侵犯版权的惩罚是严厉的。再说一次，你再小心也不为过。如果内容获得许可，你必须遵守许可条款。例如，MDN 上的内容是<a href="https://developer.mozilla.org/zh-CN/docs/MDN/About#%E7%89%88%E6%9D%83%E5%92%8C%E8%AE%B8%E5%8F%AF" target="_blank" rel="noopener">在CC-BY-SA下许可的</a>，这意味着，如果你要引用我们的内容，就必须<a href="https://wiki.creativecommons.org/wiki/Best_practices_for_attribution" target="_blank" rel="noopener">用适当的方式注明来源</a>，即使你对内容做了实质性的修改。</p>
<h4 id="3-1-2-使用-HTTPS"><a href="#3-1-2-使用-HTTPS" class="headerlink" title="3.1.2 使用 HTTPS"></a>3.1.2 使用 HTTPS</h4><p><a href="https://developer.mozilla.org/en-US/docs/Glossary/HTTPS" target="_blank" rel="noopener" title="HTTPS：HTTPS（HTTP Secure）是HTTP协议的加密版本。 它通常使用SSL或TLS来加密客户端和服务器之间的所有通信。 这种安全连接允许客户端安全地与服务器交换敏感数据，例如用于银行活动或在线购物。">HTTPS</a>是<a href="https://developer.mozilla.org/en-US/docs/Glossary/HTTP" target="_blank" rel="noopener" title="HTTP：HTTP（超文本传输​​协议）是启用Web上文件传输的基本协议。 HTTP是文本的（所有的通信都是以纯文本形式进行的）和无状态的（没有通信知道以前的通信）。">HTTP</a>的加密版本。您应该尽可能使用 HTTPS 为您的网站提供服务：</p>
<ol>
<li>HTTPS 减少了远程内容在传输过程中被篡改的机会，</li>
<li>HTTPS 防止嵌入式内容访问您的父文档中的内容，反之亦然。</li>
</ol>
<p>使用 HTTPS 需要一个安全证书，这可能是昂贵的（尽管<a href="https://letsencrypt.org/" target="_blank" rel="noopener">Let’s Encrypt</a>让这件事变得更容易），如果你没有，可以使用 HTTP 来为你的父文档提供服务。但是，由于 HTTPS 的第二个好处，_无论成本如何，您绝对不能使用 HTTP 嵌入第三方内容_（在最好的情况下，您的用户的 Web 浏览器会给他们一个可怕的警告）。所有有声望的公司，例如 Google Maps 或 Youtube，当您嵌入内容时，<code>&lt;iframe&gt;</code> 将通过 HTTPS 提供 - 查看 <code>&lt;iframe&gt;</code> <code>src</code> 属性内的 URL。</p>
<p><strong>注意</strong><br>：<a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/Using_Github_pages" target="_blank" rel="noopener">Github页面</a>允许默认情况下通过 HTTPS 提供内容，因此对托管内容很有用。如果您正在使用不同的托管，并且不确定，请向您的托管服务商询问。</p>
<h4 id="3-1-3-始终使用-sandbox"><a href="#3-1-3-始终使用-sandbox" class="headerlink" title="3.1.3 始终使用 sandbox"></a>3.1.3 始终使用 <code>sandbox</code></h4><p>属性你想给攻击者尽可能少的机会在你的网站上做坏事，那么你应该只给嵌入式内容<em>工作所需的权限。</em><br>当然，这也适用于你自己的内容。一个代码可以适当使用或用于测试的容器，但不能对其他代码库（意外或恶意）造成任何损害称为<a href="https://en.wikipedia.org/wiki/Sandbox_(computer_security)" target="_blank" rel="noopener">沙箱</a>。未沙盒化(Unsandboxed)内容可以做得太多（执行 JavaScript，提交表单，弹出窗口等）默认情况下，您应该使用没有参数的 <code>sandbox</code>属性来强制执行所有可用的限制，如我们前面的示例所示。如果绝对需要，您可以逐个添加权限（<code>sandbox=&quot;&quot;</code>属性值内） - 请参阅<code>[sandbox](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-sandbox)</code>所有可用选项的参考条目。其中重要的一点是，你_永远不_应该同时添加<code>allow-scripts</code>和<code>allow-same-origin</code>到你的<code>sandbox</code>属性中-在这种情况下，嵌入的内容可以绕过，从执行脚本停止网站同源安全策略，并使用 JavaScript 来关闭完全沙箱。<br><strong>注意</strong>：如果攻击者可以直接（外部<code>iframe</code>）愚弄人们访问恶意内容，Sandboxing 不提供任何保护。如果某些内容有可能是恶意的（例如，用户生成的内容），请将其从不同的<a href="https://developer.mozilla.org/en-US/docs/Glossary/domain" target="_blank" rel="noopener" title="域：域是计算机网络的一部分，其中一个实体控制数据处理资源，例如网站。">域服务</a>到您的主要网站。</p>
<h4 id="3-1-4-配置-CSP-指令"><a href="#3-1-4-配置-CSP-指令" class="headerlink" title="3.1.4 配置 CSP 指令"></a>3.1.4 配置 CSP 指令</h4><p><a href="https://developer.mozilla.org/en-US/docs/Glossary/CSP" target="_blank" rel="noopener" title="CSP：CSP（内容安全策略）用于检测和减轻某些类型的网站相关攻击，如XSS和数据注入。">CSP</a>代表<strong><a href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP" target="_blank" rel="noopener">内容安全策略</a></strong><br>，它提供<a href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives" target="_blank" rel="noopener">一组HTTP标头</a>（由web服务器发送时与元数据一起发送的元数据），旨在提高HTML文档的安全性。在<code>&lt;iframe&gt;</code>安全性方面，您可以_<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options" target="_blank" rel="noopener">将服务器配置为发送适当的 <code>X-Frame-Options</code>标题。</a>这样做可以防止其他网站在其网页中嵌入您的内容（这将导致<a href="https://en.wikipedia.org/wiki/clickjacking" target="_blank" rel="noopener" title="点击劫持">点击</a>和一系列其他攻击），正如我们之前看到的那样，MDN 开发人员已经做了这些工作。</p>
<p><strong>注意</strong><br>：您可以阅读 Frederik Braun 的帖子<br><code>&lt;a href=&quot;https://blog.mozilla.org/security/2013/12/12/on-the-x-frame-options-security-header/&quot; class=&quot;external external-icon&quot; rel=&quot;noopener&quot;&gt;在X-Frame-Options安全性头上&lt;/a&gt;</code>获取有关此主题的更多背景信息。显然，在这篇文章中已经解释得很清楚了。</p>
<h2 id="四、-lt-embed-gt-和-lt-object-gt-元素"><a href="#四、-lt-embed-gt-和-lt-object-gt-元素" class="headerlink" title="四、&lt;embed&gt; 和 &lt;object&gt; 元素"></a>四、&lt;embed&gt; 和 &lt;object&gt; 元素</h2><p><a href="https:/`/developer.mozilla.org/en-US/docs/Web/HTML/Element/embed" target="_blank" rel="noopener">embed</a> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object" target="_blank" rel="noopener">object</a> 元素的功能不同于<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener">iframe</a>——这些元素是用来嵌入多种类型的外部内容的通用嵌入工具，其中包括像 Java 小程序和 Flash，PDF（可在浏览器中显示为一个 PDF 插件）这样的插件技术，甚至像视频，SVG 和图像的内容！</p>
<p><strong>注意</strong>：<strong>插件</strong>是一种对浏览器原生无法读取的内容提供访问权限的软件。然而，您不太可能使用这些元素 - Applet 几年来一直没有被使用；由于许多原因，Flash 不再受欢迎（见下面的<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies#The_case_against_plugins" target="_blank" rel="noopener">插件案例</a>）；PDF 更倾向于被链接而不是被嵌入；其他内容，如图像和视频都有更优秀、更容易元素来处理。插件和这些嵌入方法真的是一种传统技术，我们提及它们主要是为了以防您在某些情况下遇到问题，比如内部网或企业项目等。如果您发现自己需要嵌入插件内容，那么您至少需要一些这样的信息：</p>
<p><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/embed-object.png" alt=""></p>
<p><strong>注意</strong>：&lt;<code>object&gt;``需要</code>data<code>属性，</code>type<code>属性或两者。如果您同时使用这两个，您也可以使用该</code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object#attr-typemustmatch" target="_blank" rel="noopener">typemustmatch</a><code>属性（仅在Firefox中实现，在本文中）。</code>typemustmatch<code>保持嵌入文件不运行，除非</code>type<code>属性提供正确的媒体类型。</code>typemustmatch`因此，当您嵌入来自不同<a href="https://developer.mozilla.org/en-US/docs/Glossary/origin" target="_blank" rel="noopener" title="来源：Web内容的起源由方案（协议），主机（域）和用于访问它的URL的端口定义。 只有当方案，主机和端口都匹配时，两个对象具有相同的原点。">来源的</a>内容（可以防止攻击者通过插件运行任意脚本）时，可以赋予重要的安全优势。</p>
<p>下面是一个使用该<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/embed" target="_blank" rel="noopener" title="HTML &lt;embed&gt;元素表示外部应用程序或交互式内容（换句话说，插件）的集成点。"><code>&lt;embed&gt;</code></a>元素嵌入 Flash 影片的示例（请参阅此处的<a href="http://mdn.github.io/learning-area/html/multimedia-and-embedding/other-embedding-technologies/embed-flash.html" target="_blank" rel="noopener">Github</a>，并<a href="https://github.com/mdn/learning-area/blob/gh-pages/html/multimedia-and-embedding/other-embedding-technologies/embed-flash.html" target="_blank" rel="noopener">检查源代码</a>）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">"whoosh.swf"</span> <span class="attr">quality</span>=<span class="string">"medium"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">bgcolor</span>=<span class="string">"#ffffff"</span> <span class="attr">width</span>=<span class="string">"550"</span> <span class="attr">height</span>=<span class="string">"400"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">name</span>=<span class="string">"whoosh"</span> <span class="attr">align</span>=<span class="string">"middle"</span> <span class="attr">allowScriptAccess</span>=<span class="string">"sameDomain"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">allowFullScreen</span>=<span class="string">"false"</span> <span class="attr">type</span>=<span class="string">"application/x-shockwave-flash"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">pluginspage</span>=<span class="string">"http://www.macromedia.com/go/getflashplayer"</span>&gt;</span></span></pre></td></tr></table></figure>

<p>很可怕，不是吗 。Adobe Flash 工具生成的 HTML 往往更糟糕，使用嵌入 <code>&lt;object&gt;</code> 元素的 <code>&lt;embed&gt;</code><br>元素来覆盖所有的基础（查看一个例子）。甚至有一段时间，Flash 被成功地用作 HTML5 视频的备用内容，但是这种情况越来越被认为是不必要的。现在来看一个 <code>&lt;object&gt;</code><br>将 PDF 嵌入一个页面的例子（参见 <code>&lt;a href=&quot;http://mdn.github.io/learning-area/html/multimedia-and-embedding/other-embedding-technologies/object-pdf.html&quot; class=&quot;external external-icon&quot; rel=&quot;noopener&quot;&gt;实例&lt;/a&gt;</code>和<a href="https://github.com/mdn/learning-area/blob/gh-pages/html/multimedia-and-embedding/other-embedding-technologies/object-pdf.html" target="_blank" rel="noopener">源代码</a><br>）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">"mypdf.pdf"</span> <span class="attr">type</span>=<span class="string">"application/pdf"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">        <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"1200"</span> <span class="attr">typemustmatch</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>You don't have a PDF plugin, but you can <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"myfile.pdf"</span>&gt;</span>download the PDF file.<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">object</span>&gt;</span></span></pre></td></tr></table></figure>

<p>PDF 是纸与数据之间重要的阶梯，但它们<a href="http://webaim.org/techniques/acrobat/acrobat" target="_blank" rel="noopener">在可访问性上有些问题</a><br><code>&lt;a href=&quot;http://webaim.org/techniques/acrobat/acrobat&quot; class=&quot;external external-icon&quot; rel=&quot;noopener&quot;&gt;，&lt;/a&gt;</code>并且可能难以在小屏幕上阅读。它们在一些圈子中仍然受欢迎，我们最好是用链接指向它们，而不是将其嵌入到网页中，以便它们可以在单独的页面上被下载或被阅读。</p>
<h3 id="4-1-针对插件的情况"><a href="#4-1-针对插件的情况" class="headerlink" title="4.1 针对插件的情况"></a>4.1 针对插件的情况</h3><p>以前，插件在网络上是不可或缺的。还记得你必须安装 Adobe Flash Player 才能在线观看电影的日子吗？并且你还会不断地收到关于更新 Flash Player 和 Java 运行环境的烦人警报。Web 技术已经变得更加强大，那些日子已经结束了。对于大多数应用程序，现在是停止依赖插件传播内容，开始利用 Web 技术的时候了。</p>
<ul>
<li><p><strong>扩大你对大家的影响力。</strong></p>
<p>  每个人都有一个浏览器，但插件越来越少，特别是在移动用户中。由于 Web 在很大程度上不需要依赖插件而运行，所以人们宁愿只是去竞争对手的网站而不是安装插件。</p>
</li>
<li><p><strong>从 Flash 和其他插件附带的<a href="http://webaim.org/techniques/flash/" target="_blank" rel="noopener">额外辅助功能头痛</a><br>中脱颖而出。</strong></p>
</li>
<li><p><strong>避免额外的安全隐患。</strong></p>
<p>  即使经过无数次补丁<a href="http://www.cvedetails.com/product/6761/Adobe-Flash-Player.html?vendor_id=53" target="_blank" rel="noopener">，</a>&nbsp;Adobe Flash也是<a href="http://www.cvedetails.com/product/6761/Adobe-Flash-Player.html?vendor_id=53" target="_blank" class="external external-icon" rel="noopener noopener">非常不安全的</a>。2015年，Facebook的首席安全官Alex Stamos甚至<a href="http://www.theverge.com/2015/7/13/8948459/adobe-flash-insecure-says-facebook-cso" target="_blank" rel="noopener">要求Adobe停止Flash。</a></p>
</li>
</ul>
<p>那你该怎么办？如果您需要交互性，HTML 和 <a href="https://developer.mozilla.org/en-US/docs/Glossary/JavaScript" target="_blank" rel="noopener" title="JavaScript：JavaScript（JS）是一种编程语言，主要用于客户端来动态地脚本化网页，但也常常是服务器端的。">JavaScript</a>可以轻松地为您完成工作，而不需要 Java 小程序或过时的 ActiveX / BHO 技术。您可以使用<a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Add_audio_or_video_content_to_a_webpage" target="_blank" rel="noopener">HTML5视频</a>来满足媒体需求，矢量图形<a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Add_vector_image_to_a_webpage" target="_blank" rel="noopener">SVG</a><br>，以及复杂图像和动画<a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial" target="_blank" rel="noopener">画布</a>。<a href="https://plus.google.com/+PeterElst/posts/P5t4pFhptvp" target="_blank" rel="noopener">彼得·埃尔斯特（Peter Elst）几年前已经在写</a>，对于工作Adobe Flash 极少是正确的工具，除了专门的游戏和商业应用。对于 ActiveX，即使微软的<a href="https://developer.mozilla.org/en-US/docs/Glossary/Microsoft_Edge" target="_blank" rel="noopener" title="Edge：Microsoft Edge是一种免费的图形Web浏览器，与Microsoft Windows捆绑在一起，由Microsoft自2014年开始。最初称为Spartan，Edge取代了长期以来的Microsoft浏览器Internet Explorer。">Edge</a><br>浏览器也不再支持。</p>
<h2 id="五、概要"><a href="#五、概要" class="headerlink" title="五、概要"></a>五、概要</h2><p>在 Web 文档中嵌入其他内容的主题可能会变得非常复杂，因此在本文中，我们尝试以一种简单而熟悉的方式来介绍它，它们有直接的关系，同时仍然暗示了一些涉及更高级功能的技术。首先，您不可能在包含第三方内容（如地图和视频）的网页上使用嵌入式广告。当你变得更有经验的时候，你可能会开始为他们找到更多的用途。除了我们在这里讨论的那些外，还有许多涉及嵌入外部内容的技术。我们看到了一些在前面的文章中出现的，如<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="使用HTML &lt;video&gt;元素将视频内容嵌入到文档中。"><code>&lt;video&gt;</code></a><br>，<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio" target="_blank" rel="noopener" title="HTML &lt;audio&gt;元素用于在文档中嵌入声音内容。 它可能包含一个或多个音频源，使用src属性或&lt;source&gt;元素表示：浏览器将选择最合适的一个。 它也可以是流媒体的目的地，使用MediaStream。"><code>&lt;audio&gt;</code></a><br>和<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML &lt;img&gt;元素表示文档中的图像。"><code>&lt;img&gt;</code></a>，但也有其它的有待关注，如&nbsp;&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas" target="_blank" rel="noopener" title="使用HTML &lt;canvas&gt;元素与canvas脚本API来绘制图形和动画。"><code>&lt;canvas&gt;</code></a>用于 JavaScript 生成的 2D 和 3D 图形，<code>[&lt;svg&gt;](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg &quot;关于此的文件尚未写入;  请考虑贡献！&quot;)</code>用于嵌入矢量图形。</p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/%E5%85%B6%E4%BB%96%E5%B5%8C%E5%85%A5%E6%8A%80%E6%9C%AF" target="_blank" rel="noopener"><br>从对象到iframe - 其他嵌入技术</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-05-01 </div>
			<div class="article-title"><a href="/2018/05/01/2018-05-01-html-video-and-audio/" >怎样把图片嵌入到 HTML 中(十)</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>现在我们可以轻松的为一张 web 网页添加简单的图像，下一步是开始为 HTML 文档添加音频和视频的播放器。在这篇文章当中，我们会学习到 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入视频内容。"><code>&lt;video&gt;</code></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio" target="_blank" rel="noopener" title="HTML &lt;audio&gt; 元素用于在文档中表示音频内容。 &lt;audio&gt; 元素可以包含多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述； 浏览器将会选择最合适的一个来使用。对于不支持&lt;audio&gt;元素的浏览器，&lt;audio&gt;元素也可以作为浏览器不识别的内容加入到文档中。"><code>&lt;audio&gt;</code></a> 两个标签；然后我们还将会看看如何为你的视频添加字幕。</p>
</blockquote>
<blockquote>
<p>前提: | 基础计算机能力，<a href="https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web/Installing_basic_software" target="_blank" rel="noopener">基础的软件安装</a>，基础的<a href="https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web/Dealing_with_files" target="_blank" rel="noopener">文件处理</a>知识，基础的 HTML 知识 (包括 <a href="https://developer.mozilla.org/zh-CN/docs/learn/HTML/Introduction_to_HTML/Getting_started" target="_blank" rel="noopener">Getting started with HTML</a> ) 以及 <a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML" target="_blank" rel="noopener">Images in HTML</a>.</p>
</blockquote>
<p>目标: | 学习如何在一张 web 页面中嵌入音频和视频，以及如何为视频添加字幕。</p>
<h2 id="一、web-中的音频和视频"><a href="#一、web-中的音频和视频" class="headerlink" title="一、web 中的音频和视频"></a>一、web 中的音频和视频</h2><p>web 开发者们一直以来想在 Web 中使用音频和视频，自 21 世纪初以来，我们的带宽开始能够支持任意类型的视频（视频文件比文本和图片要大的多）。在早些时候，传统的 web 技术（如 HTML ）不能够在 Web 中嵌入音频和视频，所以一些像 <a href="https://en.wikipedia.org/wiki/Adobe_Flash" target="_blank" rel="noopener">Flash</a> (后来有 <a href="https://en.wikipedia.org/wiki/Microsoft_Silverlight" target="_blank" rel="noopener">Silverlight</a> ) 的专利技术在处理这些内容上变得很受欢迎。这些技术能够正常的工作，但是却有着一系列的问题，包括无法很好的支持 HTML/CSS 特性、安全问题，以及可行性问题。</p>
<p>传统的解决方案能够解决许多这样的问题，前提是它能够正确的工作。幸运的是，几年之后 <a href="https://developer.mozilla.org/en-US/docs/Glossary/HTML5" target="_blank" rel="noopener" title="HTML5: The latest stable release of HTML, HTML5 takes HTML from a simple markup for structuring a document to a full app development platform. Among other features, HTML5 includes new elements and JavaScript APIs to enhance storage, multimedia, and hardware access.">HTML5</a> 标准提出，其中有许多的新特性，包括 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入视频内容。"><code>&lt;video&gt;</code></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio" target="_blank" rel="noopener" title="HTML &lt;audio&gt; 元素用于在文档中表示音频内容。 &lt;audio&gt; 元素可以包含多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述； 浏览器将会选择最合适的一个来使用。对于不支持 &lt;audio&gt; 元素的浏览器，&lt;audio&gt;元素也可以作为浏览器不识别的内容加入到文档中。"><code>&lt;audio&gt;</code></a> 标签，以及一些 <a href="https://developer.mozilla.org/en-US/docs/Glossary/JavaScript" target="_blank" rel="noopener" title="JavaScript: JavaScript (JS) is a programming language mostly used to dynamically script webpages on the client side, but it is also often utilized on the server-side, using packages such as Node.js.">JavaScript</a> 和 <a href="https://developer.mozilla.org/en-US/docs/Glossary/API" target="_blank" rel="noopener" title="APIs: An API (Application Programming Interface) is a set of features and rules that exist inside a software program enabling interaction between the software and other items, such as other software or hardware.">APIs</a> 用于对其进行控制。在这里，我们不讨论有关 JavaScript 的问题，仅仅讲解有关 HTML 的基础。</p>
<p>我们不会教你如何制作音频和视频，因为那需要一种完全不同的技术。我们已经为你提供了一些视频和音频的文件（ <a href="https://github.com/mdn/learning-area/tree/master/html/multimedia-and-embedding/video-and-audio-content" target="_blank" rel="noopener">sample audio and video files and example code</a> ）用于你进行试验，以防止你没有可进行试验的样本。</p>
<p><strong>Note</strong>: 在你开始之前，你应当了解一些 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/OVP" target="_blank" rel="noopener" title="The definition of that term (OVPs) has not been written yet; please consider contributing it!">OVPs</a> (在线视频提供商) 例如 <a href="https://www.youtube.com/" target="_blank" rel="noopener">YouTube</a> 、<a href="http://www.dailymotion.com/" target="_blank" rel="noopener">Dailymotion</a> 、 <a href="https://vimeo.com/" target="_blank" rel="noopener">Vimeo</a>, 以及在线音频提供商例如 <a href="https://soundcloud.com/" target="_blank" rel="noopener">Soundcloud</a>。这些公司提供方便、简单的方式来支持视频，所以你不必担心庞大的带宽消耗。OVPS 甚至提供现成的代码用于为你的 web 网页嵌入视频/音频。如果你使用那种服务，你便可以避免在这篇文章中我们将讨论的一些难题。在下一篇文章中，我们将会讨论这种服务。 </p>
<h3 id="1-1-lt-video-gt-标签"><a href="#1-1-lt-video-gt-标签" class="headerlink" title="1.1 &lt;video&gt; 标签"></a>1.1 <code>&lt;video&gt;</code> 标签</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入视频内容。"><code>&lt;video&gt;</code></a> 允许你简单的嵌入一段视频。一个简单的例子如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"rabbit320.webm"</span> <span class="attr">controls</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser doesn't support HTML5 video. Here is a <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"rabbit320.webm"</span>&gt;</span>link to the video<span class="tag">&lt;/<span class="name">a</span>&gt;</span> instead.<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></pre></td></tr></table></figure>

<p>当中的一些属性如下:</p>
<ul>
<li><code>[src](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-src)</code> 同 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a> 标签使用方式相同，src 属性指向你想要嵌入网页当中的视频资源，他们的使用方式完全相同。</li>
<li><code>[controls](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-controls)</code> 用户必须能够控制视频和音频的回放功能。你可以使用浏览器提供的控制接口，同时你也可以在 JavaScript （<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement" target="_blank" rel="noopener">JavaScript API</a>）当中使用这些控制接口。至少，这些媒体应该包括开始和停止，以及调整音量的功能。</li>
<li><code>&lt;video&gt;</code> 标签内的段落<br>这个叫做<strong>后备内容</strong> — 当浏览器不支持 <code>&lt;video&gt;</code> 标签的时候，它将会显示出来，它使我们能够对旧的浏览器做一些兼容处理。你可以添加任何后备内容，在这个例子中我们提供了一个指向这个视频文件的链接，从而使用户可以至少访问到这个文件，而不会局限于浏览器的支持。</li>
</ul>
<p>已嵌入视频文件的网页样式如下：</p>
<p><img src="https://mdn.mozillademos.org/files/12794/simple-video.png" alt="A simple video player showing a video of a small white rabbit"></p>
<p>你可以点击<a href="http://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/simple-video.html" target="_blank" rel="noopener">这里</a>查看网页，或者点击<a href="https://github.com/mdn/learning-area/blob/master/html/multimedia-and-embedding/video-and-audio-content/simple-video.html" target="_blank" rel="noopener">这里</a>查看源代码。</p>
<h3 id="1-2-多格式支持"><a href="#1-2-多格式支持" class="headerlink" title="1.2 多格式支持"></a>1.2 多格式支持</h3><p>以上的例子中有一个问题，你可能已经注意到了，如果你尝试使用像 Safari 或者 Internet Explorer 这些浏览器来访问上面的链接。视频并不会播放，这是因为不同的浏览器对视频格式的支持不同。</p>
<p>我们先来快速的了解一下术语。像 MP3、MP4、WebM 这些术语叫做<strong>容器格式</strong>。他们是用不同的方式来播放音频或者视频的 — 也就是说这些容器是用不同的音频轨道、视频轨道、元数据来呈现媒体文件的。</p>
<p>视频和音频都有不同的格式，如下:</p>
<ul>
<li>WebM 容器通常包括了 Ogg Vorbis 音频和 VP8/VP9 视频。主要在 FireFox 和 Chrome 当中支持。</li>
<li>MP4 容器通常包括 AAC 以及 MP3 音频和 H.264 视频。主要在 Internet Explorer 和 Safari 当中支持。</li>
<li>老式的 Ogg 容器往往支持 Ogg Vorbis  音频和 Ogg Theora 视频。主要在 Firefox 和 Chrome 当中支持，不过这个容器已经被更强大的 WebM 容器所取代。</li>
</ul>
<p>音频播放器将会直接播放音频文件,，例如 MP3 和 Ogg 文件。这些不需要容器。</p>
<p><strong>Note</strong>: 这并没有那么简单，你可以从这里看到 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Supported_media_formats#Browser_compatibility" target="_blank" rel="noopener">audio-video codec compatibility table</a>.。此外，许多移动平台的浏览器能够播放一些不支持的格式，但是它们用的却是底层系统的媒体播放器。但这也仅是现在支持。</p>
<p>以上的格式主要用于将音频和视频压缩成可管理的文件（原始的音频和视频文件非常大）。浏览器包含了不同的 <strong>[Codecs](<a href="https://developer.mozilla.org/en-US/docs/Glossary/Codec" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Glossary/Codec</a> “Codecs: A codec  (a blend word derived from “coder-decoder”) is a program, algorithm, or device that encodes or decodes a data stream. A given codec knows how to handle a specific encoding or compression technology.”)</strong>,，如 Vorbis 和 H.264,，它们用来将已压缩的音频和视频转化成二进制数字。正如刚才所说，浏览器并不全支持相同的 codecs，所以你得使用几个不同格式的文件来兼容不同的浏览器。如果你使用的格式都得不到浏览器的支持，那么媒体文件将不会播放。</p>
<p><strong>Note:</strong> 你也许会疑惑为什么会有这样的情况存在。<strong>MP3</strong>  (音频格式) 和 <strong>MP4/H.264</strong> (视频格式) 是被广泛支持的两种格式，并且质量良好。然而，他们却有专利的阻碍 — MP3 的专利会持续到 2017 年（就在我翻译这篇文章的当天，MP3 专利解除了），而 H.264 会持续到 2027 年早期。意思也就是说浏览器若想要支持这些格式，就得支付高额的费用。此外，许多人反对软件技术垄断，支持开源的格式。这就是为什么我们需要准备不同的格式来兼容不同的浏览器。</p>
<p>我们该怎么做呢？请看如下例子（你可以点击这里<a href="http://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/multiple-video-formats.html" target="_blank" rel="noopener">查看</a>网页，或者点击这里<a href="https://github.com/mdn/learning-area/blob/gh-pages/html/multimedia-and-embedding/video-and-audio-content/multiple-video-formats.html" target="_blank" rel="noopener">查看</a>源代码）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"rabbit320.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"rabbit320.webm"</span> <span class="attr">type</span>=<span class="string">"video/webm"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser doesn't support HTML5 video. Here is a <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"rabbit320.mp4"</span>&gt;</span>link to the video<span class="tag">&lt;/<span class="name">a</span>&gt;</span> instead.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></pre></td></tr></table></figure>

<p>现在我们将 src 属性从 <code>&lt;video&gt;</code> 标签中移除，转而将它放在几个单独的标签 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/source" target="_blank" rel="noopener" title="The HTML &lt;source&gt; element specifies multiple media resources for either the &lt;picture&gt;, the &lt;audio&gt; or the &lt;video&gt; element. It is an empty element. It is commonly used to serve the same media content in multiple formats supported by different browsers."><code>&lt;source&gt;</code></a> 当中。在这个例子当中，浏览器将会检查 <code>&lt;source&gt;</code>标签，并且播放第一个与其自身 codec 向匹配的媒体。你的视频应当包括 WebM 和 MP4 两种格式，这两种在目前已经足够支持大多数平台和浏览器。</p>
<p>每个 <code>&lt;source&gt;</code> 标签页含有一个 type 属性，这个属性是可选的，但是建议你添加上这个属性 — 它包含了视频文件的 [MIME types](<a href="https://developer.mozilla.org/en-US/docs/Glossary/MIME_type" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Glossary/MIME_type</a> “MIME types: A MIME type (now properly called “media type”, but also sometimes “content type”) is a string sent along with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled audio/ogg, or an image file image/png).”) ，同时浏览器也会通过检查这个属性来迅速的跳过那些不支持的格式。如果你没有添加 type 属性，浏览器会尝试加载每一个文件，直到找到一个能正确播放的格式，这样会消耗掉大量的时间和资源。</p>
<p><strong>Note</strong>: 你可以在这里（<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Supported_media_formats" target="_blank" rel="noopener">article on supported media formats</a>）查看有关 [MIME types](<a href="https://developer.mozilla.org/en-US/docs/Glossary/MIME_type" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Glossary/MIME_type</a> “MIME types: A MIME type (now properly called “media type”, but also sometimes “content type”) is a string sent along with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled audio/ogg, or an image file image/png).”) 的支持。</p>
<h3 id="1-3-其他-lt-video-gt-特性"><a href="#1-3-其他-lt-video-gt-特性" class="headerlink" title="1.3 其他 &lt;video&gt; 特性"></a>1.3 其他 <code>&lt;video&gt;</code> 特性</h3><p>这里有许多你可以用在 HTML5 <code>&lt;video&gt;</code> 上的特性，请看我们的第三个例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">"400"</span> <span class="attr">height</span>=<span class="string">"400"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">autoplay</span> <span class="attr">loop</span> <span class="attr">muted</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">poster</span>=<span class="string">"poster.png"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"rabbit320.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"rabbit320.webm"</span> <span class="attr">type</span>=<span class="string">"video/webm"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser doesn't support HTML5 video. Here is a <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"rabbit320.mp4"</span>&gt;</span>link to the video<span class="tag">&lt;/<span class="name">a</span>&gt;</span> instead.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></pre></td></tr></table></figure>

<p>这串代码将会给我们呈现出如下页面：</p>
<p><img src="https://mdn.mozillademos.org/files/12796/extra-video-features.png" alt="A video player showing a poster image before it plays. The poster image says HTML5 video example, OMG hell yeah!">新的特性：</p>
<ul>
<li><code>[width](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-width)</code> 和 <code>[height](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-height)</code> 你可以用属性控制视频的尺寸，也可以用 <a href="https://developer.mozilla.org/en-US/docs/Glossary/CSS" target="_blank" rel="noopener" title="CSS: CSS (Cascading Style Sheets) is a declarative language that controls how webpages look in the browser.">CSS</a> 来控制视频尺寸。 无论使用哪种方式，视频都会保持它原始的长宽比 — 也叫做<strong>纵横比</strong>。如果你设置的尺寸没有保持视频原始长宽比，那么视频边框将会拉伸，而未被视频内容填充的部分，将会显示默认的背景颜色。</li>
<li><code>[autoplay](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-autoplay)</code><br>这个属性会使音频和视频内容立即播放，即使页面的其他部分还没有加载完全。建议不要应用这个属性在你的网站上，因为用户们会比较反感自动播放的媒体文件。</dd></li>
<li><code>[loop](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-loop)</code>这个属性可以让音频或者视频文件循环播放。同样不建议使用，除非有必要。</dd></li>
<li><code>[muted](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-muted)</code><br>这个属性会导致媒体播放时，默认关闭声音。</li>
<li><code>[poster](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-poster)</code><br>这个属性指向了一个图像的URL，这个图像会在视频播放前显示。通常用于粗略的预览或者广告。</dd></li>
<li><code>[preload](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video#attr-preload)</code><br>这个属性被用来缓冲较大的文件，有 3 个值可选：<ul>
<li><code>&quot;none&quot;</code> ：不缓冲</li>
<li><code>&quot;auto&quot;</code> ：页面加载后缓存媒体文件</li>
<li><code>&quot;metadata&quot;</code> ：仅缓冲文件的元数据</li>
</ul>
</li>
</ul>
<p>你可以点击<a href="https://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/extra-video-features.html" target="_blank" rel="noopener">这里</a>查看以上的例子，也可以点击<a href="https://github.com/mdn/learning-area/blob/gh-pages/html/multimedia-and-embedding/video-and-audio-content/extra-video-features.html" target="_blank" rel="noopener">这里</a>查看源代码。注意我们并没有使用 autoplay 属性在这个版本的例子中 — 如果当页面一加载就开始播放视频的话，就不会看到 poster 属性的效果了。</p>
<h3 id="1-4-lt-audio-gt-标签"><a href="#1-4-lt-audio-gt-标签" class="headerlink" title="1.4 &lt;audio&gt; 标签"></a>1.4 <code>&lt;audio&gt;</code> 标签</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio" target="_blank" rel="noopener" title="HTML &lt;audio&gt; 元素用于在文档中表示音频内容。 &lt;audio&gt; 元素可以包含多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述； 浏览器将会选择最合适的一个来使用。对于不支持&lt;audio&gt;元素的浏览器，&lt;audio&gt;元素也可以作为浏览器不识别的内容加入到文档中。"><code>&lt;audio&gt;</code></a> 标签与 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入视频内容。"><code>&lt;video&gt;</code></a> 标签的使用方式几乎完全相同，有一些细微的差别比如下面的边框不同，一个典型的例子如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">controls</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"viper.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mp3"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"viper.ogg"</span> <span class="attr">type</span>=<span class="string">"audio/ogg"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser doesn't support HTML5 audio. Here is a <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"viper.mp3"</span>&gt;</span>link to the audio<span class="tag">&lt;/<span class="name">a</span>&gt;</span> instead.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></pre></td></tr></table></figure>

<p>这串代码将会产生如下的效果：</p>
<p><img src="https://mdn.mozillademos.org/files/12798/audio-player.png" alt="A simple audio player with a play button, timer, volume control, and progress bar"></p>
<p><strong>Note</strong>: 你可以点击这里<a href="http://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/multiple-audio-formats.html" target="_blank" rel="noopener">查看</a>以上例子，或者点击<a href="https://github.com/mdn/learning-area/blob/gh-pages/html/multimedia-and-embedding/video-and-audio-content/multiple-audio-formats.html" target="_blank" rel="noopener">这里</a>查看源代码。</p>
<p>音频播放器所占用的空间比视频播放器要小，由于它没有视觉部件 — 你只需要显示出能控制音频播放的控件。一些与 HTML5 <code>&lt;video&gt;</code> 的差异如下：</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio" target="_blank" rel="noopener" title="HTML &lt;audio&gt; 元素用于在文档中表示音频内容。 &lt;audio&gt; 元素可以包含多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述； 浏览器将会选择最合适的一个来使用。对于不支持&lt;audio&gt;元素的浏览器，&lt;audio&gt;元素也可以作为浏览器不识别的内容加入到文档中。"><code>&lt;audio&gt;</code></a> 标签不支持 width/height 属性 — 由于其并没有视觉部件，也就没有可以设置 width/height 的内容。</li>
<li>同时也不支持 poster 属性 — 同样，没有视觉部件。</li>
</ul>
<p>除此之外，<code>&lt;audio&gt;</code> 标签支持所有 <code>&lt;video&gt;</code> 标签拥有的特性 — 你可以回顾上面的章节来了解更多的有关信息。</p>
<h2 id="二、显示音轨文本"><a href="#二、显示音轨文本" class="headerlink" title="二、显示音轨文本"></a>二、显示音轨文本</h2><p>现在，我们将讨论一个略微先进的概念，这个概念将会十分的有用。许多人不想（或者不能）听到 Web 上的音频/视频内容，至少在某些情况下是这样的，比如：</p>
<ul>
<li>许多人患有听觉障碍（通常来说是很难听清声音的人，或者聋人），所以他们不能听见音频中的声音。</li>
<li>另外的情况可能是由于人们并不能听音频，可能是因为他们在一个非常嘈杂的环境当中（比如在一个拥挤的酒吧内恰好赶上了球赛 ），也可能是由于他们并不想打扰到其他人（比如在一个十分安静的地方，例如图书馆）。</li>
<li>有一些人他们不说音频当中的语言，所以他们听不懂，因此他们想要一个副本或者是翻译来帮助他们理解媒体内容。</li>
</ul>
<p>给那些听不懂音频语言的人们提供一个音频内容的副本岂不是一件很棒的事情吗？所以，感谢 HTML5 <code>&lt;video&gt;</code> 使之成为可能，有了 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Video_Text_Tracks_Format" target="_blank" rel="noopener">WebVTT</a> 格式，你可以使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/track" target="_blank" rel="noopener" title="HTML &lt;track&gt; 元素 被当作媒体元素—&lt;audio&gt; 和 &lt;video&gt;的子元素来使用。它允许指定计时字幕（或者基于事件的数据），例如自动处理字幕。"><code>&lt;track&gt;</code></a> 标签。</p>
<p><strong>Note</strong>: “副本”的意思是指，用文本记录下音频的内容。</p>
<p>WebVTT 是一个格式，用来编写文本文件，这个文本文件包含了众多的字符串，这些字符串会带有一些元数据，它们可以用来描述这个字符串将会在视频中显示的时间，甚至可以用来描述这些字符串的样式以及定位信息。这些字符串叫做 <strong>cues</strong> ，你可以根据不同的需求来显示不同的样式，最常见的如下：</p>
<ul>
<li>subtitle: 通过添加翻译字幕，来帮助那些听不懂外国语言的人们理解音频当中的内容。</li>
<li>captions: 同步翻译对白，或是描述一些有重要信息的声音，来帮助那些不能听音频的人们理解音频中的内容。</li>
<li>timed descriptions: 将文字转换为音频，用于服务那些有视觉障碍的人。</li>
</ul>
<p>一个典型的 WebVTT 文件如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">WEBVTT</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">00:00:22.230 --&gt; 00:00:24.606</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">This is the first subtitle.</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">2</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">00:00:30.739 --&gt; 00:00:34.074</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">This is the second.</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  ...</span></pre></td></tr></table></figure>

<p>让其与 HTML 媒体一起显示，你需要做如下工作：</p>
<ol>
<li>以 .vtt 后缀名保存文件。</li>
<li>用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/track" target="_blank" rel="noopener" title="HTML &lt;track&gt; 元素 被当作媒体元素—&lt;audio&gt; 和 &lt;video&gt;的子元素来使用。它允许指定计时字幕（或者基于事件的数据），例如自动处理字幕。"><code>&lt;track&gt;</code></a> 标签链接 .vtt 文件， <code>&lt;track&gt;</code> 标签需放在 <code>&lt;audio&gt;</code> 或 <code>&lt;video&gt; 标签当中</code>，同时需要放在所有 <code>&lt;source&gt;</code> 标签之后。使用 <code>[kind](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/track#attr-kind)</code> 属性来指明是哪一种类型，如 subtitles 、 captions 、 descriptions。然后，使用 <code>[srclang](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/track#attr-srclang)</code> 来告诉浏览器你是用什么语言来编写的 subtitles。</li>
</ol>
<p>如下:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"example.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"example.webm"</span> <span class="attr">type</span>=<span class="string">"video/webm"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">track</span> <span class="attr">kind</span>=<span class="string">"subtitles"</span> <span class="attr">src</span>=<span class="string">"subtitles_en.vtt"</span> <span class="attr">srclang</span>=<span class="string">"en"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></pre></td></tr></table></figure>

<p>上面这串代码会显示一段带有字幕的视频，如下：</p>
<p><img src="https://mdn.mozillademos.org/files/7887/video-player-with-captions.png" alt="Video player with stand controls such as play, stop, volume, and captions on and off. The video playing shows a scene of a man holding a spear-like weapon, and a caption reads &quot;Esta hoja tiene pasado oscuro.&quot;"></p>
<p>如果你想了解更多细节，你可以阅读 <a href="https://developer.mozilla.org/en-US/Apps/Build/Audio_and_video_delivery/Adding_captions_and_subtitles_to_HTML5_video" target="_blank" rel="noopener">Adding captions and subtitles to HTML5 video</a>。在 Github 上你可以找到与本文相关的样例，他们由 Ian Devlin 编写，点击<a href="http://iandevlin.github.io/mdn/video-player-with-captions/" target="_blank" rel="noopener">这里</a>可以查看该样例，或者点击<a href="https://github.com/iandevlin/iandevlin.github.io/tree/master/mdn/video-player-with-captions" target="_blank" rel="noopener">这里</a>查看源代码。这个样例使用了 JavaScript 代码，它使得用户可以选择不同的字幕。注意，若想要显示字幕，你需要点击 “CC” 按钮，并且选择一种语言 — English, Deutsch, 或 Español。</p>
<p><strong>Note</strong>: 文本轨道会使你的网站更容易被搜索引擎抓取到 （<a href="https://developer.mozilla.org/en-US/docs/Glossary/SEO" target="_blank" rel="noopener" title="SEO: SEO (Search Engine Optimization) is the process of making a website more visible in search results, also termed improving search rankings.">SEO</a>）， 由于搜索引擎的文本抓取能力非常强大，使用文本轨道甚至可以让搜索引擎通过视频的内容直接链接。</p>
<h2 id="三、实践学习：在你的网站上嵌入你自己的视频或音频。"><a href="#三、实践学习：在你的网站上嵌入你自己的视频或音频。" class="headerlink" title="三、实践学习：在你的网站上嵌入你自己的视频或音频。"></a>三、实践学习：在你的网站上嵌入你自己的视频或音频。</h2><p>在这个实践学习当中，我们希望你能够走出去，并且记录一些你自己的视频或者音频 — 如今，大多数手机都能够非常方便的记录视频或者音频，并且你可以将他们上传到你的电脑上面，你可以使用这些功能来记录你的视频或音频。在这时候，你可能需要做一些格式转换，如果是视频的话，你需要将它们转化为 WebM 或者 MP4 ，如果是音频的话，你需要将它们转化为 MP3 或者 Ogg 。 不过你并不需要担心，有许多的程序都能够帮你解决这些问题，例如 <a href="http://www.mirovideoconverter.com/" target="_blank" rel="noopener">Miro Video Converter</a> 和 <a href="https://sourceforge.net/projects/audacity/" target="_blank" rel="noopener">Audacity</a>.。我们非常希望你能够亲自动手实现它。</p>
<p>如果你无法取得任意的音频或者视频，你可以使用我们已经为你提供的样本（<a href="https://github.com/mdn/learning-area/tree/master/html/multimedia-and-embedding/video-and-audio-content" target="_blank" rel="noopener">sample audio and video files</a>）。同时你也可以使用我们的代码来作为参考。</p>
<p>我们希望你能够：</p>
<ol>
<li>将你的音频或者视频文件保存在你电脑上的一个新目录中。</li>
<li>创建一个新的 HTML 文件在相同的路径下，命名为 index.html。</li>
<li>在页面上添加 <code>&lt;audio&gt;</code> 和 <code>&lt;video&gt;</code> 标签；并使用浏览器默认的控件来显示它们。</li>
<li>在当中添加 <code>&lt;source&gt;</code> 标签，并添加 <code>type</code> 属性，以便于浏览器能够找到其能够支持的格式并加载它。</li>
<li>在 <code>&lt;video&gt;</code> 标签中添加 poster 属性，这会显示在视频播放之前。</li>
</ol>
<p>另外，你可以尝试研究一下文本音轨，试着为你的视频添加一些字幕。</p>
<h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>我们祝愿你可以沉浸在 Web 网站的音频和视频当中，下一篇文章，我们将会学习到另外一种在 web 页面中嵌入内容的方法，比如使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener" title="HTML内联框架元素 &lt;iframe&gt; 表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。在HTML 4.01中，文档可能包含头部和正文，或头部和框架集，但不能包含正文和框架集。但是，&lt;iframe&gt;可以在正常的文档主体中使用。每个浏览上下文都有自己的会话历史记录和活动文档。包含嵌入内容的浏览上下文称为父浏览上下文。顶级浏览上下文（没有父级）通常是浏览器窗口。"><code>&lt;iframe&gt;</code></a> 或者 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/object" target="_blank" rel="noopener" title="HTML &lt;object&gt; 元素（或者称作 HTML 嵌入对象元素）表示引入一个外部资源，这个资源可能是一张图片，一个嵌入的浏览上下文，亦或是一个插件所使用的资源。"><code>&lt;object&gt;</code></a>。</p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content" target="_blank" rel="noopener">音频和视频内容</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-04-30 </div>
			<div class="article-title"><a href="/2018/04/30/2018-04-30-html-image-in-html/" >怎样把图片嵌入到 HTML 中(九)</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>在一开始时，Web 仅有文本，那真的是很无趣。幸运的是，没过多久网页上就能嵌入图片和其他有趣的内容了。虽然还有许多其他类型的多媒体，但是从地位比较低的<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a>元素开始是符合逻辑的，它常常被用来在网页中嵌入一张简单的图片。在这篇文章中，我们将看到怎样深入的使用它，包括基本的用<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figure" target="_blank" rel="noopener" title="HTML &lt;figure&gt; 元素代表一段独立的内容, 经常与说明(caption) &lt;figcaption&gt; 配合使用, 并且作为一个独立的引用单元。当它属于主体(main flow)时，它的位置独立于主体。这个标签经常是在主文中引用的图片，插图，表格，代码段等等，当这部分转移到附录中或者其他页面时不会影响到主体。"><code>&lt;figure&gt;</code></a>来添加说明文字，以及怎样把它和 CSS 背景图片链接起来。</p>
</blockquote>
<p>本节目的: | 学习如何在 HTML 页面插入简单的图片，为图片添加简单的说明，以及 CSS 背景图片与 HTML 图片的关系。                                                                                                                                                                                                                                                                                  </p>
<h2 id="一、怎样将一幅图片放到网页上"><a href="#一、怎样将一幅图片放到网页上" class="headerlink" title="一、怎样将一幅图片放到网页上?"></a>一、怎样将一幅图片放到网页上?</h2><p>我们可以用<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a> 元素来把图片放到网页上。它是一个空元素（它不需要包含文本内容或闭合标签），最少只需要一个 <code>src</code> （一般读作其全称 _source）_来使其生效。<code>src</code> 属性包含了指向我们想要引入的图片的路径，可以是 <strong>相对路径</strong> 或 <strong>绝对URL</strong>，就像 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a" target="_blank" rel="noopener" title="HTML &lt;a&gt; 元素  (或锚元素) 可以创建一个到其他网页、文件、同一页面内的位置、电子邮件地址或任何其他URL的超链接。"><code>&lt;a&gt;</code></a> 元素的 <code>href</code> 属性一样。</p>
<p><strong>注意：</strong>在继续之前，你应该阅读<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks#URLs与路径(path)快速入门" target="_blank" rel="noopener">快速入门URL和路径</a>来复习一下相对和绝对URL。</p>
<p>举个例子来看，如果你有一幅文件名为 <code>dinosaur.jpg</code> 的图片并且存放在和你的 HTML  页面相同路径下，那么你可以这样嵌入它：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"dinosaur.jpg"</span>&gt;</span></pre></td></tr></table></figure>

<p>如果这张图片存储在和 HTML 页面同路径的 <code>images</code> 文件夹下（这也是Google推荐的做法，利于<a href="https://developer.mozilla.org/en-US/docs/Glossary/SEO" target="_blank" rel="noopener" title="SEO: SEO (Search Engine Optimization) is the process of making a website more visible in search results, also termed improving search rankings.">SEO</a>/索引），那么你可以采用如下形式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"images/dinosaur.jpg"</span>&gt;</span></pre></td></tr></table></figure>

<p>以此类推。</p>
<p><strong>注意：</strong>搜索引擎也读取图像的文件名并把它们计入 SEO。因此你应该给你的图片取一个描述性的文件名：<code>dinosaur.jpg</code> 比 <code>img835.png</code>要好。</p>
<p>你也可以像下面这样使用绝对路径：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"https://www.example.com/images/dinosaur.jpg"</span>&gt;</span></pre></td></tr></table></figure>

<p>但是这种方式是不被推荐的，这样做只会使浏览器做更多的工作，例如重新通过 DNS 再去寻找 IP 地址。通常我们都会把图片和 HTML 放在同一个服务器上。</p>
<p><strong>警告：</strong>大多数图片是有版权的。<strong>不要</strong>在你的网页上使用一张图片，除非：</p>
<ol>
<li>你是图片版权所有者</li>
<li>你有图片版权所有者明确的、书面上的使用授权</li>
<li>你有充分的证据证明这张图片是公共领域内的</li>
</ol>
<p>侵犯版权是违法并且不道德的。此外，在得到授权之前<strong>永远不要</strong>把你的<code>src</code>属性指向其他人网站上的图片。这被称为”盗链（hotlinking）”。同样，盗取其他人的带宽也是违法的。而且这会降低你的页面的加载速度，而且图片可能会在不受你控制的情况下被移走或用别的令人尴尬的东西替换掉。</p>
<p>我们上面的代码会展示如下的结果页面：</p>
<p><img src="https://mdn.mozillademos.org/files/12700/basic-image.png" alt="A basic image of a dinosaur, embedded in a browser, with Images in HTML written above it"></p>
<p><strong>注意：</strong>像<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a>和<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video" target="_blank" rel="noopener" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入视频内容。"><code>&lt;video&gt;</code></a>这样的元素有时被称之为<strong>替换元素</strong>，因为这样的元素的内容和尺寸由外部资源（像是一个图片或视频文件）所定义，而不是元素自身。</p>
<p><strong>注意：</strong>你可以在<a href="https://mdn.github.io/learning-area/html/multimedia-and-embedding/images-in-html/index.html" target="_blank" rel="noopener">GitHub上的这个网页</a>看到这个例子的运行结果（也可以看到<a href="https://github.com/mdn/learning-area/blob/master/html/multimedia-and-embedding/images-in-html/index.html" target="_blank" rel="noopener">源码</a>）。</p>
<h3 id="1-1-备选文本"><a href="#1-1-备选文本" class="headerlink" title="1.1 备选文本"></a>1.1 备选文本</h3><p>下一个我们讨论的属性是 <code>alt</code> ，它的值应该是对图片的文字描述，用于在图片无法显示或不能被看到的情况。例如，上面的例子可以做如下改进：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"images/dinosaur.jpg"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">     alt=<span class="string">"The head and torso of a dinosaur skeleton;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">          it has a large head with long sharp teeth"</span>&gt;</span></pre></td></tr></table></figure>

<p>测试<code>alt</code> 属性最简单的方式就是故意拼错图片文件名，这样浏览器就无法找到该图片从而显示备选的文本。如果我们将上例的图片文件名改为 <code>dinosooooor.jpg</code>，浏览器就不能显示图片，而显示：</p>
<p><img src="https://mdn.mozillademos.org/files/12702/alt-text.png" alt="The Images in HTML title, but this time the dinosaur image is not displayed, and alt text is in its place."></p>
<p>那么，为什么我们需要备选文本呢？它可以派上用场的原因有很多：</p>
<ul>
<li>用户有视力障碍，通过<a href="https://zh.wikipedia.org/wiki/%E8%9E%A2%E5%B9%95%E9%96%B1%E8%AE%80%E5%99%A8" target="_blank" rel="noopener">屏幕阅读器</a>来浏览网页 。事实上，给图片一个备选的描述文本对大多数用户都是很有用的。</li>
<li>就像上面所说的，你也许会把图片的路径或文件名拼错。</li>
<li>浏览器不支持该图片类型。某些用户仍在使用纯文本的浏览器，例如 <a href="https://en.wikipedia.org/wiki/Lynx_%28web_browser%29" target="_blank" rel="noopener">Lynx</a>，这些浏览器会把图片替换为描述文本。</li>
<li>你会想提供一些文字描述来给搜索引擎使用，例如搜索引擎可能会将图片的文字描述和查询条件进行匹配。</li>
<li>用户关闭的图片显示以减少数据的传输，这在手机上是十分普遍的，并且在一些国家带宽是有限且昂贵。</li>
</ul>
<p>你到底应该在 <code>alt</code> 里写点什么呢？这首先取决于为什么这张图片会在这儿，换句话说，如果这张图片没显示出来，会少了什么：</p>
<ul>
<li><p><strong>装饰：</strong>如果图片只是用于装饰，而不是内容的一部分，可以写一个空的<code>alt=&quot;&quot;</code> 。例如，屏幕阅读器不会浪费时间读出对不是用户核心需要的内容。实际上装饰性图片就不应该放在 HTML 文件里， <a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML#CSS_background_images" target="_blank" rel="noopener">CSS background images</a>才应该用于插入装饰图片，但如果这种情况无法避免， <code>alt=&quot;&quot;</code>会是最佳处理方案。</p>
</li>
<li><p><strong>内容：</strong>如果你的图片提供了重要的信息，就要在 <code>alt</code> 文本中简要的提供相同的信息，甚至更近一步，把这些信息写在主要的文本内容里，这样所有人都能看见。不要写冗余的备选文本（如果在主要文本中将所有的段落都重复两遍，对于有视力的用户来说多烦啊！），如果在主要文本中已经对图片进行了充分的描述，写 <code>alt=&quot;&quot;</code> 就好。</p>
</li>
<li><p><strong>链接：</strong>如果你把图片嵌套在<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a" target="_blank" rel="noopener" title="HTML &lt;a&gt; 元素  (或锚元素) 可以创建一个到其他网页、文件、同一页面内的位置、电子邮件地址或任何其他URL的超链接。"><code>&lt;a&gt;</code></a>标签里，来把图片变成链接，那你还必须<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks#用清晰的链接措辞。" target="_blank" rel="noopener">提供无障碍的链接文本</a>。在这种情况下，你可以写在同一个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;font face=<span class="string">"consolas, Liberation Mono, courier, monospace"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"background-color: rgba(220, 220, 220, 0.5);"</span>&gt;</span>&amp;lt;a&amp;gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></pre></td></tr></table></figure>
<p>元素里，或者写在图片的<code>alt</code>属性里，随你喜欢。</p>
</li>
<li><p><strong>文本：</strong>你不应该将文本放到图像里。例如，如果你的主标题需要有阴影，你可以<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/text-shadow" target="_blank" rel="noopener">用CSS</a>来达到这个目的，而不是把文本放到图片里。如果真的必须这么做，那就把文本也放到<code>alt</code>里。</p>
</li>
</ul>
<p>本质上，关键在于在图片无法被看见时也提供一个可用的体验，这确保了所有人都不会错失一部分内容。尝试在浏览器中使图片不可见然后看看网页变成什么样了，你会很快意识到在图片无法显示时备选文本能帮上多大忙。</p>
<p><strong>注意：</strong>想知道更多，可以看我们的<a href="https://developer.mozilla.org/en-US/docs/Learn/Accessibility/HTML#Text_alternatives" target="_blank" rel="noopener">备选文本</a>指南</p>
<h3 id="1-2-宽度和高度"><a href="#1-2-宽度和高度" class="headerlink" title="1.2 宽度和高度"></a>1.2 宽度和高度</h3><p>你可以用宽度和高度属性来指定你的图片的高度和宽度（你可以用多种方式找到你的图片的宽度和高度，例如在 Mac 上，你可以用<br><kbd>Cmd</kbd> + <kbd>I</kbd> 来得到显示的图片文件的信息）回到我们的例子，你可以这样做：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"images/dinosaur.jpg"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">     alt=<span class="string">"The head and torso of a dinosaur skeleton;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">          it has a large head with long sharp teeth"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">     width=<span class="string">"400"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">     height=<span class="string">"341"</span>&gt;</span></pre></td></tr></table></figure>

<p>在正常的情况下，这不会对显示产生很大的影响， 但是如果图片没有显示（例如用户刚刚开始浏览网页，但是图片还没有加载完成），你会注意到浏览器会为要显示的图片留下一定的空间：</p>
<p><img src="https://mdn.mozillademos.org/files/12706/alt-text-with-width-height.png" alt="The Images in HTML title, with dinosaur alt text, displayed inside a large box that results from width and height settings"></p>
<p>这是一件好事情——这使得页面加载的更快速更流畅。</p>
<p>然而，你不应该使用 HTML 属性来改变图片的大小。如果你把尺寸设定的太大，最终图片看起来会模糊；如果太小，会在下载远远大于你需要的图片时浪费带宽。如果你没有保持正确的<a href="https://zh.wikipedia.org/wiki/%E9%95%B7%E5%AF%AC%E6%AF%94_(%E5%BD%B1%E5%83%8F)" target="_blank" rel="noopener">宽高比</a>，图片可能看起来会扭曲。在把图片放到你的网站页面之前，你应该使用图形编辑器使图片的尺寸正确。</p>
<p><strong>注意：</strong>如果你需要改变图片的尺寸，你应该使用<a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS" target="_blank" rel="noopener">CSS</a>而不是HTML。</p>
<h3 id="1-3-Image-titles-图片标题"><a href="#1-3-Image-titles-图片标题" class="headerlink" title="1.3 Image titles 图片标题"></a>1.3 Image titles 图片标题</h3><p>类似于<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks#使用<title>添加支持信息" target="_blank" rel="noopener">超链接</a>，你可以给图片增加 <code>title</code> 属性来提供需要更进一步的支持信息。在我们的例子中，可以这样做：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"images/dinosaur.jpg"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">     alt=<span class="string">"The head and torso of a dinosaur skeleton;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">          it has a large head with long sharp teeth"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">     width=<span class="string">"400"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">     height=<span class="string">"341"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">     title=<span class="string">"A T-Rex on display in the Manchester University Museum"</span>&gt;</span></pre></td></tr></table></figure>

<p>这会给我们一个提示，看起来就像链接标题：</p>
<p><img src="https://mdn.mozillademos.org/files/12708/image-with-title.png" alt="The dinosaur image, with a tooltip title on top of it that reads A T-Rex on display at the Manchester University Museum "></p>
<p>图片标题并不必须要包含有意义的信息，通常来说，将这样的支持信息放到主要文本中而不是附着于图片会更好。不过，在有些环境中这样做更有用，比如当没有空间显示提示时，也就是在图片栏中。</p>
<h3 id="1-4-动手练习：嵌入一张图片"><a href="#1-4-动手练习：嵌入一张图片" class="headerlink" title="1.4 动手练习：嵌入一张图片"></a>1.4 动手练习：嵌入一张图片</h3><p>好，轮到你了！在这个动手练习中， 我们希望你可以做一个简单的嵌入图片练习。 你有一个基本的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a> 标签; 我们希望你可以把下面这个 URL 所指向的图片嵌入到 HTML 中:</p>
<p><code>https://raw.githubusercontent.com/mdn/learning-area/master/html/multimedia-and-embedding/images-in-html/dinosaur_small.jpg</code></p>
<p>之前我们说过永远不要从其他服务器热链接图片，但这次只是出于学习目的，所以我们会允许你这么做一次。</p>
<p>我们还希望你可以:</p>
<ul>
<li>添加 <code>alt</code>文字，添加完成后，可以故意把 URL 写错，来检查 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/alt" target="_blank" rel="noopener" title="此页面仍未被本地化, 期待您的翻译!"><code>&lt;alt&gt;</code></a> 的效果。</li>
<li>设置图片正确的 <code>width</code> 和 <code>height</code> 属性（提示：宽 200px，高 171px），然后再将宽和高的值进行改变，看看会有什么影响.</li>
<li>在图片上设置 <code>title</code> 属性。</li>
</ul>
<p>如果你遇到了错误，你可以按 reset 按钮来重置。如果你遇到了困难无法完成, 按下 Show solution 按钮来看一下答案。</p>
<h6 id="Playable-code"><a href="#Playable-code" class="headerlink" title="Playable code"></a>Playable code</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Input<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"code"</span> <span class="attr">class</span>=<span class="string">"input"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Output<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"output"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"reset"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Reset"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"solution"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Show solution"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Open Sans Light'</span>,Helvetica,Arial,sans-serif;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.input</span>, <span class="selector-class">.output</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="number">10em</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#0095dd</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: auto;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">"code"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reset = <span class="built_in">document</span>.getElementById(<span class="string">"reset"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> code = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> output = <span class="built_in">document</span>.querySelector(<span class="string">".output"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> solution = <span class="built_in">document</span>.getElementById(<span class="string">"solution"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawOutput</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  output.innerHTML = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">reset.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  textarea.value = code;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  drawOutput();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">solution.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">textarea.value = <span class="string">'&lt;img src="https://raw.githubusercontent.com/mdn/learning-area/master/html/multimedia-and-embedding/images-in-html/dinosaur_small.jpg"\n     alt="The head and torso of a dinosaur skeleton; it has a large head with long sharp teeth"\n     width="200"\n     height="171"\n     title="A T-Rex on display in the Manchester University Museum"&gt;'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  drawOutput();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">textarea.addEventListener(<span class="string">"input"</span>, drawOutput);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, drawOutput);</span></pre></td></tr></table></figure>

<iframe src="https://mdn.mozillademos.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML$samples/Playable_code?revision=1340172" class="live-sample-frame sample-code-frame" height="500" width="700" id="frame_Playable_code" frameborder="0"></iframe>

<p><button class="open-in-host button neutral">在 CodePen 中打开 <i class="icon-codepen" aria-hidden="true"></i></button></p>
<p><button class="open-in-host button neutral">在 JSFiddle 中打开 <i class="icon-jsfiddle" aria-hidden="true"></i></button></p>
<h2 id="二、通过为图片搭配说明文字的方式来解说图片"><a href="#二、通过为图片搭配说明文字的方式来解说图片" class="headerlink" title="二、通过为图片搭配说明文字的方式来解说图片"></a>二、通过为图片搭配说明文字的方式来解说图片</h2><p>说到说明文字, 这里有很多种方法让你添加一段说明文字来搭配图片。比如，没有人会阻止你这么做：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"figure"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/dinosaur.jpg"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">alt</span>=<span class="string">"The head and torso of a dinosaur skeleton;</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag"><span class="string">            it has a large head with long sharp teeth"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">width</span>=<span class="string">"400"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">height</span>=<span class="string">"341"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>A T-Rex on display in the Manchester University Museum.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

<p>这是可以的 ， <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/p" target="_blank" rel="noopener" title="HTML &lt;p&gt;元素（或者说 HTML 段落元素）表示文本的一个段落。该元素通常表现为一整块与相邻文本分离的文本，或以垂直的空白隔离或以首行缩进。另外，&lt;p&gt; 是块级元素。"><code>&lt;p&gt;</code></a> 中包含了你需要的内容，以及方便使用 CSS 的一种很好的风格。但是这里有一个问题 ，从语义的角度上来讲，<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/p" target="_blank" rel="noopener" title="HTML &lt;p&gt;元素（或者说 HTML 段落元素）表示文本的一个段落。该元素通常表现为一整块与相邻文本分离的文本，或以垂直的空白隔离或以首行缩进。另外，&lt;p&gt; 是块级元素。"><code>&lt;p&gt;</code></a> 并没有什么联系，这会给使用屏幕阅读的人造成问题，比如当你有 50 张图片和其搭配的 50 段说明文字，那么一段说明文字是和哪张图片有关联的呢？</p>
<p>有一个更好的做法是使用 HTML5 的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figure" target="_blank" rel="noopener" title="HTML &lt;figure&gt; 元素代表一段独立的内容, 经常与说明(caption) &lt;figcaption&gt; 配合使用, 并且作为一个独立的引用单元。当它属于主体(main flow)时，它的位置独立于主体。这个标签经常是在主文中引用的图片，插图，表格，代码段等等，当这部分转移到附录中或者其他页面时不会影响到主体。"><code>&lt;figure&gt;</code></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figcaption" target="_blank" rel="noopener" title="HTML &lt;figcaption&gt; 元素 是与其相关联的图片的说明/标题，用?于描述其父节点 &lt;figure&gt; 元素里的其他数据。这意味着 &lt;figcaption&gt; 在&lt;figure&gt; 块里是第一个或最后一个。同时 HTML Figcaption 元素是可选的；如果没有该元素，这个父节点的图片只是会没有说明/标题。"><code>&lt;figcaption&gt;</code></a> 元素，它正是为此而被创造出来的：为图片提供一个语义容器，在标题和图片之间建立清晰的关联。我们之前的例子可以重写为:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/dinosaur.jpg"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">alt</span>=<span class="string">"The head and torso of a dinosaur skeleton;</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag"><span class="string">            it has a large head with long sharp teeth"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">width</span>=<span class="string">"400"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">       <span class="attr">height</span>=<span class="string">"341"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>A T-Rex on display in the Manchester University Museum.<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span></pre></td></tr></table></figure>

<p>这个 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figcaption" target="_blank" rel="noopener" title="HTML &lt;figcaption&gt; 元素 是与其相关联的图片的说明/标题，用?于描述其父节点 &lt;figure&gt; 元素里的其他数据。这意味着 &lt;figcaption&gt; 在&lt;figure&gt; 块里是第一个或最后一个。同时 HTML Figcaption 元素是可选的；如果没有该元素，这个父节点的图片只是会没有说明/标题。"><code>&lt;figcaption&gt;</code></a> 元素 告诉浏览器和其他辅助的技术工具这段说明文字描述了 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figure" target="_blank" rel="noopener" title="HTML &lt;figure&gt; 元素代表一段独立的内容, 经常与说明(caption) &lt;figcaption&gt; 配合使用, 并且作为一个独立的引用单元。当它属于主体(main flow)时，它的位置独立于主体。这个标签经常是在主文中引用的图片，插图，表格，代码段等等，当这部分转移到附录中或者其他页面时不会影响到主体。"><code>&lt;figure&gt;</code></a> 元素的内容.</p>
<p><strong>注意：</strong>从无障碍的角度来说，说明文字和 <code>[alt](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img#attr-alt)</code> 文本扮演着不同的角色。看得见图片的人们同样可以受益于说明文字，而 <code>[alt](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img#attr-alt)</code> 文字只有在图片无法显示时才这样。 所以，说明文字和 <code>alt</code>  的内容不应该一样，因为当图片无法显示时，它们会同时出现。尝试让你的图片不显示，看看效果如何。</p>
<p>注意 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figure" target="_blank" rel="noopener" title="HTML &lt;figure&gt; 元素代表一段独立的内容, 经常与说明(caption) &lt;figcaption&gt; 配合使用, 并且作为一个独立的引用单元。当它属于主体(main flow)时，它的位置独立于主体。这个标签经常是在主文中引用的图片，插图，表格，代码段等等，当这部分转移到附录中或者其他页面时不会影响到主体。"><code>&lt;figure&gt;</code></a> 里不一定要是一张图片，只要是一个这样的独立内容单元：</p>
<ul>
<li>用紧凑、易于掌握的方式表达你的意图。</li>
<li>可以放在页面线性流的中几个地方（Could go in several places in the page’s linear flow）</li>
<li>为主要内容提供重要的补充说明。</li>
</ul>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figure" target="_blank" rel="noopener" title="HTML &lt;figure&gt; 元素代表一段独立的内容, 经常与说明(caption) &lt;figcaption&gt; 配合使用, 并且作为一个独立的引用单元。当它属于主体(main flow)时，它的位置独立于主体。这个标签经常是在主文中引用的图片，插图，表格，代码段等等，当这部分转移到附录中或者其他页面时不会影响到主体。"><code>&lt;figure&gt;</code></a> 可以是几张图片、一段代码、音视频、方程、表格或别的。</p>
<h3 id="2-1-动手练习-创建一个-figure"><a href="#2-1-动手练习-创建一个-figure" class="headerlink" title="2.1 动手练习: 创建一个 figure"></a>2.1 动手练习: 创建一个 figure</h3><p>在这个动手练习的部分中, 我们希望你把本章节中的上一个动手练习完成的代码拿过来，把它转换为一个 figure:</p>
<ul>
<li>把之前的代码放入 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figure" target="_blank" rel="noopener" title="HTML &lt;figure&gt; 元素代表一段独立的内容, 经常与说明(caption) &lt;figcaption&gt; 配合使用, 并且作为一个独立的引用单元。当它属于主体(main flow)时，它的位置独立于主体。这个标签经常是在主文中引用的图片，插图，表格，代码段等等，当这部分转移到附录中或者其他页面时不会影响到主体。"><code>&lt;figure&gt;</code></a> 元素中.</li>
<li>将 <code>title</code> 属性的文本复制出来, 删除 <code>title</code> 元素, 然后把文字放入 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figcaption" target="_blank" rel="noopener" title="HTML &lt;figcaption&gt; 元素 是与其相关联的图片的说明/标题，用?于描述其父节点 &lt;figure&gt; 元素里的其他数据。这意味着 &lt;figcaption&gt; 在&lt;figure&gt; 块里是第一个或最后一个。同时 HTML Figcaption 元素是可选的；如果没有该元素，这个父节点的图片只是会没有说明/标题。"><code>&lt;figcaption&gt;</code></a> 元素中，当然这个元素在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img" target="_blank" rel="noopener" title="HTML Image 元素（ &lt;img&gt; ）代表文档中的一个图像。"><code>&lt;img&gt;</code></a> 的下面.</li>
</ul>
<p>如果你遇到了错误，你可以按 reset 按钮来重置. 如果你遇到了困难无法完成, 按下 Show solution 按钮来看一下答案.</p>
<h6 id="Playable-code-2"><a href="#Playable-code-2" class="headerlink" title="Playable code 2"></a>Playable code 2</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Input<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"code"</span> <span class="attr">class</span>=<span class="string">"input"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Output<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"output"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"reset"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Reset"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"solution"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Show solution"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Open Sans Light'</span>,Helvetica,Arial,sans-serif;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.input</span>, <span class="selector-class">.output</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="number">10em</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#0095dd</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: auto;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">"code"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reset = <span class="built_in">document</span>.getElementById(<span class="string">"reset"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> code = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> output = <span class="built_in">document</span>.querySelector(<span class="string">".output"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> solution = <span class="built_in">document</span>.getElementById(<span class="string">"solution"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawOutput</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  output.innerHTML = textarea.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">reset.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  textarea.value = code;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  drawOutput();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">solution.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">textarea.value = <span class="string">'&lt;figure&gt;\n  &lt;img src="https://raw.githubusercontent.com/mdn/learning-area/master/html/multimedia-and-embedding/images-in-html/dinosaur_small.jpg"\n       alt="The head and torso of a dinosaur skeleton; it has a large head with long sharp teeth"\n       width="200"\n       height="171"&gt;\n  &lt;figcaption&gt;A T-Rex on display in the Manchester University Museum&lt;/figcaption&gt;\n&lt;/figure&gt;'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  drawOutput();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">textarea.addEventListener(<span class="string">"input"</span>, drawOutput);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, drawOutput);</span></pre></td></tr></table></figure>

<iframe src="https://mdn.mozillademos.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML$samples/Playable_code_2?revision=1340172" class="live-sample-frame sample-code-frame" height="500" width="700" id="frame_Playable_code_2" frameborder="0"></iframe>

<p><button class="open-in-host button neutral">在 CodePen 中打开 <i class="icon-codepen" aria-hidden="true"></i></button></p>
<p><button class="open-in-host button neutral">在 JSFiddle 中打开 <i class="icon-jsfiddle" aria-hidden="true"></i></button></p>
<h2 id="三、CSS-背景图片"><a href="#三、CSS-背景图片" class="headerlink" title="三、CSS 背景图片"></a>三、CSS 背景图片</h2><p>你也可以使用 CSS 把图片嵌入网站中（JavaScript也行，不过那是另外一个故事了），这个 CSS 属性 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/background-image" target="_blank" rel="noopener" title="CSS background-image 属性用于为一个元素设置一个或者多个背景图像。图像在绘制时，以z方向堆叠的方式进行。先指定的图像会在之后指定的图像上面绘制。因此指定的第一个图像最接近用户。"><code>background-image</code></a> 和另其他 <code>background-*</code> 属性是用来放置背景图片的。比如，为页面中的所有段落设置一个背景图片，你可以这样做：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">"images/dinosaur.jpg"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>按理说，这种做法相对于 HTML 中插入图片的做法，可以更好地控制图片和设置图片的位置，那么为什么我们还要使用 HTML 图片呢？如上所述，CSS 背景图片只是为了装饰 — 如果你只是想要在你的页面上添加一些漂亮的东西，来提升视觉效果，那 CSS 的做法是可以的。但是这样插入的图片完全没有语义上的意义，它们不能有任何备选文本，也不能被屏幕阅读器识别。这就是 HTML 图片有用的地方了。</p>
<p>总而言之，如果图像对您的内容里有意义，则应使用HTML图像。 如果图像纯粹是装饰，则应使用CSS背景图片。</p>
<p><strong>提示：</strong>你可以在 <a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS" target="_blank" rel="noopener">CSS</a> 模块里学到更多关于<a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Styling_boxes/%E8%83%8C%E6%99%AF" target="_blank" rel="noopener">CSS背景图片</a>的东西。</p>
<h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>目前到此为止，我们详细介绍了图片和说明文字，在下篇文章中，我们将进一步看看如何使用 HTML 在网页上嵌入音频和视频。</p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML" target="_blank" rel="noopener">Html 中的图片</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-04-25 </div>
			<div class="article-title"><a href="/2018/04/25/2018-04-20-android-ndk/" >Android NDK</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/android-ndk.jpg" alt=""></p>
<h2 id="一、Android-NDK？"><a href="#一、Android-NDK？" class="headerlink" title="一、Android NDK？"></a>一、Android NDK？</h2><p>Android NDK 是在 SDK 前面又加上了“原生”二字，即 Native Development Kit，因此又被 Google 称为 “NDK”。<br>众所周知，Android 程序运行在 Dalvik 虚拟机中，NDK 允许用户使用类似 C/C++ 之类的原生代码语言执行部分程序。</p>
<h3 id="1-NDK-包括"><a href="#1-NDK-包括" class="headerlink" title="1. NDK 包括"></a>1. NDK 包括</h3><ul>
<li>从 C/C++ 生成原生代码库所需要的工具和 build files</li>
<li>将一致的原生库嵌入可以在 Android 设备上部署的应用程序包文件（application packages files ，即 .apk 文件）中</li>
<li>支持所有未来 Android 平台的一系列原生系统头文件和库</li>
</ul>
<h3 id="2-为何要用到-NDK"><a href="#2-为何要用到-NDK" class="headerlink" title="2. 为何要用到 NDK?"></a>2. 为何要用到 NDK?</h3><ul>
<li>代码的保护，由于 apk 的 java 层代码很容易被反编译，而 C/C++ 库被反编译的难度较大</li>
<li>在 NDK 中调用第三方 C/C++ 库，因为大部分的开源库都是用 C/C++ 代码编写的</li>
<li>便于移植，用 C/C++ 写的库可以方便在其他的嵌入式平台上再次使用</li>
</ul>
<h2 id="二、JNI"><a href="#二、JNI" class="headerlink" title="二、JNI"></a>二、JNI</h2><p>JNI 是 Java Native Interface 的缩写，它提供了若干的 API 实现了 Java 和其他语言的通信（主要是 C&amp;C++ ）。从 Java1.1 开始，JNI 标准成为 java 平台的一部分，它允许 Java 代码和其他语言写的代码进行交互。JNI 一开始是为了本地已编译语言，尤其是 C 和 C++ 而设计的，但是它并不妨碍你使用其他编程语言，只要调用约定受支持就可以了。使用 java 与本地已编译的代码交互，通常会丧失平台可移植性。但是，有些情况下这样做是可以接受的，甚至是必须的。例如，使用一些旧的库，与硬件、操作系统进行交互，或者为了提高程序的性能。<strong>JNI 标准至少要保证本地代码能工作在任何 Java 虚拟机环境</strong>。</p>
<h2 id="三、创建-NDK-工程"><a href="#三、创建-NDK-工程" class="headerlink" title="三、创建 NDK 工程"></a>三、创建 NDK 工程</h2><h3 id="1-创建一个空的-Activity-工程"><a href="#1-创建一个空的-Activity-工程" class="headerlink" title="1. 创建一个空的 Activity 工程"></a>1. 创建一个空的 Activity 工程</h3><p><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-1.png" alt=""><br><em>AndroidStudio 3.0 上创建 NDK 项目的时候,记得勾选 include c++ support,这样会很方便。接着一路 Next 最后点击 Finish</em><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-2.png" alt=""><br>工程会自动创建 Ndk 环境配置<br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-3.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-4.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-5.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-6.png" alt=""></p>
<h3 id="2-创建生成-so-库和对应-jar-包模块"><a href="#2-创建生成-so-库和对应-jar-包模块" class="headerlink" title="2. 创建生成 .so 库和对应 jar 包模块"></a>2. 创建生成 .so 库和对应 jar 包模块</h3><p><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-7.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-8.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-9.png" alt=""></p>
<h3 id="3-把第一步中的-NDK-代码移到新创建的模块中"><a href="#3-把第一步中的-NDK-代码移到新创建的模块中" class="headerlink" title="3. 把第一步中的 NDK 代码移到新创建的模块中"></a>3. 把第一步中的 NDK 代码移到新创建的模块中</h3><p>这一步的目的主要是让 NDK 部分的代码独立一个模块，后面可以生成对应的 .so 文件和 jar 包提供给其他项目使用<br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-10.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-11.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-12.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-13.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-14.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-15.png" alt=""><br><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-16.png" alt=""></p>
<h3 id="4-在其他工程中使用-NDK-的-so-文件和-jar-包"><a href="#4-在其他工程中使用-NDK-的-so-文件和-jar-包" class="headerlink" title="4. 在其他工程中使用 NDK 的 so 文件和 jar 包"></a>4. 在其他工程中使用 NDK 的 so 文件和 jar 包</h3><p><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/ndk-17.png" alt=""></p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="https://www.jianshu.com/p/a37782b56770" target="_blank" rel="noopener">Android studio3.0 JNI/NDK开发流程</a></li>
<li><a href="https://www.jianshu.com/p/ac00d59993aa" target="_blank" rel="noopener">Android NDK开发：JNI 基础篇</a></li>
<li><a href="https://www.jianshu.com/p/18a8a4e6af3f" target="_blank" rel="noopener">Android ABI issue analysis</a></li>
<li><a href="https://www.imooc.com/learn/411" target="_blank" rel="noopener">Android NDK 入门</a></li>
<li><a href="https://www.imooc.com/learn/918" target="_blank" rel="noopener">Android NDK 进阶</a></li>
<li><strong>推荐</strong> <a href="http://pvphero.github.io/2018/02/08/AS3NDKEnvironment/" target="_blank" rel="noopener">AndroidStudio 3.0 NDK 环境搭建</a></li>
<li><a href="https://blog.csdn.net/pvpheroszw/article/details/79296257" target="_blank" rel="noopener">AndroidStudio项目之CmakeLists解析</a></li>
<li><a href="https://www.cnblogs.com/chenxibobo/p/7678389.html" target="_blank" rel="noopener">AndroidStudio项目CMakeLists解析</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-04-25 </div>
			<div class="article-title"><a href="/2018/04/25/2018-04-25-android-so-cup/" >Android *.so 和 CPU 之间关系</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>早期的 Android 系统几乎只支持 ARMv5 的 CPU 架构，目前已经支持以下七种不同的 CPU 架构：ARMv5，ARMv7 (从 2010 年起)，x86 (从2011年起)，MIPS (从 2012 年起)，ARMv8，MIPS64 和 x86_64 (从 2014 年起)，每一种都关联着一个相应的 ABI。</p>
<blockquote>
<p>ABI（Application Binary Interface）: 定义了二进制文件（尤其是 .so 文件）如何运行在相应的系统平台上，从使用的指令集，内存对齐到可用的系统函数库。在 Android 系统上，每一个 CPU 架构对应一个 ABI：armeabi，armeabi-v7a，x86，mips，arm64-v8a，mips64，x86_64</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/Jesse-Chiu/images/master/abi-cpu.png" alt="ABI 与 CPU 关系"></p>
<h2 id="一、为什么你需要重点关注-so-文件"><a href="#一、为什么你需要重点关注-so-文件" class="headerlink" title="一、为什么你需要重点关注 .so 文件"></a>一、为什么你需要重点关注 .so 文件</h2><p>如果项目中使用到了 NDK，它将会生成 .so 文件，因此显然你已经在关注它了。如果只是使用Java语言进行编码，你可能在想不需要关注.so文件了吧，因为Java是跨平台的。但事实上，即使你在项目中只是使用Java语言，很多情况下，你可能并没有意识到项目中依赖的函数库或者引擎库里面已经嵌入了.so文件，并依赖于不同的ABI。</p>
<p>例如，项目中使用 RenderScript 支持库，OpenCV，Unity，android-gif-drawable，SQLCipher 等，你都已经在生成的APK文件中包含 .so 文件了，而你需要关注 .so 文件。</p>
<p>Android 应用支持的 ABI 取决于APK中位于 lib/ABI 目录中的 .so 文件，其中 ABI 可能是上面说过的七种ABI中的一种。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/191937-caeb25d4ab0df30d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt=""></p>
<p><a href="https://link.jianshu.com/?t=https://play.google.com/store/apps/details?id=com.xh.nativelibsmonitor.app" target="_blank" rel="noopener">Native Libs Monitor</a> 这个应用可以帮助我们理解手机上安装的APK用到了哪些 .so 文件，以及 .so 文件来源于哪些函数库或者框架。</p>
<blockquote>
<p>当然，我们也可以自己对app反编译来获取这些信息，不过相对麻烦一些。</p>
</blockquote>
<p>很多设备都支持多于一种的 ABI。例如 ARM64 和 x86 设备也可以同时运行armeabi-v7a和armeabi的二进制包。但最好是针对特定平台提供相应平台的二进制包，这种情况下运行时就少了一个模拟层（例如x86设备上模拟arm的虚拟层），从而得到更好的性能（归功于最近的架构更新，例如硬件fpu，更多的寄存器，更好的向量化等）。</p>
<p>我们可以通过Build.SUPPORTED_ABIS得到根据偏好排序的设备支持的ABI列表。但你不应该从你的应用程序中读取它，因为Android包管理器安装APK时，会自动选择APK包中为对应系统ABI预编译好的.so文件，如果在对应的lib／ABI目录中存在.so文件的话。</p>
<h2 id="二、App-中可能出错的地方"><a href="#二、App-中可能出错的地方" class="headerlink" title="二、App 中可能出错的地方"></a>二、App 中可能出错的地方</h2><p>处理.so文件时有一条简单却并不知名的重要法则。</p>
<p>你应该尽可能的提供专为每个ABI优化过的.so文件，但要么全部支持，要么都不支持：你不应该混合着使用。你应该为每个ABI目录提供对应的.so文件。</p>
<p>当一个应用安装在设备上，只有该设备支持的CPU架构对应的.so文件会被安装。在x86设备上，libs/x86目录中如果存在.so文件的话，会被安装，如果不存在，则会选择armeabi-v7a中的.so文件，如果也不存在，则选择armeabi目录中的.so文件（因为x86设备也支持armeabi-v7a和armeabi）。</p>
<h2 id="三、其他地方也可能出错"><a href="#三、其他地方也可能出错" class="headerlink" title="三、其他地方也可能出错"></a>三、其他地方也可能出错</h2><p>当你引入一个.so文件时，不止影响到CPU架构。我从其他开发者那里可以看到一系列常见的错误，其中最多的是”UnsatisfiedLinkError”，”dlopen: failed”以及其他类型的crash或者低下的性能：</p>
<h3 id="1-使用android-21平台版本编译的-so文件运行在android-15的设备上"><a href="#1-使用android-21平台版本编译的-so文件运行在android-15的设备上" class="headerlink" title="1. 使用android-21平台版本编译的.so文件运行在android-15的设备上"></a>1. 使用android-21平台版本编译的.so文件运行在android-15的设备上</h3><p>使用 NDK 时，你可能会倾向于使用最新的编译平台，但事实上这是错误的，因为 NDK 平台<strong>不是后向兼容</strong>的，而是前向兼容的。推荐使用 app 的 minSdkVersion 对应的编译平台。</p>
<p>这也意味着当你引入一个预编译好的.so文件时，你需要检查它被编译所用的平台版本。</p>
<h3 id="2-混合使用不同C-运行时编译的-so文件"><a href="#2-混合使用不同C-运行时编译的-so文件" class="headerlink" title="2. 混合使用不同C++运行时编译的.so文件"></a>2. 混合使用不同C++运行时编译的.so文件</h3><p>.so文件可以依赖于不同的C++运行时，静态编译或者动态加载。混合使用不同版本的C++运行时可能导致很多奇怪的crash，是应该避免的。作为一个经验法则，当只有一个.so文件时，静态编译C++运行时是没问题的，否则当存在多个.so文件时，应该让所有的.so文件都动态链接相同的C++运行时。</p>
<p>这意味着当引入一个新的预编译.so文件，而且项目中还存在其他的.so文件时，我们需要首先确认新引入的.so文件使用的C++运行时是否和已经存在的.so文件一致。</p>
<h3 id="3-没有为每个支持的CPU架构提供对应的-so文件"><a href="#3-没有为每个支持的CPU架构提供对应的-so文件" class="headerlink" title="3. 没有为每个支持的CPU架构提供对应的.so文件"></a>3. 没有为每个支持的CPU架构提供对应的.so文件</h3><p>这一点在前文已经说到了，但你应该真的特别注意它，因为它可能发生在根本没有意识到的情况下。</p>
<p>例如：你的app支持armeabi-v7a和x86架构，然后使用Android Studio新增了一个函数库依赖，这个函数库包含.so文件并支持更多的CPU架构，例如新增android-gif-drawable函数库：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">compile</span> ‘<span class="selector-tag">pl</span><span class="selector-class">.droidsonroids</span><span class="selector-class">.gif</span><span class="selector-pseudo">:android-gif-drawable</span><span class="selector-pseudo">:1.1.+</span>’</span></pre></td></tr></table></figure>

<p>发布我们的app后，会发现它在某些设备上会发生Crash，例如Galaxy S6，最终可以发现只有64位目录下的.so文件被安装进手机。</p>
<p>解决方案：重新编译我们的.so文件使其支持缺失的ABIs，或者设置</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ndk</span><span class="selector-class">.abiFilters</span></span></pre></td></tr></table></figure>

<p>显示指定支持的ABIs。</p>
<p>最后一点：<strong>如果你是一个SDK提供者，但提供的函数库不支持所有的ABIs，那你将会搞砸你的用户，因为他们能支持的ABIs必将只能少于你提供的。</strong></p>
<h3 id="4-将-so文件放在错误的地方"><a href="#4-将-so文件放在错误的地方" class="headerlink" title="4. 将.so文件放在错误的地方"></a>4. 将.so文件放在错误的地方</h3><p>我们往往很容易对.so文件应该放在或者生成到哪里感到困惑，下面是一个总结：</p>
<ul>
<li>Android Studio工程放在jniLibs/ABI目录中（当然也可以通过在build.gradle文件中的设置jniLibs.srcDir属性自己指定）</li>
<li>Eclipse工程放在libs/ABI目录中（这也是ndk-build命令默认生成.so文件的目录）</li>
<li>AAR压缩包中位于jni/ABI目录中（.so文件会自动包含到引用AAR压缩包的APK中）</li>
<li>最终APK文件中的lib/ABI目录中</li>
<li>通过PackageManager安装后，在小于Android 5.0的系统中，.so文件位于app的nativeLibraryPath目录中；在大于等于Android 5.0的系统中，.so文件位于app的nativeLibraryRootDir/CPU_ARCH目录中。</li>
</ul>
<h3 id="6-只提供armeabi架构的-so文件而忽略其他ABIs的"><a href="#6-只提供armeabi架构的-so文件而忽略其他ABIs的" class="headerlink" title="6. 只提供armeabi架构的.so文件而忽略其他ABIs的"></a>6. 只提供armeabi架构的.so文件而忽略其他ABIs的</h3><p>所有的x86/x86_64/armeabi-v7a/arm64-v8a设备都支持armeabi架构的.so文件，因此似乎移除其他ABIs的.so文件是一个减少APK大小的好技巧。但事实上并不是：这不只影响到函数库的性能和兼容性。</p>
<p>x86设备能够很好的运行ARM类型函数库，但并不保证100%不发生crash，特别是对旧设备。64位设备（arm64-v8a, x86_64, mips64）能够运行32位的函数库，但是以32位模式运行，在64位平台上运行32位版本的ART和Android组件，将丢失专为64位优化过的性能（ART，webview，media等等）。</p>
<p>以减少APK包大小为由是一个错误的借口，因为你也可以选择在应用市场上传指定ABI版本的APK，生成不同ABI版本的APK可以在build.gradle中如下配置：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">android &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    ... </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    splits &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">        abi &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">            enable <span class="keyword">true</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">            reset()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">            include <span class="string">'x86'</span>, <span class="string">'x86_64'</span>, <span class="string">'armeabi-v7a'</span>, <span class="string">'arm64-v8a'</span> <span class="comment">//select ABIs to build APKs for</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">            universalApk <span class="keyword">true</span> <span class="comment">//generate an additional APK that contains all the ABIs</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// map for the version code</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    project.ext.versionCodes = [<span class="string">'armeabi'</span>: <span class="number">1</span>, <span class="string">'armeabi-v7a'</span>: <span class="number">2</span>, <span class="string">'arm64-v8a'</span>: <span class="number">3</span>, <span class="string">'mips'</span>: <span class="number">5</span>, <span class="string">'mips64'</span>: <span class="number">6</span>, <span class="string">'x86'</span>: <span class="number">8</span>, <span class="string">'x86_64'</span>: <span class="number">9</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    android.applicationVariants.all &#123; variant -&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">// assign different version code for each output</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        variant.outputs.each &#123; output -&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">            output.versionCodeOverride =</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">                    project.ext.versionCodes.get(output.getFilter(com.android.build.OutputFile.ABI), <span class="number">0</span>) * <span class="number">1000000</span> + android.defaultConfig.versionCode</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"> &#125;</span></pre></td></tr></table></figure>




<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="https://www.jianshu.com/p/cb05698a1968" target="_blank" rel="noopener">关于 Android 的 .so 文件你所需要知道的</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-04-22 </div>
			<div class="article-title"><a href="/2018/04/22/2018-04-22-html-marking-up-a-letter/" >使用 Html 写一份信-阶段练习实战 (八)</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>我们或早或晚都会学会如何写信，这也是一个不错的测试我们文本格式化技巧的例子！ 在此评估中，我们会给你一封写好的信用来练习，以测验你基础和高级的 HTML 文本格式化技巧，包括超链接。此外我们将测试你对一些 HTML <code>&lt;head&gt;</code> 内容的熟悉程度。<br>目的：| 测试基本和高级 HTML 文本格式和超链接技能，了解 HTML <code>&lt;head&gt;</code> 中的内容。</p>
</blockquote>
<h2 id="一、开始"><a href="#一、开始" class="headerlink" title="一、开始"></a>一、开始</h2><p>开始评估之前，你应该先复制一份 <a href="https://github.com/mdn/learning-area/blob/master/html/introduction-to-html/marking-up-a-letter-start/letter-text.txt" target="_blank" rel="noopener">要标记的原始文本</a>，和 HTML<a href="https://github.com/mdn/learning-area/blob/master/html/introduction-to-html/marking-up-a-letter-start/css.txt" target="_blank" rel="noopener">需要导入的 CSS 代码</a>，然后 用你的文本编辑器创建一个新的 <code>letter.html</code>文件来进行评估（或者用 <a href="http://jsbin.com/" target="_blank" rel="noopener">JSBin</a> 或 <a href="https://thimble.mozilla.org/" target="_blank" rel="noopener">Thimble</a> 等网站来进行评估）。</p>
<h2 id="二、项目概要"><a href="#二、项目概要" class="headerlink" title="二、项目概要"></a>二、项目概要</h2><p>在这个项目里，你的任务是标记一封放在大学内网上的信，这封信是研究人员对一名未来的博士生的回复，关于他们在大学工作的申请。</p>
<p>块/结构语义：</p>
<ul>
<li>你应该使用适当的结构来构造整体文档，包括 doctype、<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/html" target="_blank" rel="noopener" title="HTML &lt;html&gt;元素表示HTML文档的根（顶层元素），因此也称为根元素。所有其他元素必须是此元素的后代。"><code>&lt;html&gt;</code></a> 、 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/head" target="_blank" rel="noopener" title="HTML &lt;head&gt;元素提供有关文档的一般信息（元数据），包括其标题和其脚本和样式表的链接。"><code>&lt;head&gt;</code></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/body" target="_blank" rel="noopener" title="HTML &lt;body&gt;元素表示HTML文档的内容。文档中只能有一个&lt;body&gt;元素。"><code>&lt;body&gt;</code></a>元素。</li>
<li>除下面提到的几点之外，这封信应该被标记成有着段落和标题的结构。 这封信有一个顶级标题（“Re：”那行）和三个二级标题。</li>
<li>使用适当类型的列表标记该学期的开学时间、学习科目和外国舞蹈。</li>
<li>那两个地址可以就放在段落中，且 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/address" target="_blank" rel="noopener" title="HTML &lt;address&gt;元素提供最近的&lt;article&gt;或&lt;body&gt;祖先的联系信息;在后一种情况下，它适用于整个文件。"><code>&lt;address&gt;</code></a>元素不适合他们——想一下为什么。此外，地址的每一行都应该另开新行，但不是新的段落。</li>
</ul>
<p>内联语义：</p>
<ul>
<li>显著标明发信人和收信人的姓名（以及“电话”和“电子邮件”）。</li>
<li>用适当的元素把文档中的四个日期标记成机器可读的日期。</li>
<li>把信中第一个地址和第一个日期的类属性设置成 “receiver-column”，这样你添加的 CSS 就可以使它们右对齐，就像经典的信件布局里的一样。</li>
<li>标记出信件正文中的五个首字母缩略词或缩写的扩展形式。</li>
<li>适当标注六个下标/上标。</li>
<li>用适当的字符实体引用来标记大于号、乘号和度符号。</li>
<li>试着标记至少两个适当的、具有很强重要性/重点（strong importance/emphasis）单词。</li>
<li>有两个地方应加上超链接，为它们添加适当的标题。链接指向 <code>http://example.com</code> 就行。</li>
<li>应该用适当的元素标记大学的座右铭引用和引文。</li>
</ul>
<p>文档的头部：</p>
<ul>
<li>用适当的meta标签把文档的字符集声明为utf-8。</li>
<li>用适当的meta标签说明信件的作者。</li>
<li>用适当的标签引入我们提供的CSS代码。</li>
</ul>
<h2 id="三、提示和技巧"><a href="#三、提示和技巧" class="headerlink" title="三、提示和技巧"></a>三、提示和技巧</h2><ul>
<li>使用 <a href="https://validator.w3.org/" target="_blank" rel="noopener">W3C HTML验证器</a> 来验证 HTML，如果验证通过，你会得到奖励积分。</li>
<li>完成这个评估不需要任何 CSS 知识，你只需要把已提供的 CSS 放到 HTML 元素里就好。</li>
</ul>
<h2 id="四、范例"><a href="#四、范例" class="headerlink" title="四、范例"></a>四、范例</h2><p>下面的截图展示了这封信被标记完成之后可能会是什么样子。</p>
<p><img src="https://mdn.mozillademos.org/files/12291/letter-screengrab.png" alt=""></p>
<h2 id="五、评估"><a href="#五、评估" class="headerlink" title="五、评估"></a>五、评估</h2><p>可以很容易地在 <a href="https://discourse.mozilla-community.org/t/learning-web-development-marking-guides-and-questions/16294" target="_blank" rel="noopener">Learning Area Discourse thread</a> 或 <a href="https://wiki.mozilla.org/IRC" target="_blank" rel="noopener">Mozilla IRC</a>的<a href="irc://irc.mozilla.org/mdn" target="_blank" rel="noopener">#mdn</a> IRC 频道回复得到批改指南。请先自己试着做——作弊学不到任何东西！</p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Marking_up_a_letter" target="_blank" rel="noopener">Marking up a letter</a></li>
<li><a href="https://github.com/Jesse-Chiu/learning-area/blob/master/html/introduction-to-html/marking-up-a-letter-finished/index.html" target="_blank" rel="noopener">实战练习参考代码</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-04-21 </div>
			<div class="article-title"><a href="/2018/04/21/2018-04-21-html-debugging/" >调试 HTML (七)</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>写 HTML 是非常容易的，但如果某部分出了问题并且你找不到错误代码在哪里的时候，本文将向您介绍一些可以帮助您查找和修复 HTML 中的错误的工具。<br>目标: | 学习基础使用调试工具查找 HTML 中的错误。</p>
</blockquote>
<h2 id="一、HTML-和-调试"><a href="#一、HTML-和-调试" class="headerlink" title="一、HTML 和 调试"></a>一、HTML 和 调试</h2><p>今天这里并没有介绍使用工具的高级用法，因为目前我们还在基础阶段，所以介绍的都是基础原理性的知识，所以大家不用急，后面我们会推出相应的教程。</p>
<h3 id="1-1-宽容模式代码"><a href="#1-1-宽容模式代码" class="headerlink" title="1.1 宽容模式代码"></a>1.1 宽容模式代码</h3><p>宽容的意思是什么呢？通常当你写错代码的时候，你会遇到以下两种主要类型的错误：</p>
<ul>
<li><strong>语法错误</strong>: 由于拼写错误导致程序无法运行，就像上面Rust的例子. 修正这些错误是没问题的，只要你熟悉正确的使用工具和知道错误信息的意思。</li>
<li><strong>逻辑错误</strong>: 实际上语法是正确的，但代码不是你想要的，这意味着程序运行不正确. 逻辑错误通常比语法错误更难修复，因为没有一个错误信息指示你到错误的来源。</li>
</ul>
<p>HTML 本身不容易因语法错误出错，因为浏览器是以 <strong>宽松模式</strong> 来运行，这意味着即使出现语法错误浏览器依然会运行。浏览器通常都有自己的规则来解析语法错误的标记语言，所以程序仍然会运行，尽管可能不是你预期的样子。这样当然仍然会带来问题。</p>
<p><strong>注意</strong>: HTML 可以自由的运行，是因为在 Web 创建之初，它的宗旨就是：允许人们获取他们发布的内容比确保所有语法完全正确更重要。如果当初 Web 在一开始就更加严格的话，也许 Web 就不会像今天这样流行了。</p>
<h3 id="1-2-主动学习-学习宽容式代码风格"><a href="#1-2-主动学习-学习宽容式代码风格" class="headerlink" title="1.2 主动学习: 学习宽容式代码风格"></a>1.2 主动学习: 学习宽容式代码风格</h3><p>现在到你自己学习 HTML 代码宽松特性的时候了。</p>
<ol>
<li><p>首先，找到我们的 <a href="https://github.com/mdn/learning-area/blob/master/html/introduction-to-html/debugging-html/debug-example.html" target="_blank" rel="noopener">debug-example demo</a> 副本并保存到本地。这里故意写了一些错误在代码中，以便我们探究（HTML 标记被写成了<strong>糟糕的格式</strong>，与 <strong>良好的格式</strong>相反）。</p>
</li>
<li><p>接着，在浏览器中打开—你会看到下面的样子：<img src="https://mdn.mozillademos.org/files/12437/badly-formed-html.png" alt="A simple HTML document with a title of HTML debugging examples, and some information about common HTML errors, such as unclosed elements, badly nested elements, and unclosed attributes. "></p>
</li>
<li><p>这看起来一点儿也不好；让我们来看看源代码，看看我们是否能找出为什么（只显示了 body 的内容）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>HTML debugging examples<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>What causes errors in HTML?</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Unclosed elements: If an element is <span class="tag">&lt;<span class="name">strong</span>&gt;</span>not closed properly,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      then its effect can spread to areas you didn't intend</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Badly nested elements: Nesting elements properly is also very important</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      for code behaving correctly. <span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong <span class="tag">&lt;<span class="name">em</span>&gt;</span>strong emphasised?<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">      what is this?<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Unclosed attributes: Another common source of HTML problems. Let's</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      look at an example: <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.mozilla.org/&gt;link to Mozilla</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="tag"><span class="string">      homepage&lt;/a&gt;</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="tag"><span class="string">&lt;/ul&gt;</span></span></span></pre></td></tr></table></figure>
</li>
<li><p>让我们检查一下这里看到的问题：</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/p" target="_blank" rel="noopener" title="HTML &lt;p&gt;元素（或者说 HTML 段落元素）表示文本的一个段落。该元素通常表现为一整块与相邻文本分离的文本，或以垂直的空白隔离或以首行缩进。另外，&lt;p&gt; 是块级元素。">paragraph</a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/li" target="_blank" rel="noopener" title="HTML &lt;li&gt; 元素 (或者 HTML 列表条目元素) 用于表示列表里的条目。它必须被包含在一个父元素里：一个有顺序的列表(&lt;ol&gt;)，一个无顺序的列表(&lt;ul&gt;)，或者一个菜单 (&lt;menu&gt;)。在菜单或者无顺序的列表里，列表条目通常用点排列显示。在有顺序的列表里，列表条目通常是在左边有按升序排列计数的显示，例如数字或者字母。">list item</a> 元素没有结束标签。看看上面的图片，看起来对标记并没有导致太严重的影响，因为很容易推断出一个元素应该在哪里结束，在哪里开始。</li>
<li>第一个 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/strong" target="_blank" rel="noopener" title="Strong 元素 (&lt;strong&gt;)表示文本十分重要，一般用粗体显示。"><code>&lt;strong&gt;</code></a> 元素没有结束标签。这问题有一点大，因为不太容易确定元素在哪里结束。事实上，整个剩下的文本都被加粗强调了。</li>
<li>这部分代码嵌套很糟糕：<code>&lt;strong&gt;strong &lt;em&gt;strong emphasised?&lt;/strong&gt; what is this?&lt;/em&gt;</code>。由于之前的问题，要解释这是如何解析的并不容易。</li>
<li><code>[href](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a#attr-href)</code> 属性缺少了一个双引号。这导致了最大的问题—链接完全没有解析出来。</li>
</ul>
</li>
<li><p>现在我们看看浏览器渲染出来的标记语言，而不是源代码中的标记语言。我们打开浏览器的开发者工具。如果你对这个不太熟悉的话，先浏览一下<a href="https://developer.mozilla.org/zh-CN/docs/Learn/Discover_browser_developer_tools" target="_blank" rel="noopener">Discover browser developer tools</a>。</p>
</li>
<li><p>在开发者模式中的审查器件，你可以看到被渲染出来的标记语言会像这样。<img src="https://mdn.mozillademos.org/files/12439/html-inspector.png" alt="The HTML inspector in Firefox, with our example&#39;s paragraph highlighted, showing the text &quot;What causes errors in HTML?&quot; Here you can see that the paragraph element has been closed by the browser."></p>
</li>
<li><p>使用开发者模式下的审查器，可以非常清楚地看到 <strong>浏览器尝试修补</strong> 我们的代码错误（下面是火狐浏览器中的情况，其他浏览器也会进行修补）</p>
<ul>
<li><p>段落和类表元素被加上了闭合标签。</p>
</li>
<li><p>第一个<strong>标签闭合的位置并不明确，因此浏览器用自己的<strong>标签将每一块分离的文本包括了进来，就在文档的底部。</p>
</li>
<li><p>浏览器像下面这样修补嵌套错误：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">em</span>&gt;</span>strong emphasised?<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span> what is this?<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>有错误属性的链接整个被删掉了。最后一个列表元素就像这样：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Unclosed attributes: Another common source of HTML problems.</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  Let's look at an example: <span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="1-3-HTML-验证"><a href="#1-3-HTML-验证" class="headerlink" title="1.3 HTML 验证"></a>1.3 HTML 验证</h3><p>看了上面的例子之后，你应该会希望自己的HTML格式正确。那么应该如何做呢？上面的例子都是一些非常小的错误，因此稍微浏览一下自己的代码就可以发现，但是如果是一个非常庞大、复杂的HTML文档呢？</p>
<p>最好的方法就是让你的 HTML 页面通过 <a href="https://validator.w3.org/" target="_blank" rel="noopener">Markup Validation Service</a> — 由 W3C 创立并维护的，这个网站紧跟定义 HTML，CSS，和其他网络技术的具体内容. 这个网页将 HTML 文档作为输入,并运行 ，然后给你一个报告告诉你你的 HTML 有哪些错误.</p>
<p><img src="https://mdn.mozillademos.org/files/12441/validator.png" alt="The HTML validator homepage"></p>
<p>为了确定需要验证的HTML，你可以输入一个指向该HTML页面的网址，或者上传一份HTML文件，或者直接输入一些HTML代码。</p>
<h3 id="1-4-主动学习：验证一份HTML文档"><a href="#1-4-主动学习：验证一份HTML文档" class="headerlink" title="1.4 主动学习：验证一份HTML文档"></a>1.4 主动学习：验证一份HTML文档</h3><p>让我们用 <a href="https://github.com/mdn/learning-area/blob/master/html/introduction-to-html/debugging-html/debug-example.html" target="_blank" rel="noopener">sample document</a>尝试一下：</p>
<ol>
<li>在浏览器中打开 <a href="https://validator.w3.org/" target="_blank" rel="noopener">Markup Validation Service</a> 。</li>
<li>点击或者激活 <a href="https://validator.w3.org/#validate_by_input" target="_blank" rel="noopener">Validate by Direct Input</a> 栏。</li>
<li>将整个示范文档的代码（不仅仅是body部分）复制粘贴到在 Markup Validation Service中显示的巨大的文本框。</li>
<li><em>点击Check按钮。</em></li>
</ol>
<p>然后就会出现一张列表，显示了文档中的错误或者其他信息。</p>
<p><img src="https://mdn.mozillademos.org/files/12443/validation-results.png" alt="A list of of HTML validation results from the W3C markup validation service"></p>
<h4 id="1-5-解析错误信息"><a href="#1-5-解析错误信息" class="headerlink" title="1.5 解析错误信息"></a>1.5 解析错误信息</h4><p>展示在你眼前的错误信息列表可能会很有用，也可能并没有帮助。经过一点点练习你就会知道如何解析这些错误从而修复错误。让我们来浏览一下这些错误信息的含义。你会看到每一行都有一个数字和信息栏，来帮助你轻松定位错误。</p>
<ul>
<li><p>End tag <code>li</code> implied, but there were open elements（隐含着结束标签 <code>li</code> ，但却出现了元素的开始标签；共两个）: 这条信息表明一个元素的开始标签应该对应着一个结束标签，结束标签是隐含的，但实际上并不存在。行/列（line/column）信息指出那一行代码的下一行是结束标签应该出现的地方，这已经足够看出问题所在了。</p>
</li>
<li><p>Unclosed element <code>strong</code>（未闭合标签 <code>strong</code> ）：这是非常容易理解的，一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/strong" target="_blank" rel="noopener" title="Strong 元素 (&lt;strong&gt;)表示文本十分重要，一般用粗体显示。"><code>&lt;strong&gt;</code></a>元素没有闭合，行/列信息指出了它所在之处。</p>
</li>
<li><p>End tag <code>strong</code> violates nesting rules（结束标签 <code>strong</code> 违反了嵌套规则）：指出了错误嵌套的元素，行/列信息表明了错误所在。</p>
</li>
<li><p>End of file reached when inside an attribute value. Ignoring tag（在属性值内达到文件末尾。忽略标签）: 这个比较难懂，它说的是在某个地方有一个属性的值没有正确构成，估计是在文件末尾附近，因为文件的结尾（EOF）出现在了一个属性值里。事实上浏览器没有渲染超链接就已经告诉我们错误出在哪个元素了。</p>
</li>
<li><p>End of file seen and there were open elements（文件结尾有未闭合的元素）：这个有点意义不明，但基本上表明了有元素没有正确闭合。行号指向文件最后几行，且错误信息给出了一个这种错误的案例：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">example: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.mozilla.org&#x2F;&gt;link to Mozilla homepage&lt;&#x2F;a&gt; ↩ &lt;&#x2F;ul&gt;↩ &lt;&#x2F;body&gt;↩&lt;&#x2F;html&gt;</span></pre></td></tr></table></figure>

<p>  <strong>注意</strong>: 一个缺少结束引号标记的属性会导致一个未闭合的元素，因为其余的文档被解析为了属性的内容。</p>
</li>
<li><p>Unclosed element <code>ul</code>（未闭合元素 <code>ul</code>）：这个不是很有帮助，因为<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/ul" target="_blank" rel="noopener" title="The HTML &lt;ul&gt; 元素 ( 或 HTML 无序列表元素） 代表多项的无序列表，即无数值排序项的集合，且它们在列表中的顺序是没有意义的。通常情况下，无序列表项的头部可以是几种形式，如一个点，一个圆形或方形。头部的风格并不是在页面的HTML描述定义, 但在其相关的CSS 可以用 list-style-type 属性。"><code>&lt;ul&gt;</code></a>已经正确闭合了。出现这个错误是因为那个<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a" target="_blank" rel="noopener" title="HTML &lt;a&gt; 元素  (或锚元素) 可以创建一个到其他网页、文件、同一页面内的位置、电子邮件地址或任何其他URL的超链接。"><code>&lt;a&gt;</code></a>元素因少了右引号而没有闭合。</p>
</li>
</ul>
<p>如果你不能一次弄懂所有的错误，别着急，你可以试试先修复那些你已经弄懂的错误，然后再申请验证，看看剩下的错误是哪些。有时候最先修复的错误可能让你摆脱了后面一系列的错误——因为一个小问题可能引发好几个错误，就像连锁反应。</p>
<p>当你所有的错误都修复之后，会得到下面的输出。</p>
<p><img src="https://mdn.mozillademos.org/files/12445/valid-html-banner.png" alt="Banner that reads &quot;The document validates according to the specified schema(s) and to additional constraints checked by the validator.&quot;"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这就是我们关于HTML调试的介绍，这应该也会帮助你调试 CSS 和 JavaScript，或者你未来遇到的任何一种语言。这也是HTML模块学习的最后一篇文章，现在你可以用我们给你布置的任务来测试一下自己：下面的第一个链接。</p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/learn/HTML/Introduction_to_HTML/Debugging_HTML" target="_blank" rel="noopener">调试 HTML</a></li>
</ul>

	
	</div>
</div>

           
		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/3/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> Prev</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/5/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/Ajax/">Ajax<span>9</span></a></li>
		
			<li><a href="/categories/AliPay/">AliPay<span>1</span></a></li>
		
			<li><a href="/categories/Android/">Android<span>15</span></a></li>
		
			<li><a href="/categories/AngularJS/">AngularJS<span>4</span></a></li>
		
			<li><a href="/categories/BackEnd/">BackEnd<span>5</span></a></li>
		
			<li><a href="/categories/Backbone/">Backbone<span>1</span></a></li>
		
			<li><a href="/categories/Bootstrap/">Bootstrap<span>2</span></a></li>
		
			<li><a href="/categories/C-C/">C/C++<span>1</span></a></li>
		
			<li><a href="/categories/Car/">Car<span>1</span></a></li>
		
			<li><a href="/categories/Css/">Css<span>9</span></a></li>
		
			<li><a href="/categories/Css3/">Css3<span>4</span></a></li>
		
			<li><a href="/categories/Database/">Database<span>7</span></a></li>
		
			<li><a href="/categories/Design/">Design<span>1</span></a></li>
		
			<li><a href="/categories/Flutter/">Flutter<span>1</span></a></li>
		
			<li><a href="/categories/Git/">Git<span>1</span></a></li>
		
			<li><a href="/categories/Golang/">Golang<span>1</span></a></li>
		
			<li><a href="/categories/Hadoop/">Hadoop<span>1</span></a></li>
		
			<li><a href="/categories/Hexo/">Hexo<span>3</span></a></li>
		
			<li><a href="/categories/Html/">Html<span>18</span></a></li>
		
			<li><a href="/categories/Java/">Java<span>17</span></a></li>
		
			<li><a href="/categories/JavaScript/">JavaScript<span>82</span></a></li>
		
			<li><a href="/categories/Linux/">Linux<span>8</span></a></li>
		
			<li><a href="/categories/Node-js/">Node.js<span>40</span></a></li>
		
			<li><a href="/categories/Powershell/">Powershell<span>1</span></a></li>
		
			<li><a href="/categories/Python/">Python<span>4</span></a></li>
		
			<li><a href="/categories/Read/">Read<span>9</span></a></li>
		
			<li><a href="/categories/Synology/">Synology<span>1</span></a></li>
		
			<li><a href="/categories/Testing/">Testing<span>4</span></a></li>
		
			<li><a href="/categories/Tools/">Tools<span>16</span></a></li>
		
			<li><a href="/categories/Vue-js/">Vue.js<span>10</span></a></li>
		
			<li><a href="/categories/WeChat/">WeChat<span>4</span></a></li>
		
			<li><a href="/categories/jQuery/">jQuery<span>5</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/Bom/">Bom<span>10</span></a></li>
		
			<li><a href="/tags/Promise/">Promise<span>2</span></a></li>
		
			<li><a href="/tags/MongoDB/">MongoDB<span>2</span></a></li>
		
			<li><a href="/tags/MySQL/">MySQL<span>1</span></a></li>
		
			<li><a href="/tags/Mocha/">Mocha<span>1</span></a></li>
		
			<li><a href="/tags/docker/">docker<span>1</span></a></li>
		
			<li><a href="/tags/Grammar/">Grammar<span>11</span></a></li>
		
			<li><a href="/tags/Performence/">Performence<span>1</span></a></li>
		
			<li><a href="/tags/Npm/">Npm<span>3</span></a></li>
		
			<li><a href="/tags/Webpack/">Webpack<span>2</span></a></li>
		
			<li><a href="/tags/Android/">Android<span>3</span></a></li>
		
			<li><a href="/tags/Chrome/">Chrome<span>2</span></a></li>
		
			<li><a href="/tags/Library/">Library<span>7</span></a></li>
		
			<li><a href="/tags/scrapy/">scrapy<span>1</span></a></li>
		
			<li><a href="/tags/JSP/">JSP<span>1</span></a></li>
		
			<li><a href="/tags/Sublime/">Sublime<span>2</span></a></li>
		
			<li><a href="/tags/Karma/">Karma<span>1</span></a></li>
		
			<li><a href="/tags/RegExp/">RegExp<span>2</span></a></li>
		
			<li><a href="/tags/gradle/">gradle<span>1</span></a></li>
		
			<li><a href="/tags/PhantomJs/">PhantomJs<span>1</span></a></li>
		
		
		   <li><a href="/tags">...<span>28</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2020/11/30/2020-11-30-android-gradle/" ><i class="fa fa-file-o"></i>Gradle</a>
      </li>
    
      <li>
        <a href="/2020/11/29/2020-11-29-scrapy/" ><i class="fa fa-file-o"></i>Scrapy</a>
      </li>
    
      <li>
        <a href="/2020/11/26/2020-11-26-database-sqlite-exercise/" ><i class="fa fa-file-o"></i>SQLite Exercise</a>
      </li>
    
      <li>
        <a href="/2020/11/25/2020-11-25-database-sqlite-optimization/" ><i class="fa fa-file-o"></i>SQLite 性能优化</a>
      </li>
    
      <li>
        <a href="/2020/11/21/2020-11-21-database-sqlite/" ><i class="fa fa-file-o"></i>SQLite</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/wzpan/freemind/" title="Freemind's Github repository." target="_blank"]);">Freemind</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/JesseQiu" title="My Github account." target="_blank"]);">My Github</a></li>
	
		<li><i class="fa fa-linkedin"></i><a href="https://jesseqiu.github.io/" title="My Linkin account." target="_blank"]);">My LinkedIn</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->


	</div>
  </div>

  <div class="container-narrow">
  <footer> 
<!-- 不蒜子统计 -->

    <span id="busuanzi_container_site_pv">
            本站总访问量 <span id="busuanzi_value_site_pv"></span> 次
    </span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv" style='display:none'>
            本站访客数 <span id="busuanzi_value_site_uv"> </span>人
    </span>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<span>
  &copy; 2020 JesseChiu
  
</span>

<span>
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind</a>.    
</span>
 </footer>
</div> <!-- container-narrow -->

  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

  
</body>

   </html>
