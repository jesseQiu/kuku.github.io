<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="author" content="John Doe">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Hexo"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link href="/favicon.ico" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/spacelab.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <!-- analytics -->
  



</head>


 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">Hexo</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="">
			  <i class="fa fa-rss"></i>Rss
			</a>
		  </li>
		  
		  <li>
			<a href="/sitemap.xml" title="">
			  <i class="fa fa-sitemap"></i>Sitemap
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header page-header-inverse ">
  <h1 class="title title-inverse ">Hexo</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      Keep on going never give up.
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
        <!-- render top articles firstly -->
        
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
            
		
        
        <!-- render other articles -->
        
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-11-14 </div>
			<div class="article-title"><a href="/2019/11/14/2019-11-14-java-NIO/" >NIO</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>简介：网络编程 -&gt; RPC 的 “基石”。众所周知，网络编程有三种方式：BIO、NIO、AIO。本课程通过对 BIO/NIO 两种编程模型对比的形式，引入 NIO 的优势。后对 NIO 核心类进行梳理、分析。最后通过动手实践，完成一个基于 NIO 的多人聊天室功能。通过动手实践，来加深对 NIO 原理的理解，并发现NIO的不足之处，培养辩证的看待和使用 NIO 解决问题的能力。</p>
</blockquote>
<ul>
<li><p>NIO: Non-blocking I/O || New I/O</p>
</li>
<li><p>JDK 1.4</p>
</li>
<li><p>用于高并发场景</p>
</li>
<li><p>Channel,Buffer,Selector</p>
</li>
</ul>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="https://www.imooc.com/learn/1118" target="_blank" rel="noopener">解锁网络编程之NIO的前世今生</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-11-06 </div>
			<div class="article-title"><a href="/2019/11/06/2019-11-06-flutter/" >Flutter</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>Flutter 是谷歌的移动 UI 框架 ，可以快速在 iOS 和 Android 上构建高质量的原生用户界面。 Flutter 可以与现有的代码一起工作。在全世界，Flutter 正在被越来越多的开发者和组织使用，并且 Flutter 是完全免费、开源的。它也是构建未来的 Google Fuchsia(/ˈfjuːʃə/ ) 应用的主要方式。<br>Flutter 组件采用现代响应式框架构建，这是从 React 中获得的灵感，中心思想是用组件(widget)构建你的UI。 组件描述了在给定其当前配置和状态时他们显示的样子。当组件状态改变，组件会重构它的描述(description)，Flutter 会对比之前的描述， 以确定底层渲染树从当前状态转换到下一个状态所需要的最小更改。</p>
</blockquote>
<ul>
<li>Google 推出一款跨平台的 UI 套件</li>
<li>Linux，Android，IOS，Web</li>
<li>原生的用户界面</li>
<li>开源，免费</li>
<li>渲染技术上使用了自主开发的(GDI)</li>
<li>120fps 超高技术</li>
<li>性能优于 Codova，RN</li>
<li>以 Dart 语言编程</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://flutter.dev/" target="_blank" rel="noopener">flutter</a></li>
<li><a href="https://github.com/Solido/awesome-flutter" target="_blank" rel="noopener">awesome-flutter github</a></li>
<li><a href="https://www.imooc.com/learn/1090" target="_blank" rel="noopener">Flutter入门与案例实战</a></li>
<li><a href="https://baike.baidu.com/item/Fuchsia/19900570?fr=aladdin" target="_blank" rel="noopener">Fuchsia</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-10-03 </div>
			<div class="article-title"><a href="/2019/10/03/2019-10-02.car/" >Car Parameters</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<h2 id="汽车参数"><a href="#汽车参数" class="headerlink" title="汽车参数"></a>汽车参数</h2><h3 id="汽车风阻系数"><a href="#汽车风阻系数" class="headerlink" title="汽车风阻系数"></a>汽车风阻系数</h3><p>汽车在行驶中由于受到空气的作用，围绕着汽车重心同时产生纵向、侧向和垂直等 3 个方向的空气动力量，对高速行驶的汽车都会产生不同的影响，其中纵向空气动力量最大，大约占整体空气作用力的 80% 以上，因此，将汽车直线行驶时受到的空气作用力在行驶方向上的分力称为空气阻力。<br>风阻系数 Cd 是衡量一辆汽车受空气阻力影响大小的一个标准。风阻系数越小，说明它受空气阻力影响越小，反之亦然，因此说风阻系数越小越好。<br>一般来讲，我们在马路上看到的大多数轿车的风阻系数在 0.28—0.4 间，流线性较好的汽车如跑车等，其风阻系数可达到 0.25 左右，一些赛车可达到 0.15 左右。</p>
<ul>
<li><a href="https://v.qq.com/x/page/i03811obhiv.html" target="_blank" rel="noopener">熊先生三分钟讲懂“风阻系数”</a></li>
</ul>
<h3 id="碰撞预警"><a href="#碰撞预警" class="headerlink" title="碰撞预警"></a>碰撞预警</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=384243644986707637&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">碰撞预警</a></li>
</ul>
<h3 id="并线辅助"><a href="#并线辅助" class="headerlink" title="并线辅助"></a>并线辅助</h3><ul>
<li><a href="https://v.qq.com/x/page/e0198o98h2t.html" target="_blank" rel="noopener">并线辅助</a></li>
</ul>
<h3 id="车道偏离预警"><a href="#车道偏离预警" class="headerlink" title="车道偏离预警"></a>车道偏离预警</h3><ul>
<li><a href="https://v.qq.com/x/page/w05499mtfo8.html" target="_blank" rel="noopener">车道偏离预警</a></li>
</ul>
<h3 id="发动机电子防盗"><a href="#发动机电子防盗" class="headerlink" title="发动机电子防盗"></a>发动机电子防盗</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=13155749160207676870&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">发动机电子防盗</a></li>
</ul>
<h3 id="胎压监测系统"><a href="#胎压监测系统" class="headerlink" title="胎压监测系统"></a>胎压监测系统</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=775049808605790892&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">胎压监测系统</a></li>
</ul>
<h3 id="发动机自动启停系统"><a href="#发动机自动启停系统" class="headerlink" title="发动机自动启停系统"></a>发动机自动启停系统</h3><ul>
<li><a href="http://www.iqiyi.com/w_19s1sik3od.html" target="_blank" rel="noopener">发动机自动启停系统</a></li>
</ul>
<h3 id="ABS-防抱死系统-antilock-brake-system"><a href="#ABS-防抱死系统-antilock-brake-system" class="headerlink" title="ABS 防抱死系统(antilock brake system)"></a>ABS 防抱死系统(antilock brake system)</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=3247817090386799909&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">ABS 防抱死系统</a></li>
</ul>
<h3 id="EBD-自动力分配-Electronic-Brake-force-Distribution"><a href="#EBD-自动力分配-Electronic-Brake-force-Distribution" class="headerlink" title="EBD 自动力分配(Electronic Brake force Distribution)"></a>EBD 自动力分配(Electronic Brake force Distribution)</h3><ul>
<li><a href="https://www.iqiyi.com/w_19rqq6pq01.html" target="_blank" rel="noopener">综合解读EBD电子制动力分配系统</a></li>
</ul>
<h3 id="牵引力控制-TCS-ASR-TRC"><a href="#牵引力控制-TCS-ASR-TRC" class="headerlink" title="牵引力控制(TCS/ASR/TRC)"></a>牵引力控制(TCS/ASR/TRC)</h3><p>牵引力控制系统Traction Control System，简称TCS。此外，ASR、TRC等也属于牵引力控制系统的范畴。牵引力控制系统的作用是使汽车在各种行驶状况下都能获得最佳的牵引力。<br>牵引力控制系统能防止车辆的雪地等湿滑路面上行驶时驱动轮的空转，使车辆能平稳地起步、加速。尤其在雪地或泥泞的路面，牵引力控制系统均能保证流畅的加速性能，防止车辆因驱动轮打滑而发生横移或甩尾。</p>
<ul>
<li><a href="https://v.qq.com/x/page/i0715piaqah.html" target="_blank" rel="noopener">TCS、ASR、TRC</a></li>
</ul>
<h3 id="车身稳定控制（ESP-DSC-VSC）"><a href="#车身稳定控制（ESP-DSC-VSC）" class="headerlink" title="车身稳定控制（ESP/DSC/VSC）"></a>车身稳定控制（ESP/DSC/VSC）</h3><p>ESP是英文ElectronicStabilityProgram的缩写，中文译成“电子稳定程序”。这一组系统通常是支援ABS及ASR(驱动防滑系统，又称牵引力控制系统)的功能。它通过对从各传感器传来的车辆行驶状态信息进行分析，然后向ABS、ASR发出纠偏指令，来帮助车辆维持动态平衡。ESP可以使车辆在各种状况下保持最佳的稳定性，在转向过度或转向不足的情形下效果更加明显。ESP最重要的特点就是它的主动性，如果说ABS是被动地作出反应，那么ESP却可以做到防患于未然。</p>
<ul>
<li><a href="http://www.iqiyi.com/w_19rr4ary85.html" target="_blank" rel="noopener">ESP车身稳定系统视频</a></li>
</ul>
<h3 id="刹车辅助-EBA-BAS-BA"><a href="#刹车辅助-EBA-BAS-BA" class="headerlink" title="刹车辅助(EBA/BAS/BA)"></a>刹车辅助(EBA/BAS/BA)</h3><p>机械制动辅助系统，也成为BAS。为EBA电子紧急制动辅助装置的前身。能判断驾驶者刹车动作，在紧急刹车时增加刹车力，缩短刹车距离。它根据驾驶员踩下踏板的力度及速度、将制动力适时加大，从而提供一个有效、可靠、安全的制动。对老人和女性（脚力不足者）帮助奇大。还有缩短制动距离的效果。</p>
<ul>
<li><a href="https://v.qq.com/x/search/?q=%E5%88%B9%E8%BD%A6%E8%BE%85%E5%8A%A9&stag=0&smartbox_ab=" target="_blank" rel="noopener">刹车辅助系统是什么？</a></li>
</ul>
<h3 id="车内中空锁"><a href="#车内中空锁" class="headerlink" title="车内中空锁"></a>车内中空锁</h3><p>1、中央控制：当驾驶员锁住其身边的车门时，其他车门也同时锁住，驾驶员可通过门锁开关同时打开各个车门，也可单独打开某个车门。<br>2、速度控制：当行车速度达到一定时，各个车门能自行锁上，防止乘员误操作车门把手而导致车门打开。<br>3、单独控制：除在驾驶员身边车门以外，还在其他门设置单独的弹簧锁开关，可独立地控制一个车门的打开和锁住。</p>
<ul>
<li><a href="https://haokan.baidu.com/v?vid=2885785447185922501&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">你真了解车内中控锁的用途么？</a></li>
</ul>
<h3 id="定速巡航航"><a href="#定速巡航航" class="headerlink" title="定速巡航航"></a>定速巡航航</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=14678380680692455927&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">定速巡航到底怎么用</a></li>
</ul>
<h3 id="自适应巡航-ACC"><a href="#自适应巡航-ACC" class="headerlink" title="自适应巡航(ACC)"></a>自适应巡航(ACC)</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=12199700142672505541" target="_blank" rel="noopener">ACC自适应巡航是个啥东西？</a></li>
</ul>
<h3 id="电子驻车"><a href="#电子驻车" class="headerlink" title="电子驻车"></a>电子驻车</h3><ul>
<li><a href="https://v.qq.com/x/page/p0619bd2c3y.html" target="_blank" rel="noopener">电子驻车</a></li>
</ul>
<h3 id="大灯调节"><a href="#大灯调节" class="headerlink" title="大灯调节"></a>大灯调节</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=384352568503521464&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">大灯调节</a></li>
</ul>
<h3 id="前后雾灯"><a href="#前后雾灯" class="headerlink" title="前后雾灯"></a>前后雾灯</h3><ul>
<li><a href="https://v.qq.com/x/cover/ahccpcpqdu9cyit/l0698zfo50u.html" target="_blank" rel="noopener">前后雾灯</a></li>
</ul>
<h3 id="大灯清洗"><a href="#大灯清洗" class="headerlink" title="大灯清洗"></a>大灯清洗</h3><ul>
<li><a href="http://v.bitauto.com/vplay/388920.html" target="_blank" rel="noopener">大灯清洗</a></li>
</ul>
<h3 id="感光大灯"><a href="#感光大灯" class="headerlink" title="感光大灯"></a>感光大灯</h3><ul>
<li><a href="https://v.qq.com/x/page/b0901w5l50y.html" target="_blank" rel="noopener">智能光感-这才是豪华车该有的大灯</a></li>
</ul>
<h3 id="日间行车灯"><a href="#日间行车灯" class="headerlink" title="日间行车灯"></a>日间行车灯</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=2583747335187405969&pd=bjh&fr=bjhauthor&type=video" target="_blank" rel="noopener">日间行车灯到底有没用?</a></li>
</ul>
<h3 id="汽车防夹手功能"><a href="#汽车防夹手功能" class="headerlink" title="汽车防夹手功能"></a>汽车防夹手功能</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=10616529883450756174" target="_blank" rel="noopener">为什么要买防夹手功能的车？</a></li>
</ul>
<h3 id="内后视镜自动防炫目"><a href="#内后视镜自动防炫目" class="headerlink" title="内后视镜自动防炫目"></a>内后视镜自动防炫目</h3><ul>
<li><a href="https://haokan.baidu.com/v?vid=6733134010090361135" target="_blank" rel="noopener">车内后视镜你真的会用吗？</a></li>
</ul>
<h3 id="City-Safety"><a href="#City-Safety" class="headerlink" title="City Safety"></a>City Safety</h3><ul>
<li>[Volvo CitySafety](Volvo CitySafety)</li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-10-02 </div>
			<div class="article-title"><a href="/2019/10/02/2019-10--02.android/" >Android Notes</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<h2 id="用户界面"><a href="#用户界面" class="headerlink" title="用户界面"></a>用户界面</h2><h3 id="下拉刷新控件"><a href="#下拉刷新控件" class="headerlink" title="下拉刷新控件"></a>下拉刷新控件</h3><ul>
<li><a href="https://github.com/chrisbanes/ActionBar-PullToRefresh" target="_blank" rel="noopener">ActionBar-PullToRefresh</a></li>
</ul>
<h3 id="侧边滑动菜单"><a href="#侧边滑动菜单" class="headerlink" title="侧边滑动菜单"></a>侧边滑动菜单</h3><ul>
<li><a href="https://github.com/jfeinstein10/SlidingMenu" target="_blank" rel="noopener">SlideMenu</a></li>
<li>DrawerLayout</li>
</ul>
<h3 id="ActionBar"><a href="#ActionBar" class="headerlink" title="ActionBar"></a>ActionBar</h3><ul>
<li><a href="https://github.com/JakeWharton/ActionBarSherlock" target="_blank" rel="noopener">ActionBarSherlock</a></li>
</ul>
<h2 id="系统功能"><a href="#系统功能" class="headerlink" title="系统功能"></a>系统功能</h2><h3 id="ASF-Android-Sensor-Framework-传感器系统"><a href="#ASF-Android-Sensor-Framework-传感器系统" class="headerlink" title="ASF(Android Sensor Framework) 传感器系统"></a>ASF(Android Sensor Framework) 传感器系统</h3><h3 id="NFC-Near-Field-Comunication-近场通讯"><a href="#NFC-Near-Field-Comunication-近场通讯" class="headerlink" title="NFC(Near Field Comunication) 近场通讯"></a>NFC(Near Field Comunication) 近场通讯</h3><ul>
<li>Android Beam 在两个 Android 手机中通过 NFC 芯片传输数据</li>
<li>如果传输大的文件，内部自动转为蓝牙模式</li>
</ul>
<h2 id="AR-amp-amp-VR"><a href="#AR-amp-amp-VR" class="headerlink" title="AR &amp;&amp; VR"></a>AR &amp;&amp; VR</h2><ul>
<li>AR:Augmented Reality 增强现实</li>
<li>VR: Virtial Reality 虚拟现实</li>
<li><a href="https://www.layar.com/" target="_blank" rel="noopener">Layar是全球第一款增强现实感的手机浏览器</a></li>
<li><a href="https://developer.vuforia.com/" target="_blank" rel="noopener">高通 AR 开发包</a></li>
</ul>
<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><ul>
<li>Effective UID: 权利标识</li>
<li>Real UID: 身份标识</li>
</ul>
<h2 id="数据存储"><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h2><h3 id="创建文件和文件夹"><a href="#创建文件和文件夹" class="headerlink" title="创建文件和文件夹"></a>创建文件和文件夹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建文件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"xxx.xx"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(！file.exists())&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    file.createNewFile();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建文一级件夹</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">File folder = <span class="keyword">new</span> File(<span class="string">"xxx"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!folder.exists())&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    folder.mkdir();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建文多级件夹</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">File folder = <span class="keyword">new</span> File(<span class="string">"xxx/ddd/eee"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!folder.exists())&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    older.mkdirs();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="读取-assets-文件夹中读取文件"><a href="#读取-assets-文件夹中读取文件" class="headerlink" title="读取 assets 文件夹中读取文件"></a>读取 <code>assets</code> 文件夹中读取文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字节流数据</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">InputStream is = getResources().getAssets().open(<span class="string">"xxx.xx"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果是文本可以转为字符流</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(is,<span class="string">"UTF_8"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以进一步包装方便读取</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">BufferedReader bfr = <span class="keyword">new</span> BufferedReader(isr);</span></pre></td></tr></table></figure>


<h3 id="读取-res-gt-raw-文件夹下的文件"><a href="#读取-res-gt-raw-文件夹下的文件" class="headerlink" title="读取 res-&gt;raw 文件夹下的文件"></a>读取 <code>res-&gt;raw</code> 文件夹下的文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字节流数据</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">InputStream is = getResources().openRawResource.(R.raw.xxxx);</span></pre></td></tr></table></figure>

<h3 id="读写应用内部文件存储空间"><a href="#读写应用内部文件存储空间" class="headerlink" title="读写应用内部文件存储空间"></a>读写应用内部文件存储空间</h3><p>内部文件存储空间在 <code>/data/data/xxxxx/</code></p>
<ul>
<li><p>写入文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">FileOutputStream fos = openFileOutput(<span class="string">"xxx.xx"</span>,Context.MODE_PRIVATE);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos,<span class="string">"UTF_8"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">osw.write(<span class="string">"xxxxxx"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">osw.flush();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">fos.flush();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">osw.close();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">fos.close();</span></pre></td></tr></table></figure>
</li>
<li><p>读取文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">FileInputStream fis = openFileOutput(<span class="string">"xxx.xx"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">InputStreamReader is = <span class="keyword">new</span> InputStreamReader(is,<span class="string">"UTF_8"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> input[] = <span class="keyword">new</span> <span class="keyword">char</span>[fis.available()];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">is.read(input);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">is.close();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">fis.close();</span></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="读取外部存储文件"><a href="#读取外部存储文件" class="headerlink" title="读取外部存储文件"></a>读取外部存储文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">File sdcard = Environment.getExternalStorageDirectory();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">File myfile = <span class="keyword">new</span> File(sdcard,<span class="string">"xxx.xx"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(myfile.exists())&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// TODO...</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="Preference-存储"><a href="#Preference-存储" class="headerlink" title="Preference 存储"></a>Preference 存储</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">SharePreferences pre = getPreferences(Activity.MODE_PRIVATE);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Editor editor = pre.edit();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 存储</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">editor.putString(<span class="string">"myKey"</span>,<span class="string">"xxxxxs"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">editor.commit();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">String str = pre.getString(<span class="string">"myKey"</span>,<span class="string">"default value"</span>);</span></pre></td></tr></table></figure>

<h3 id="ContentProvider"><a href="#ContentProvider" class="headerlink" title="ContentProvider"></a>ContentProvider</h3><ul>
<li><a href="https://www.jianshu.com/p/94b8582d089a" target="_blank" rel="noopener">Android四大组件——ContentProvider（基础篇）</a></li>
</ul>
<h3 id="XML-文件读写"><a href="#XML-文件读写" class="headerlink" title="XML 文件读写"></a>XML 文件读写</h3><p>-<a href="https://blog.csdn.net/u011967006/article/details/78173620" target="_blank" rel="noopener">Android Xml文件生成,Xml数据格式写入</a></p>
<ul>
<li><a href="https://www.cnblogs.com/xiobai/p/10826568.html" target="_blank" rel="noopener">Android—–解析xml文件的三种方式</a></li>
</ul>
<h3 id="JSON-操作"><a href="#JSON-操作" class="headerlink" title="JSON 操作"></a>JSON 操作</h3><ul>
<li><a href="https://www.jianshu.com/p/1409eec214d0" target="_blank" rel="noopener">Android Json介绍和Gson使用</a></li>
</ul>
<h2 id="网络通讯"><a href="#网络通讯" class="headerlink" title="网络通讯"></a>网络通讯</h2><h3 id="AsyncTask"><a href="#AsyncTask" class="headerlink" title="AsyncTask"></a>AsyncTask</h3><ul>
<li><a href="https://www.jianshu.com/p/13ce5e205122" target="_blank" rel="noopener">Android AsyncTask 详解</a><h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="创建文件-1"><a href="#创建文件-1" class="headerlink" title="创建文件"></a>创建文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr></table></figure>




	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-09-20 </div>
			<div class="article-title"><a href="/2019/09/20/2019-09--20.hadoop/" >Hadoop</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>Hadoop是一个由Apache基金会所开发的分布式系统基础架构。<br>用户可以在不了解分布式底层细节的情况下，开发分布式程序。充分利用集群的威力进行高速运算和存储。<br>Hadoop实现了一个分布式文件系统（Hadoop Distributed File System），简称HDFS。HDFS有高容错性的特点，并且设计用来部署在低廉的（low-cost）硬件上；而且它提供高吞吐量（high throughput）来访问应用程序的数据，适合那些有着超大数据集（large data set）的应用程序。HDFS放宽了（relax）POSIX的要求，可以以流的形式访问（streaming access）文件系统中的数据。<br>Hadoop的框架最核心的设计就是：HDFS和MapReduce。HDFS为海量的数据提供了存储，而MapReduce则为海量的数据提供了计算。</p>
</blockquote>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://wiki.apache.org/hadoop/" target="_blank" rel="noopener">官网</a></li>
<li><a href="https://www.imooc.com/learn/391" target="_blank" rel="noopener">认识Hadoop–基础篇</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-09-18 </div>
			<div class="article-title"><a href="/2019/09/18/2019-09--18.docker/" >Docker</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中,然后发布到任何流行的Linux机器上,也可以实现虚拟化,容器是完全使用沙箱机制,相互之间不会有任何接口。<br>Docker 是 PaaS 提供商 dotCloud 开源的一个基于 LXC 的高级容器引擎，源代码托管在 Github 上, 基于go语言并遵从Apache2.0协议开源。<br>Docker 自 2013 年以来非常火热，无论是从 github 上的代码活跃度，还是Redhat在RHEL6.5中集成对Docker的支持, 就连 Google 的 Compute Engine 也支持 docker 在其之上运行。<br>一款开源软件能否在商业上成功，很大程度上依赖三件事 - 成功的 user case(用例), 活跃的社区和一个好故事。 dotCloud 自家的 PaaS 产品建立在docker之上，长期维护且有大量的用户，社区也十分活跃，接下来我们看看docker的故事。</p>
</blockquote>
<h2 id="Docker-理解"><a href="#Docker-理解" class="headerlink" title="Docker 理解"></a>Docker 理解</h2><ul>
<li>有 client 和 server 端</li>
<li>docker 网络可以通过 bridge 和 host 方式链接</li>
<li>image 运行起来变为 container</li>
<li>image 不能修改，但是 container 可以</li>
<li>每个 container 就是一个独立的虚拟机，可以进入查看运行</li>
<li>可以创建 image，创建的 image 可以依赖于现有的 image。例如 web 应用可以依赖 tomcat 的 image</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://www.docker.com/" target="_blank" rel="noopener">官网</a></li>
<li><a href="https://www.imooc.com/learn/824" target="_blank" rel="noopener">第一个docker化的java应用-推荐</a></li>
<li><a href="https://www.imooc.com/learn/867" target="_blank" rel="noopener">docker 入门</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-09-17 </div>
			<div class="article-title"><a href="/2019/09/17/2019-09--17.golang/" >Golang</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><img src="https://baike.baidu.com/pic/go/953521/0/3b87e950352ac65c5eb643ddf9f2b21192138ae8?fr=lemma&ct=single" alt=""></p>
<blockquote>
<p>Go（又称Golang）是Google开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言。<br>罗伯特·格瑞史莫（Robert Griesemer），罗勃·派克（Rob Pike）及肯·汤普逊（Ken Thompson）于2007年9月开始设计Go，稍后Ian Lance Taylor、Russ Cox加入项目。Go是基于Inferno操作系统所开发的。Go于2009年11月正式宣布推出，成为开放源代码项目，并在Linux及Mac OS X平台上进行了实现，后来追加了Windows系统下的实现。在2016年，Go被软件评价公司TIOBE 选为“TIOBE 2016 年最佳语言”。 目前，Go每半年发布一个二级版本（即从a.x升级到a.y）</p>
</blockquote>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://golang.org" target="_blank" rel="noopener">官网</a></li>
<li><a href="https://www.imooc.com/learn/968" target="_blank" rel="noopener">go 语言语法入门</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2019-03-25 </div>
			<div class="article-title"><a href="/2019/03/25/2019-03--25.gantt.project.start/" >Gantt Project Start</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>GanttProject 是以 JAVA 编写的开源软件。可让你轻松绘出甘特图，可输出 PNG/JPG 图片格式、HTML 网页，或是 PDF 档案格式。你能输入项目的可用资源、里程碑、任务/子任务，以及任务的起始日期、持续时间、相依性、进度、备注等等，并且在甘特图上显示出来。</p>
</blockquote>
<h2 id="文章介绍"><a href="#文章介绍" class="headerlink" title="文章介绍"></a>文章介绍</h2><ul>
<li><a href="https://www.mifengtd.cn/articles/creat-a-gantt-chart-with-ganttproject.html" target="_blank" rel="noopener">甘特图绘制软件GanttProject</a></li>
</ul>
<h2 id="视频教程"><a href="#视频教程" class="headerlink" title="视频教程"></a>视频教程</h2><ul>
<li><a href="https://www.youtube.com/watch?v=MEIYzfDGHCw" target="_blank" rel="noopener">GanttProject操作方法教學影片 (Part 1)</a></li>
<li><a href="https://www.youtube.com/watch?v=p7Rhbknsf2g" target="_blank" rel="noopener">GanttProject操作方法教學影片 (Part 2)</a></li>
</ul>
<h2 id="常用布局"><a href="#常用布局" class="headerlink" title="常用布局"></a>常用布局</h2><ul>
<li>左边栏: 名称-产出-期间-开始时间-结束时间-资源</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://www.ganttproject.biz/" target="_blank" rel="noopener">官网</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-12-03 </div>
			<div class="article-title"><a href="/2018/12/03/2018-12-03-mermaid/" >Mermaid</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>Mermaid 是一个轻量级的图标生成工具(基于 nodejs)，只要通过简单的配置既可以生成漂亮的不同格式文件(svg、png、pdf)</p>
<blockquote>
<p>Generation of diagrams and flowcharts from text in a similar manner as markdown.<br>Ever wanted to simplify documentation and avoid heavy tools like Visio when explaining your code?<br>This is why mermaid was born, a simple markdown-like script language for generating charts from text via javascript.</p>
</blockquote>
<h2 id="一、效果图"><a href="#一、效果图" class="headerlink" title="一、效果图"></a>一、效果图</h2><h3 id="Flowchart"><a href="#Flowchart" class="headerlink" title="Flowchart"></a>Flowchart</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">graph TD;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    A--&gt;B;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    A--&gt;C;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    B--&gt;D;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    C--&gt;D;</span></pre></td></tr></table></figure>

<p><a href="https://github.com/knsv/mermaid/blob/master/img/flow.png" target="_blank" rel="noopener"><img src="https://github.com/knsv/mermaid/raw/master/img/flow.png" alt="Flowchart"></a></p>
<h3 id="Sequence-diagram"><a href="#Sequence-diagram" class="headerlink" title="Sequence diagram"></a>Sequence diagram</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    participant Alice</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    participant Bob</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    Alice-&gt;&gt;John: Hello John, how are you?</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    loop Healthcheck</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        John-&gt;&gt;John: Fight against hypochondria</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    end</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    Note right of John: Rational thoughts &lt;br&#x2F;&gt;prevail...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    John--&gt;&gt;Alice: Great!</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    John-&gt;&gt;Bob: How about you?</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    Bob--&gt;&gt;John: Jolly good!</span></pre></td></tr></table></figure>

<p><a href="https://github.com/knsv/mermaid/blob/master/img/sequence.png" target="_blank" rel="noopener"><img src="https://github.com/knsv/mermaid/raw/master/img/sequence.png" alt="Sequence diagram"></a></p>
<h3 id="Gantt-diagram"><a href="#Gantt-diagram" class="headerlink" title="Gantt diagram"></a>Gantt diagram</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">gantt</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">dateFormat  YYYY-MM-DD</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">title Adding GANTT diagram to mermaid</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">section A section</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">Completed task            :done,    des1, 2014-01-06,2014-01-08</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">Active task               :active,  des2, 2014-01-09, 3d</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">Future task               :         des3, after des2, 5d</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">Future task2               :         des4, after des3, 5d</span></pre></td></tr></table></figure>

<p><a href="https://github.com/knsv/mermaid/blob/master/img/gantt.png" target="_blank" rel="noopener"><img src="https://github.com/knsv/mermaid/raw/master/img/gantt.png" alt="Gantt diagram"></a></p>
<h3 id="Class-diagram-experimental"><a href="#Class-diagram-experimental" class="headerlink" title="Class diagram - experimental"></a>Class diagram - experimental</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">classDiagram</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Class01 &lt;|-- AveryLongClass : Cool</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">Class03 *-- Class04</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">Class05 o-- Class06</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">Class07 .. Class08</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">Class09 --&gt; C2 : Where am i?</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">Class09 --* C3</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">Class09 --|&gt; Class07</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">Class07 : equals()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">Class07 : Object[] elementData</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">Class01 : size()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">Class01 : int chimp</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">Class01 : int gorilla</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">Class08 &lt;--&gt; C2: Cool label</span></pre></td></tr></table></figure>

<p><a href="https://github.com/knsv/mermaid/blob/master/img/class.png" target="_blank" rel="noopener"><img src="https://github.com/knsv/mermaid/raw/master/img/class.png" alt="Class diagram"></a></p>
<h3 id="Git-graph-experimental"><a href="#Git-graph-experimental" class="headerlink" title="Git graph - experimental"></a>Git graph - experimental</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">gitGraph:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">options</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    &quot;nodeSpacing&quot;: 150,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    &quot;nodeRadius&quot;: 10</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">end</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">commit</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">branch newbranch</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">checkout newbranch</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">commit</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">commit</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">checkout master</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">commit</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">commit</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">merge newbranch</span></pre></td></tr></table></figure>

<p><a href="https://github.com/knsv/mermaid/blob/master/img/git.png" target="_blank" rel="noopener"><img src="https://github.com/knsv/mermaid/raw/master/img/git.png" alt="Git graph"></a></p>
<h2 id="二、使用技巧"><a href="#二、使用技巧" class="headerlink" title="二、使用技巧"></a>二、使用技巧</h2><h3 id="Mermaid-cli"><a href="#Mermaid-cli" class="headerlink" title="Mermaid.cli"></a>Mermaid.cli</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mmdc -i input.mmd -o output.svg</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">mmdc -i input.mmd -o output.png</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">mmdc -i input.mmd -o output.pdf</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">mmdc -i input.mmd -o output.svg -w 1024 -H 768</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">mmdc -i input.mmd -t forest</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">mmdc -i input.mmd -o output.png -b <span class="string">'#FFF000'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">mmdc -i input.mmd -o output.png -b transparent</span></pre></td></tr></table></figure>
<h3 id="Gantt"><a href="#Gantt" class="headerlink" title="Gantt"></a>Gantt</h3><p>在生成甘特图时如果时间比较紧密，使用 <code>mermaid.cli</code> 命令行生成的 pdf 文件时，时间会挤在一起。这时可以使用 <a href="https://github.com/mermaidjs/mermaid-live-editor" target="_blank" rel="noopener">mermaid 在线编辑器</a> 在线显示，再通过浏览器保存为 pdf 解决</p>
<h2 id="三、问题解决"><a href="#三、问题解决" class="headerlink" title="三、问题解决"></a>三、问题解决</h2><h3 id="安装-mermaid-cli-问题"><a href="#安装-mermaid-cli-问题" class="headerlink" title="安装 mermaid.cli 问题"></a>安装 mermaid.cli 问题</h3><h4 id="ERROR-Failed-to-download-Chromium-r515411-Set-quot-PUPPETEER-SKIP-CHROMIUM-DOWNLOA"><a href="#ERROR-Failed-to-download-Chromium-r515411-Set-quot-PUPPETEER-SKIP-CHROMIUM-DOWNLOA" class="headerlink" title="ERROR: Failed to download Chromium r515411! Set &quot;PUPPETEER_SKIP_CHROMIUM_DOWNLOA"></a><code>ERROR: Failed to download Chromium r515411! Set &quot;PUPPETEER_SKIP_CHROMIUM_DOWNLOA</code></h4><p>可以通过设置环境变量 <code>$env:PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1</code></p>
<h4 id="全局安装失败问题"><a href="#全局安装失败问题" class="headerlink" title="全局安装失败问题"></a>全局安装失败问题</h4><p>这个问题在 <code>mermaind.cli</code> git 主页中有提到，建议使用本地安装解决。<br>这边有个办法可以安装为全局：</p>
<ul>
<li>进入 node 插件全局安装目录 <code>C:\Users\xxxx\AppData\Roaming\npm</code></li>
<li><code>npm i mermaid.cli</code></li>
</ul>
<h2 id="四、补充"><a href="#四、补充" class="headerlink" title="四、补充"></a>四、补充</h2><p>目前 Sublime 还不支持 Mermaid 插件，不过 <a href="https://typora.io/#windows" target="_blank" rel="noopener">typora</a> 已经得到了支持，如果习惯该编辑器的可以尝试下</p>
<h3 id="Gantt-1"><a href="#Gantt-1" class="headerlink" title="Gantt"></a>Gantt</h3><ul>
<li>无法按百分比显示当前项目进度</li>
<li>没有里程碑标记</li>
</ul>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="https://github.com/knsv/mermaid#readme" target="_blank" rel="noopener">mermaid git</a></li>
<li><a href="https://github.com/mermaidjs/mermaid.cli" target="_blank" rel="noopener">mermaid cli</a></li>
<li><a href="https://mermaidjs.github.io/" target="_blank" rel="noopener">mermaid 电子文档</a></li>
<li><a href="https://github.com/mermaidjs/mermaid-live-editor" target="_blank" rel="noopener">mermaid 在线编辑器</a></li>
<li><a href="https://typora.io/#windows" target="_blank" rel="noopener">typora</a></li>
</ul>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2018-12-03 </div>
			<div class="article-title"><a href="/2018/12/03/2019-01-22.powershell.skill/" >Powershell Skill</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<h3 id="获取当前目录下指定文件，递归"><a href="#获取当前目录下指定文件，递归" class="headerlink" title="获取当前目录下指定文件，递归"></a>获取当前目录下指定文件，递归</h3><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Get-ChildItem</span> *.c -Recurse | <span class="built_in">ForEach-Object</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$file</span> = <span class="variable">$_</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$content</span> = <span class="built_in">Get-Content</span> -LiteralPath <span class="variable">$file</span> -Raw</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="JSON-相关操作"><a href="#JSON-相关操作" class="headerlink" title="JSON 相关操作"></a>JSON 相关操作</h3><h4 id="1-读写取-json-文件"><a href="#1-读写取-json-文件" class="headerlink" title="1. 读写取 json 文件"></a>1. 读写取 json 文件</h4><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">// 读取</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$numberToEnglish</span> = <span class="built_in">Get-Content</span> -Raw ./i18n/e8_sui_last_time.json -Encoding UTF8 | <span class="built_in">ConvertFrom-Json</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">// 写入</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$formalKeyToEnglish</span> | <span class="built_in">ConvertTo-Json</span> | <span class="built_in">Out-File</span> .\i18n\en.json -Encoding utf8</span></pre></td></tr></table></figure>

<h4 id="2-使用-JSON-创建对象"><a href="#2-使用-JSON-创建对象" class="headerlink" title="2. 使用 JSON 创建对象"></a>2. 使用 JSON 创建对象</h4><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$json</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "ServerName": "<span class="variable">$env:ComputerName</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "UserName": "<span class="variable">$env:UserName</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "BIOS": &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="string">         "Manufacturer" : "$((Get-WmiObject -Class Win32_BIOS).Manufacturer)",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="string">         "Version" : "$((Get-WmiObject -Class Win32_BIOS).Version)",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="string">         "Serial" : "$((Get-WmiObject -Class Win32_BIOS).SerialNumber)"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="string">         &#125;,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "OS" : "$([Environment]::OSVersion.VersionString)"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="string"> &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">// json -&gt; obj</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$jsonObj</span> = <span class="built_in">ConvertFrom-Json</span> -InputObject <span class="variable">$json</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">// 可以使用对象方法读写属性</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$jsonObj</span>.ServerName</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$jsonObj</span>.BIOS.Version</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$jsonObj</span>.OS</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">// json obj -&gt; json string</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$jsonString</span> = <span class="built_in">ConvertTo-Json</span> -InputObject <span class="variable">$templateObj</span></span></pre></td></tr></table></figure>
<ul>
<li><a href="http://www.pstips.net/use-json-to-create-objects.html" target="_blank" rel="noopener">Powershell 使用 JSON 创建对象</a></li>
</ul>
<h3 id="XML-相关操作"><a href="#XML-相关操作" class="headerlink" title="XML 相关操作"></a>XML 相关操作</h3><h4 id="1-基础操作"><a href="#1-基础操作" class="headerlink" title="1. 基础操作"></a>1. 基础操作</h4><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$xml</span> = <span class="string">@'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;?xml version="1.0" standalone="yes"?&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;staff branch="Hanover" Type="sales"&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;employee&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;Name&gt;Tobias Weltner&lt;/Name&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;function&gt;management&lt;/function&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;age&gt;39&lt;/age&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;/employee&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;employee&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;Name&gt;Cofi Heidecke&lt;/Name&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;function&gt;security&lt;/function&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;age&gt;4&lt;/age&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;/employee&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;/staff&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="string">'@</span> | <span class="built_in">Out-File</span> employee.xml</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">// xml string -&gt; xml 结构</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$xmldata</span> = [xml]<span class="variable">$xml</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">// 读取 xml 文件</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$xmldata</span> = [xml](<span class="built_in">Get-Content</span> employee.xml)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">// 保存文件</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$xmldata</span>.Save(“<span class="variable">$env:temp</span>\updateddata.xml”)</span></pre></td></tr></table></figure>

<h4 id="2-代码示例"><a href="#2-代码示例" class="headerlink" title="2. 代码示例"></a>2. 代码示例</h4><ul>
<li><p>xml 文件</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;template xmlns=<span class="string">"http://www.ingenico.com/ingestate/paramTemplate"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    id=<span class="string">"xxx"</span> name=<span class="string">"xxx"</span> description=<span class="string">"xxx Parameters"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    version=<span class="string">"00002"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&lt;fields&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- TERMINAL CONFIGURATION --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"MinimumAmount"</span> name=<span class="string">"Minimum Amount"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">            access=<span class="string">"READWRITE"</span> type=<span class="string">"numeric"</span> minLength=<span class="string">"1"</span> maxLength=<span class="string">"12"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"ReceiptHeaderLine1"</span> name=<span class="string">"Header Line 1"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"27"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"ReceiptHeaderLine2"</span> name=<span class="string">"Header Line 2"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"27"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"ReceiptHeaderLine3"</span> name=<span class="string">"Header Line 3"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"27"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"ReceiptHeaderLine4"</span> name=<span class="string">"Header Line 4"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"27"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"ReceiptHeaderLine5"</span> name=<span class="string">"Header Line 5"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"27"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- choiceField id=<span class="string">"VoidPasswordLevel"</span> name=<span class="string">"Void Password Level"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"2"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Manager"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Supervisor"</span> value=<span class="string">"2"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Access Freely"</span> value=<span class="string">"3"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"SettlementPasswordLevel"</span> name=<span class="string">"Settlement Password Level"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"2"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Manager"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Supervisor"</span> value=<span class="string">"2"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Access Freely"</span> value=<span class="string">"3"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt; --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"SaleEnabled"</span> name=<span class="string">"Sale"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled &amp;amp; Hide"</span> value=<span class="string">"2"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"VoidEnabled"</span> name=<span class="string">"Void"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled &amp;amp; Hide"</span> value=<span class="string">"2"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"InstalmentSaleEnabled"</span> name=<span class="string">"Instalment Sale"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;      </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"PreAuthEnabled"</span> name=<span class="string">"PreAuth"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- &lt;choiceField id=<span class="string">"PreAuthCompletionOnlineEnabled"</span> name=<span class="string">"PreAuth-Comp Online"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"PreAuthCompletionOfflineEnabled"</span> name=<span class="string">"PreAuth-Comp Offline"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt; --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"OfflineSaleEnabled"</span> name=<span class="string">"Offline Sale"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"UPIPreAuthEnabled"</span> name=<span class="string">"UPI PreAuth"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">73</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">74</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">75</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">76</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">77</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"RefundEnabled"</span> name=<span class="string">"Refund"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">78</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">79</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">80</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">81</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">82</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"TxCashAdvanceEnabled"</span> name=<span class="string">"Cash Advance"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">83</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">84</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">85</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">86</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">87</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"TxSaleWithCashEnabled"</span> name=<span class="string">"Sale + Cash"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">88</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">89</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">90</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">91</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">92</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"DebitPriority"</span> name=<span class="string">"MyDebit/Scheme Priority"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">93</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">94</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Opt-In"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">95</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Opt-Out"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">96</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">97</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- &lt;choiceField id=<span class="string">"VoidPreAuthEnabled"</span> name=<span class="string">"Void PreAuth"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">98</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">99</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">100</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">101</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt; --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">102</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"SaleContactlessEnabled"</span> name=<span class="string">"Contactless Sale"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">103</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">104</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">105</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">106</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">107</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">108</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- EMV Tags --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">109</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"TermCapability"</span> name=<span class="string">"Terminal Capability"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">110</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"6"</span> maxLength=<span class="string">"6"</span> defaultValue=<span class="string">"E0F0C8"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">111</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"AdditionTermCapability"</span> name=<span class="string">"Additional Terminal Capability"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">112</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"10"</span> maxLength=<span class="string">"10"</span> defaultValue=<span class="string">"F000F0A001"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">113</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"TermType"</span> name=<span class="string">"Terminal Type"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">114</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"2"</span> maxLength=<span class="string">"2"</span> defaultValue=<span class="string">"22"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">115</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"TermCountryCode"</span> name=<span class="string">"Terminal Country Code"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">116</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"numeric"</span> minLength=<span class="string">"3"</span> maxLength=<span class="string">"3"</span> defaultValue=<span class="string">"458"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">117</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"TerminalBaseCurrencyCode"</span> name=<span class="string">"Terminal Base Currency Code"</span> access=<span class="string">"READWRITE"</span> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">118</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"numeric"</span> minLength=<span class="string">"3"</span> maxLength=<span class="string">"3"</span> defaultValue=<span class="string">"458"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">119</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">120</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">121</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- QR Settings --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">122</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QROptInOption"</span> name=<span class="string">"QR OptIn Option"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">123</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"1"</span> defaultValue=<span class="string">"Y"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">124</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QRPaymentURL"</span> name=<span class="string">"QR Payment URL"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">125</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"99"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">126</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QRPaymentInqURL"</span> name=<span class="string">"QR Payment Inq URL"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">127</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"99"</span> defaultValue=<span class="string">"MBB"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">128</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QRCancelOrderURL"</span> name=<span class="string">"QR Cancel Order URL"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">129</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"99"</span> defaultValue=<span class="string">"MBB"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">130</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QRWalletIDURL"</span> name=<span class="string">"QR Wallet ID URL"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">131</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"99"</span> defaultValue=<span class="string">"MBB"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">132</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QRRegisterURL"</span> name=<span class="string">"QR Register URL"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">133</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"99"</span> defaultValue=<span class="string">"MBB"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">134</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QRLogonURL"</span> name=<span class="string">"QR Logon URL"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">135</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"99"</span> defaultValue=<span class="string">"MBB"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">136</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"QRMasterKey"</span> name=<span class="string">"QR Master Key"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">137</span></pre></td><td class="code"><pre><span class="line">            type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"64"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">138</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"TXQRSaleEnabled"</span> name=<span class="string">"QR Sale flag"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">139</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"0"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">140</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">141</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">142</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">143</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">144</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- Terminal ID TABLE --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">145</span></pre></td><td class="code"><pre><span class="line">        &lt;structureField id=<span class="string">"TerminalIds"</span> name=<span class="string">"TerminalIds"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">146</span></pre></td><td class="code"><pre><span class="line">            minRows=<span class="string">"0"</span> maxRows=<span class="string">"300"</span> uniqueKeys=<span class="string">"TidIndex"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">147</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">148</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"TidIndex"</span> name=<span class="string">"Index"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">149</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"numeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"3"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">150</span></pre></td><td class="code"><pre><span class="line">                </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">151</span></pre></td><td class="code"><pre><span class="line">            &lt;dynamicChoiceField id=<span class="string">"TidHostIndex"</span> name=<span class="string">"Host Index"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">152</span></pre></td><td class="code"><pre><span class="line">                refFieldId=<span class="string">"Hosts"</span> refLabel=<span class="string">"HostName"</span> refValue=<span class="string">"HostIndex"</span>/&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">153</span></pre></td><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">154</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"TerminalId"</span> name=<span class="string">"Terminal ID"</span> access=<span class="string">"READWRITE"</span> type=<span class="string">"alphanumeric"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">155</span></pre></td><td class="code"><pre><span class="line">                minLength=<span class="string">"1"</span> maxLength=<span class="string">"8"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">156</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"MerchantId"</span> name=<span class="string">"Merchant ID"</span> access=<span class="string">"READWRITE"</span> type=<span class="string">"alphanumeric"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">157</span></pre></td><td class="code"><pre><span class="line">                minLength=<span class="string">"1"</span> maxLength=<span class="string">"15"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">158</span></pre></td><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">159</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceField id=<span class="string">"AcquirerEnabled"</span> name=<span class="string">"Acquirer Enable"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">160</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">161</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">162</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">163</span></pre></td><td class="code"><pre><span class="line">            &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">164</span></pre></td><td class="code"><pre><span class="line">        &lt;/structureField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">165</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">166</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- INSTALMENT TABLE --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">167</span></pre></td><td class="code"><pre><span class="line">        &lt;structureField id=<span class="string">"Instalments"</span> name=<span class="string">"Instalments"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">168</span></pre></td><td class="code"><pre><span class="line">            minRows=<span class="string">"0"</span> maxRows=<span class="string">"300"</span> uniqueKeys=<span class="string">"InstalmentIndex"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">169</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">170</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"InstalmentIndex"</span> name=<span class="string">"Index"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">171</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"numeric"</span> minLength=<span class="string">"1"</span> maxLength=<span class="string">"3"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">172</span></pre></td><td class="code"><pre><span class="line">                            </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">173</span></pre></td><td class="code"><pre><span class="line">            &lt;dynamicChoiceField id=<span class="string">"InstalmentHostIndex"</span> name=<span class="string">"Host"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">174</span></pre></td><td class="code"><pre><span class="line">                refFieldId=<span class="string">"Hosts"</span> refLabel=<span class="string">"HostName"</span> refValue=<span class="string">"HostIndex"</span>/&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">175</span></pre></td><td class="code"><pre><span class="line">                </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">176</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"InstalmentDescription"</span> name=<span class="string">"Description"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">177</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"20"</span> defaultValue=<span class="string">"EZP 0 MONTHS"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">178</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">179</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"InstallmentID"</span> name=<span class="string">"Installment ID"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">180</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"numeric"</span> minLength=<span class="string">"1"</span> maxLength=<span class="string">"3"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">181</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">182</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"InstalmentPeriod"</span> name=<span class="string">"Instalment Period (Months)"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">183</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"numeric"</span> minLength=<span class="string">"1"</span> maxLength=<span class="string">"2"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">184</span></pre></td><td class="code"><pre><span class="line">                    </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">185</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"InstalmentMinAmount"</span> name=<span class="string">"Instalment Minimum Amount (cents)"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">186</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"numeric"</span> minLength=<span class="string">"1"</span> maxLength=<span class="string">"12"</span> defaultValue=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">187</span></pre></td><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">188</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceField id=<span class="string">"TenureEnabled"</span> name=<span class="string">"Tenure enabled"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">189</span></pre></td><td class="code"><pre><span class="line">                defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">190</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">191</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">192</span></pre></td><td class="code"><pre><span class="line">            &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">193</span></pre></td><td class="code"><pre><span class="line">        &lt;/structureField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">194</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">195</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- AMEX CONFIGURATION --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">196</span></pre></td><td class="code"><pre><span class="line">        &lt;!--</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">197</span></pre></td><td class="code"><pre><span class="line">        &lt;choiceField id=<span class="string">"AmexHttpsHeaderEnabled"</span> name=<span class="string">"Amex HTTPS Header"</span> type=<span class="string">"SINGLE"</span> defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">198</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">199</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">200</span></pre></td><td class="code"><pre><span class="line">        &lt;/choiceField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">201</span></pre></td><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">202</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"AmexOrigin"</span> name=<span class="string">"Amex Origin"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">203</span></pre></td><td class="code"><pre><span class="line">            access=<span class="string">"READWRITE"</span> type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"1"</span> maxLength=<span class="string">"999"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">204</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"MBB"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">205</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"AmexCountryCode"</span> name=<span class="string">"Amex Country Code"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">206</span></pre></td><td class="code"><pre><span class="line">            access=<span class="string">"READWRITE"</span> type=<span class="string">"numeric"</span> minLength=<span class="string">"3"</span> maxLength=<span class="string">"3"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">207</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"458"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">208</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"AmexRegion"</span> name=<span class="string">"Amex Region"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">209</span></pre></td><td class="code"><pre><span class="line">            access=<span class="string">"READWRITE"</span> type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"10"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">210</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"JAPA"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">211</span></pre></td><td class="code"><pre><span class="line">        &lt;dataField id=<span class="string">"AmexRoutingIndicator"</span> name=<span class="string">"Amex Routing Indicator"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">212</span></pre></td><td class="code"><pre><span class="line">            access=<span class="string">"READWRITE"</span> type=<span class="string">"numeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"10"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">213</span></pre></td><td class="code"><pre><span class="line">            defaultValue=<span class="string">"050"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">214</span></pre></td><td class="code"><pre><span class="line">        --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">215</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">216</span></pre></td><td class="code"><pre><span class="line">        &lt;!-- EFTSEC TABLE --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">217</span></pre></td><td class="code"><pre><span class="line">        &lt;structureField id=<span class="string">"eftsecConfig"</span> name=<span class="string">"EFTSEC Config"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">218</span></pre></td><td class="code"><pre><span class="line">            minRows=<span class="string">"0"</span> maxRows=<span class="string">"300"</span> uniqueKeys=<span class="string">"eftsecIndex"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">219</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">220</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecIndex"</span> name=<span class="string">"Index"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">221</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"numeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"3"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">222</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecHostName"</span> name=<span class="string">"EFTSEC Host Name"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">223</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"20"</span> defaultValue=<span class="string">"MBB"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">224</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecComHostName"</span> name=<span class="string">"Comms Host Name"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">225</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"20"</span> defaultValue=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">226</span></pre></td><td class="code"><pre><span class="line">            &lt;choiceField id=<span class="string">"eftsecLEEnable"</span> name=<span class="string">"LE Enabled"</span> type=<span class="string">"SINGLE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">227</span></pre></td><td class="code"><pre><span class="line">                defaultValue=<span class="string">"1"</span> access=<span class="string">"READWRITE"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">228</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Disabled"</span> value=<span class="string">"0"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">229</span></pre></td><td class="code"><pre><span class="line">                &lt;choiceValue label=<span class="string">"Enabled"</span> value=<span class="string">"1"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">230</span></pre></td><td class="code"><pre><span class="line">            &lt;/choiceField&gt;  </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">231</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecRKSVendorID"</span> name=<span class="string">"Vendor ID"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">232</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"8"</span> defaultValue=<span class="string">"00000002"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">233</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecRKSAcquirerID"</span> name=<span class="string">"Acquirer ID"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">234</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"3"</span> defaultValue=<span class="string">"001"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">235</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecRKSLTID"</span> name=<span class="string">"LTID"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">236</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"8"</span> defaultValue=<span class="string">"10000002"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">237</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecRKSEncryptionMethod"</span> name=<span class="string">"Encryption Method"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">238</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"4"</span> defaultValue=<span class="string">"2221"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">239</span></pre></td><td class="code"><pre><span class="line">            &lt;dataField id=<span class="string">"eftsecRKSTPDU"</span> name=<span class="string">"TPDU"</span> access=<span class="string">"READWRITE"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">240</span></pre></td><td class="code"><pre><span class="line">                type=<span class="string">"alphanumeric"</span> minLength=<span class="string">"0"</span> maxLength=<span class="string">"10"</span> defaultValue=<span class="string">"6003550000"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">241</span></pre></td><td class="code"><pre><span class="line">        &lt;/structureField&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">242</span></pre></td><td class="code"><pre><span class="line">    &lt;/fields&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">243</span></pre></td><td class="code"><pre><span class="line">&lt;output&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">244</span></pre></td><td class="code"><pre><span class="line">        &lt;customParamFile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">245</span></pre></td><td class="code"><pre><span class="line">            customClass=<span class="string">"com.ingenico.apac.ingestate.custom.RegistryParameterFileOutput"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">246</span></pre></td><td class="code"><pre><span class="line">            &lt;settings fileType=<span class="string">"sqlite"</span> fileName=<span class="string">"mbbconf.db"</span> rootKey=<span class="string">""</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">247</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">248</span></pre></td><td class="code"><pre><span class="line">            &lt;!-- TERMINAL ID --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">249</span></pre></td><td class="code"><pre><span class="line">            &lt;structureOutput fieldId=<span class="string">"TerminalIds"</span> key=<span class="string">"TerminalIdTable"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">250</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"TidIndex"</span> key=<span class="string">"Index"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">251</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"TidHostIndex"</span> key=<span class="string">"HostIndex"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">252</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"TerminalId"</span> key=<span class="string">"TerminalId"</span> type=<span class="string">"STRING"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">253</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"MerchantId"</span> key=<span class="string">"MerchantId"</span> type=<span class="string">"STRING"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">254</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"AcquirerEnabled"</span> key=<span class="string">"AcquirerEnabled"</span> type=<span class="string">"BOOLEAN"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">255</span></pre></td><td class="code"><pre><span class="line">            &lt;/structureOutput&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">256</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">257</span></pre></td><td class="code"><pre><span class="line">            ...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">258</span></pre></td><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">259</span></pre></td><td class="code"><pre><span class="line">            &lt;!-- INSTALMENTS --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">260</span></pre></td><td class="code"><pre><span class="line">            &lt;structureOutput fieldId=<span class="string">"Instalments"</span> key=<span class="string">"InstalmentTable"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">261</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"InstalmentIndex"</span> key=<span class="string">"InstalmentIndex"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">262</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"InstalmentHostIndex"</span> key=<span class="string">"InstalmentHostIndex"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">263</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"InstalmentDescription"</span> key=<span class="string">"InstalmentDescription"</span> type=<span class="string">"STRING"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">264</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"InstallmentID"</span> key=<span class="string">"InstallmentID"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">265</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"InstalmentPeriod"</span> key=<span class="string">"InstalmentPeriod"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">266</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"InstalmentMinAmount"</span> key=<span class="string">"InstalmentMinAmount"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">267</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"TenureEnabled"</span> key=<span class="string">"TenureEnabled"</span> type=<span class="string">"BOOLEAN"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">268</span></pre></td><td class="code"><pre><span class="line">            &lt;/structureOutput&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">269</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">270</span></pre></td><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">271</span></pre></td><td class="code"><pre><span class="line">            &lt;!-- EFTSEC TABLE --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">272</span></pre></td><td class="code"><pre><span class="line">            &lt;structureOutput fieldId=<span class="string">"eftsecConfig"</span> key=<span class="string">"EFTSECTable"</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">273</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"eftsecIndex"</span> key=<span class="string">"Index"</span> type=<span class="string">"UINT"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">274</span></pre></td><td class="code"><pre><span class="line">                &lt;fieldOutput fieldId=<span class="string">"eftsecHostName"</span> key=<span class="string">"eftsecHostName"</span> type=<span class="string">"STRING"</span> /&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">275</span></pre></td><td class="code"><pre><span class="line">            &lt;/structureOutput&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">276</span></pre></td><td class="code"><pre><span class="line">        &lt;/customParamFile&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">277</span></pre></td><td class="code"><pre><span class="line">    &lt;/output&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">278</span></pre></td><td class="code"><pre><span class="line">&lt;/template&gt;</span></pre></td></tr></table></figure></li>
<li><p>解析代码</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 template 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getTemplate(<span class="variable">$version</span>,<span class="variable">$nodes</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$template</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="string">  "templateName": "xxx.Config.Parameters",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="string">  "templateVersion": "<span class="variable">$version</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="string">  "output": &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "type": "xml",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "fileName": "xxx.config.xml",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "keyNameLevel0": "node",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "keyNameLevel1": "node",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "keyNameLevel2": "node",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "attrNameLevel0": "tag",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "attrNameLevel1": "tag",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "attrNameLevel2": "tag"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="string">   "nodes":[<span class="variable">$nodes</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable">$template</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 tab 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getTabString(<span class="variable">$key</span>,<span class="variable">$name</span>,<span class="variable">$fields</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$tab</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "key": "<span class="variable">$key</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "name": "<span class="variable">$name</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "layoutType": "tab",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "fields":[<span class="variable">$fields</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable">$tab</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 datagrid 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getDatagrid(<span class="variable">$key</span>,<span class="variable">$name</span>,<span class="variable">$fields</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$datagrid</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "key": "<span class="variable">$key</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "name": "<span class="variable">$name</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "layoutType": "datagrid",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "fields": [<span class="variable">$fields</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable">$datagrid</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 text element 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getTextElement(<span class="variable">$key</span>,<span class="variable">$name</span>,<span class="variable">$defaultValue</span>,<span class="variable">$min</span>,<span class="variable">$max</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$txtElement</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "key": "<span class="variable">$key</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "name": "<span class="variable">$name</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "defValue": "<span class="variable">$defaultValue</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "layoutType": "text",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "minLength": <span class="variable">$min</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "maxLength": <span class="variable">$max</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable">$txtElement</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 radio 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getRadioElement(<span class="variable">$key</span>,<span class="variable">$name</span>,<span class="variable">$defaultValue</span>,<span class="variable">$fields</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$radioElement</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "key": "<span class="variable">$key</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "name": "<span class="variable">$name</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "defValue": "<span class="variable">$defaultValue</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "type": "bool",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "layoutType": "radio",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">73</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "choiceValue": &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">74</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "fields": [<span class="variable">$fields</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">75</span></pre></td><td class="code"><pre><span class="line"><span class="string">    &#125;,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">76</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "trueValue": "true",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">77</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "falseValue": "false"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">78</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">79</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">80</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable">$radioElement</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">81</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">82</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">83</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 声 dropDown element</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">84</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getDropdownElement(<span class="variable">$key</span>,<span class="variable">$name</span>,<span class="variable">$defaultValue</span>,<span class="variable">$fields</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">85</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$dropdown</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">86</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">87</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "key": "<span class="variable">$key</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">88</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "name": "<span class="variable">$name</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">89</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "defValue": "<span class="variable">$defaultValue</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">90</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "layoutType": "dropdown",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">91</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "choiceValue": &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">92</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "fields": [<span class="variable">$fields</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">93</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">94</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">95</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">96</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable">$dropdown</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">97</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">98</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">99</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 fileds element</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">100</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getFildesElement(<span class="variable">$key</span>,<span class="variable">$value</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">101</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$fieldElement</span> = <span class="string">@"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">102</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">103</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "name":"<span class="variable">$key</span>",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">104</span></pre></td><td class="code"><pre><span class="line"><span class="string">    "value":"<span class="variable">$value</span>"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">105</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">106</span></pre></td><td class="code"><pre><span class="line"><span class="string">"@</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">107</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable">$fieldElement</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">108</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">109</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">110</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># get value by id</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">111</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getValueById(<span class="variable">$id</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">112</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(<span class="variable">$id</span> -and <span class="variable">$outputMap</span>.Contains(<span class="variable">$id</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">113</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> <span class="variable">$outputMap</span>[<span class="variable">$id</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">114</span></pre></td><td class="code"><pre><span class="line">    &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">115</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> <span class="variable">$id</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">116</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">117</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">118</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">119</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取 structureField json 字符串: 等价于一个 tab</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">120</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getStructureFieldNodeJson(<span class="variable">$structureField</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">121</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">122</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># tab key 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">123</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$tabKey</span> = getValueById <span class="variable">$structureField</span>.id</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">124</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># tab name 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">125</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$tabName</span> = <span class="variable">$structureField</span>.name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">126</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># tab fields 内容</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">127</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$tabFields</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">128</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">129</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 获取 structureField 所有元素，生成 datagrid json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">130</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$childNodes</span> = <span class="variable">$structureField</span>.ChildNodes</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">131</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">132</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 生成 datagrid 元素</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">133</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$datagridKey</span> = getValueById <span class="variable">$structureField</span>.id</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">134</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$datagridName</span> = <span class="variable">$structureField</span>.name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">135</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$datagridBody</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">136</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$datagridFields</span> =<span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">137</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">138</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 遍历所有子节点</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">139</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span> <span class="nomarkup">-lt</span> <span class="variable">$childNodes</span>.Count;<span class="variable">$i</span>++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">140</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">141</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$key</span> = getValueById <span class="variable">$childNodes</span>[<span class="variable">$i</span>].id</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">142</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$name</span> = <span class="variable">$childNodes</span>[<span class="variable">$i</span>].name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">143</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$default</span> = <span class="variable">$childNodes</span>[<span class="variable">$i</span>].defaultValue</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">144</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$field</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">145</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$body</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">146</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">147</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span>(<span class="variable">$childNodes</span>[<span class="variable">$i</span>].LocalName.Equals(<span class="string">"choiceField"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">148</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">149</span></pre></td><td class="code"><pre><span class="line">            <span class="keyword">for</span>(<span class="variable">$j</span>=<span class="number">0</span>;<span class="variable">$j</span> <span class="nomarkup">-lt</span> <span class="variable">$childNodes</span>[<span class="variable">$i</span>].ChildNodes.Count;<span class="variable">$j</span>++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">150</span></pre></td><td class="code"><pre><span class="line">                <span class="comment"># 排除掉注释语句</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">151</span></pre></td><td class="code"><pre><span class="line">                <span class="keyword">if</span>(!<span class="variable">$childNodes</span>[<span class="variable">$i</span>].ChildNodes[<span class="variable">$j</span>].NodeType.ToString().Equals(<span class="string">"Comment"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">152</span></pre></td><td class="code"><pre><span class="line">                    <span class="comment"># 生成 fields 子元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">153</span></pre></td><td class="code"><pre><span class="line">                    <span class="variable">$field</span> += (getFildesElement <span class="variable">$childNodes</span>[<span class="variable">$i</span>].ChildNodes[<span class="variable">$j</span>].label <span class="variable">$childNodes</span>[<span class="variable">$i</span>].ChildNodes[<span class="variable">$j</span>].value) + <span class="string">","</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">154</span></pre></td><td class="code"><pre><span class="line">                &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">155</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">156</span></pre></td><td class="code"><pre><span class="line">       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">157</span></pre></td><td class="code"><pre><span class="line">            <span class="comment"># 生成 dropdown 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">158</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$body</span> = (getDropdownElement <span class="variable">$key</span> <span class="variable">$name</span> <span class="variable">$default</span> <span class="variable">$field</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">159</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">160</span></pre></td><td class="code"><pre><span class="line">        &#125;<span class="keyword">elseif</span>(<span class="variable">$childNodes</span>[<span class="variable">$i</span>].LocalName.Equals(<span class="string">"dataField"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">161</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$min</span> = <span class="variable">$childNodes</span>[<span class="variable">$i</span>].minLength</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">162</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$max</span> = <span class="variable">$childNodes</span>[<span class="variable">$i</span>].maxLength</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">163</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">164</span></pre></td><td class="code"><pre><span class="line">            <span class="comment"># 生成 txt 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">165</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$body</span> = (getTextElement <span class="variable">$key</span> <span class="variable">$name</span> <span class="variable">$default</span> <span class="variable">$min</span> <span class="variable">$max</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">166</span></pre></td><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">167</span></pre></td><td class="code"><pre><span class="line">        &#125;<span class="keyword">elseif</span>(<span class="variable">$childNodes</span>[<span class="variable">$i</span>].LocalName.Equals(<span class="string">"dynamicChoiceField"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">168</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$min</span> = <span class="number">0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">169</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$max</span> = <span class="number">12</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">170</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">171</span></pre></td><td class="code"><pre><span class="line">            <span class="comment"># 生成 txt 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">172</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$body</span> = (getTextElement <span class="variable">$key</span> <span class="variable">$name</span> <span class="variable">$default</span> <span class="variable">$min</span> <span class="variable">$max</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">173</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">174</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">175</span></pre></td><td class="code"><pre><span class="line">        <span class="comment"># 排除注释节点</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">176</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span>(!<span class="variable">$body</span>.Equals(<span class="string">""</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">177</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$datagridFields</span> += <span class="variable">$body</span> + <span class="string">","</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">178</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">179</span></pre></td><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">180</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">181</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">182</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 合成生成最终的 datagrid json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">183</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$datagridBody</span> = getDatagrid <span class="variable">$datagridKey</span> <span class="variable">$datagridName</span> <span class="variable">$datagridFields</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">184</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">185</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 拼接 tab fields json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">186</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$tabFields</span> += <span class="variable">$datagridBody</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">187</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 生成最终 tab 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">188</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$tabBody</span> = getTabString <span class="variable">$tabKey</span> <span class="variable">$tabName</span> <span class="variable">$tabFields</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">189</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="variable">$tabBody</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">190</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">191</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">192</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">193</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">194</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取 xml 配置文件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">195</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$commXmlData</span> = [xml](<span class="built_in">Get-Content</span> mbbconf.xml)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">196</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">197</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">198</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">199</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存储 output id 和 key 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">200</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$outputMap</span> = @&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">201</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">202</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取 output -&gt; fieldOutput 节点映射 id 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">203</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$fieldOutputXmlData</span> = <span class="variable">$commXmlData</span>.template.output.customParamFile.fieldOutput</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">204</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span> <span class="nomarkup">-lt</span> <span class="variable">$fieldOutputXmlData</span>.Count;<span class="variable">$i</span>++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">205</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">206</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(<span class="variable">$fieldOutputXmlData</span>[<span class="variable">$i</span>].fieldId -and !<span class="variable">$fieldOutputXmlData</span>[<span class="variable">$i</span>].NodeType.ToString().Equals(<span class="string">"Comment"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">207</span></pre></td><td class="code"><pre><span class="line">        <span class="comment"># 提取 / 第二个元素</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">208</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$outputMap</span>[<span class="variable">$fieldOutputXmlData</span>[<span class="variable">$i</span>].fieldId] = <span class="variable">$fieldOutputXmlData</span>[<span class="variable">$i</span>].key.Split(<span class="string">"/"</span>)[<span class="number">1</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">209</span></pre></td><td class="code"><pre><span class="line">        <span class="built_in">Write-Host</span> <span class="variable">$fieldOutputXmlData</span>[<span class="variable">$i</span>].fieldId : <span class="variable">$outputMap</span>[<span class="variable">$fieldOutputXmlData</span>[<span class="variable">$i</span>].fieldId]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">210</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">211</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">212</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">213</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取 output -&gt; structureOutput 节点映射 id 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">214</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$structureOutputXmlData</span> = <span class="variable">$commXmlData</span>.template.output.customParamFile.structureOutput</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">215</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span> <span class="nomarkup">-lt</span> <span class="variable">$structureOutputXmlData</span>.Count;<span class="variable">$i</span>++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">216</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">217</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(<span class="variable">$structureOutputXmlData</span>[<span class="variable">$i</span>].fieldId -and !<span class="variable">$structureOutputXmlData</span>[<span class="variable">$i</span>].NodeType.ToString().Equals(<span class="string">"Comment"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">218</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$outputMap</span>[<span class="variable">$structureOutputXmlData</span>[<span class="variable">$i</span>].fieldId] = <span class="variable">$structureOutputXmlData</span>[<span class="variable">$i</span>].key</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">219</span></pre></td><td class="code"><pre><span class="line">        <span class="built_in">Write-Host</span> <span class="string">'*** '</span> <span class="variable">$structureOutputXmlData</span>[<span class="variable">$i</span>].fieldId : <span class="variable">$outputMap</span>[<span class="variable">$structureOutputXmlData</span>[<span class="variable">$i</span>].fieldId]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">220</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">221</span></pre></td><td class="code"><pre><span class="line">        <span class="comment"># structureOutput -&gt; fieldOutput</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">222</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$child</span> = <span class="variable">$structureOutputXmlData</span>.fieldOutput</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">223</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">for</span>(<span class="variable">$j</span>=<span class="number">0</span>;<span class="variable">$j</span> <span class="nomarkup">-lt</span> <span class="variable">$child</span>.Count;<span class="variable">$j</span>++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">224</span></pre></td><td class="code"><pre><span class="line">            <span class="keyword">if</span>(<span class="variable">$child</span>[<span class="variable">$j</span>].fieldId -and !<span class="variable">$child</span>[<span class="variable">$j</span>].NodeType.ToString().Equals(<span class="string">"Comment"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">225</span></pre></td><td class="code"><pre><span class="line">                <span class="variable">$outputMap</span>[<span class="variable">$child</span>[<span class="variable">$j</span>].fieldId] = <span class="variable">$child</span>[<span class="variable">$j</span>].key</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">226</span></pre></td><td class="code"><pre><span class="line">                <span class="built_in">Write-Host</span> <span class="variable">$child</span>[<span class="variable">$j</span>].fieldId : <span class="variable">$outputMap</span>[<span class="variable">$child</span>[<span class="variable">$j</span>].fieldId]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">227</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">228</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">229</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">230</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">231</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">232</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Write-Host</span> <span class="string">"outMap length: "</span> <span class="variable">$outputMap</span>.Count</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">233</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">234</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">235</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">236</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">237</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># template nodes</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">238</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateNodes</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">239</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># template version</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">240</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateVsersion</span> = <span class="variable">$commXmlData</span>.template.version</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">241</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># template key 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">242</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateKey</span> = <span class="variable">$commXmlData</span>.template.id</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">243</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># template name 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">244</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateName</span> = <span class="variable">$commXmlData</span>.template.name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">245</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># template 内容用于生成最终的 json 文件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">246</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateBody</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">247</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">248</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">249</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">250</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># fields nodes</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">251</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$fieldsChildNodes</span> = <span class="variable">$commXmlData</span>.template.fields.ChildNodes</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">252</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">253</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">254</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># terminal config tab key 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">255</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$terminalConfigTabKey</span> = <span class="string">"TerminalConfig"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">256</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># terminal config tab name 值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">257</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$terminalConfigTabName</span> = <span class="string">"TerminalConfig"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">258</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># terminal config tab tab fields 内容</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">259</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$terminalConfigTabFields</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">260</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">261</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="variable">$k</span>=<span class="number">0</span>;<span class="variable">$k</span> <span class="nomarkup">-lt</span> <span class="variable">$fieldsChildNodes</span>.Count;<span class="variable">$k</span>++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">262</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">263</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$key</span> = getValueById <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].id</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">264</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$name</span> = <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">265</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$default</span> = <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].defaultValue</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">266</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$field</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">267</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$body</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">268</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">269</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(<span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].LocalName.Equals(<span class="string">"choiceField"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">270</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">271</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">for</span>(<span class="variable">$l</span>=<span class="number">0</span>;<span class="variable">$l</span> <span class="nomarkup">-lt</span> <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].ChildNodes.Count;<span class="variable">$l</span>++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">272</span></pre></td><td class="code"><pre><span class="line">            <span class="comment"># 排除掉注释语句</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">273</span></pre></td><td class="code"><pre><span class="line">            <span class="keyword">if</span>(!<span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].ChildNodes[<span class="variable">$l</span>].NodeType.ToString().Equals(<span class="string">"Comment"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">274</span></pre></td><td class="code"><pre><span class="line">            <span class="comment"># 生成 fields 子元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">275</span></pre></td><td class="code"><pre><span class="line">                <span class="variable">$field</span> += (getFildesElement <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].ChildNodes[<span class="variable">$l</span>].label <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].ChildNodes[<span class="variable">$l</span>].value) + <span class="string">","</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">276</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">277</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">278</span></pre></td><td class="code"><pre><span class="line">       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">279</span></pre></td><td class="code"><pre><span class="line">        <span class="comment"># 生成 dropdown 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">280</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$body</span> = (getDropdownElement <span class="variable">$key</span> <span class="variable">$name</span> <span class="variable">$default</span> <span class="variable">$field</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">281</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">282</span></pre></td><td class="code"><pre><span class="line">    &#125;<span class="keyword">elseif</span>(<span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].LocalName.Equals(<span class="string">"dataField"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">283</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$min</span> = <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].minLength</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">284</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$max</span> = <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].maxLength</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">285</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">286</span></pre></td><td class="code"><pre><span class="line">        <span class="comment"># 生成 txt 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">287</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$body</span> = (getTextElement <span class="variable">$key</span> <span class="variable">$name</span> <span class="variable">$default</span> <span class="variable">$min</span> <span class="variable">$max</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">288</span></pre></td><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">289</span></pre></td><td class="code"><pre><span class="line">    &#125;<span class="keyword">elseif</span>(<span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>].LocalName.Equals(<span class="string">"structureField"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">290</span></pre></td><td class="code"><pre><span class="line">        <span class="comment"># 获取各个 tab json string</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">291</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$templateNodes</span> += (getStructureFieldNodeJson <span class="variable">$fieldsChildNodes</span>[<span class="variable">$k</span>]) + <span class="string">","</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">292</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">293</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">294</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 排除注释节点</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">295</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(!<span class="variable">$body</span>.Equals(<span class="string">""</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">296</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$terminalConfigTabFields</span> += <span class="variable">$body</span> + <span class="string">","</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">297</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">298</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">299</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">300</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">301</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成最终 terminal config tab 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">302</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$terminalConfigTabBody</span> = getTabString <span class="variable">$terminalConfigTabKey</span> <span class="variable">$terminalConfigTabName</span> <span class="variable">$terminalConfigTabFields</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">303</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">304</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">305</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拼接生成 template nodes 元素 json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">306</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateNodes</span> +=  <span class="variable">$terminalConfigTabBody</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">307</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">308</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 template json 字符串</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">309</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateBody</span> = (getTemplate <span class="variable">$templateVsersion</span> <span class="variable">$templateNodes</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">310</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成最终 json 文件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">311</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$templateBody</span> | <span class="built_in">Out-File</span> mbbconfig.json -Encoding utf8</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">312</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">313</span></pre></td><td class="code"><pre><span class="line">echo <span class="string">"Generator json template success"</span></span></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.pstips.net/xml-structure.html" target="_blank" rel="noopener">PowerShell处理XML（一）XML 结构</a></p>
</li>
</ul>
<h3 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h3><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">[System.IO.File]::WriteAllText(<span class="variable">$file</span>.FullName, <span class="variable">$result</span>, [System.Text.Encoding]::UTF8)</span></pre></td></tr></table></figure>

<h3 id="读写中文字体文件-不出现乱码"><a href="#读写中文字体文件-不出现乱码" class="headerlink" title="读写中文字体文件(不出现乱码)"></a>读写中文字体文件(不出现乱码)</h3><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">// string_zh_cn.h 文件是中文并且以 GB18030 编码保存</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$strFile</span> = <span class="string">'.\string_zh_cn.h'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$content</span> = <span class="built_in">Get-Content</span> <span class="variable">$strFile</span> -Raw</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$result</span> = <span class="variable">$content</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> (<span class="variable">$stringId</span> <span class="keyword">in</span> <span class="variable">$stringIDArray</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$result</span> = [regex]::Replace(<span class="variable">$result</span>, <span class="string">"&amp;<span class="variable">$stringId</span>"</span>, <span class="string">'(+++&#123;0&#125;-----)'</span> -f <span class="variable">$stringId</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable">$result</span> <span class="nomarkup">-ne</span> <span class="variable">$content</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    // 这里保存新文件时必须要以 UTF8 格式</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$result</span> | <span class="built_in">Out-File</span> -FilePath <span class="variable">$strFile</span> -Encoding utf8</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="去除文件重复语句"><a href="#去除文件重复语句" class="headerlink" title="去除文件重复语句"></a>去除文件重复语句</h3><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$sourceFile</span>=<span class="string">".\last_time_cn.md"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$newFile1</span>=<span class="string">".\unicque1.md"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#$newFile2=".\unicque2.md"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Method one:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">[System.Collections.Generic.HashSet[string]]<span class="variable">$lines</span> = <span class="built_in">Get-Content</span> -Path <span class="variable">$sourceFile</span> -ReadCount <span class="number">0</span> -Encoding UTF8</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set-Content</span>  -Path <span class="variable">$newFile1</span> -Value (<span class="variable">$lines</span> -join <span class="string">"`r`n"</span>) -Encoding UTF8</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Method two:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#$ls = Get-Content -Path $sourceFile -ReadCount 0 | Select-Object -Unique</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#Set-Content -Path $newFile2 -Value ($lines -join "`r`n")</span></span></pre></td></tr></table></figure>

<h3 id="正则表达式替换文件内容"><a href="#正则表达式替换文件内容" class="headerlink" title="正则表达式替换文件内容"></a>正则表达式替换文件内容</h3><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$content</span> = <span class="built_in">Get-Content</span> -LiteralPath <span class="variable">$file</span> -Raw</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$result</span> = [System.Text.RegularExpressions.Regex]::Replace(<span class="variable">$content</span>, <span class="string">'("[\d|A-Za-z| |!|\.|:|\[\]\(\)/_|\-&lt;&gt;=+#*\\n\u4e00-\u9fa5|\u3002\uff1b\uff0c\uff1a\u201c\u201d\uff08\uff09\u3001\uff1f\u300a\u300b]+")'</span>, &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">param</span>([System.Text.RegularExpressions.Match]<span class="variable">$match</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$number</span> = <span class="variable">$match</span>[<span class="number">0</span>].Groups[<span class="number">1</span>].ToString()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">#Write-Host $number</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        <span class="built_in">write-output</span> <span class="variable">$number</span> | <span class="built_in">out-file</span> -filepath .\temp.txt -Encoding utf8 -Append</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> <span class="variable">$number</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr></table></figure>


<h3 id="提取中英文字幕"><a href="#提取中英文字幕" class="headerlink" title="提取中英文字幕"></a>提取中英文字幕</h3><p>下面是提取纸牌屋的字幕文件(去除字幕文件中的时间轴的其它字符)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!(Test-Path dst)) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    md dst | Out-Null</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">Get-ChildItem src\*.srt | ForEach-Object &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$srcFile</span> = <span class="variable">$_</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    Write-Output <span class="string">"Processing <span class="variable">$($srcFile.Name)</span>"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$dstFile</span> = Join-Path <span class="string">'dst'</span> <span class="variable">$srcFile</span>.Name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    Get-Content <span class="variable">$srcFile</span> | ForEach-Object &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$line</span> = <span class="variable">$_</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span> (<span class="variable">$line</span> -cmatch <span class="string">'\A\d+\z'</span>) &#123; <span class="built_in">return</span> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span> (<span class="variable">$line</span> -cmatch <span class="string">'\d\d:\d\d:\d\d,\d\d\d --&gt; \d\d:\d\d:\d\d,\d\d\d'</span>) &#123; <span class="built_in">return</span> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$line</span> = <span class="variable">$line</span> -creplace <span class="string">'\s*\&#123;\\.*?\&#125;\s*'</span>, <span class="string">''</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        <span class="built_in">echo</span> <span class="variable">$line</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    &#125; | Out-File <span class="variable">$dstFile</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="提取电子书内容"><a href="#提取电子书内容" class="headerlink" title="提取电子书内容"></a>提取电子书内容</h3><p>下面是提取 《权力巅峰》 文本文件的 ps 处理代码。源文件是一个包含所有内容的 txt 文件，脚本会提取文件中的每个章节内容为一个独立的 md 文件，并自动生成 summary.md 目录文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$content</span> = Get-Content .\qldf.txt</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存储目录结构</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$summary</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 卷标题</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$volume</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 章标题</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$chapterTitle</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 章内容</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$chapterContent</span> =<span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$content</span> | ForEach-Object&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$line</span> = <span class="variable">$_</span>.ToString().Trim()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 滤掉空行</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(<span class="variable">$line</span>.Length -gt 0)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$isVolume</span> = <span class="variable">$line</span> -match <span class="string">'^第[一二三四五六七八九十]+卷'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span>(<span class="variable">$isVolume</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$summary</span> += <span class="string">"* [<span class="variable">$line</span>]`r`n"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">            <span class="comment">#"`r`n## $line" | Out-File -FilePath "$line.md" -Encoding utf8</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">        <span class="variable">$isTitle</span> = <span class="variable">$line</span> -match <span class="string">'^第[\d]+章'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span>(<span class="variable">$isTitle</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">            <span class="comment"># 保存一个章节内容为一个文件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">            <span class="keyword">if</span>((<span class="variable">$chapterTitle</span>.Length -gt 0) -and (<span class="variable">$chapterContent</span>.Length -gt 0))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">                <span class="comment"># 文件名称使用 下划线 替换 空格</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">                <span class="variable">$fileName</span> = <span class="variable">$chapterTitle</span>.Replace(<span class="string">' '</span>,<span class="string">'_'</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">                <span class="variable">$summary</span> += <span class="string">"    * [<span class="variable">$chapterTitle</span>](<span class="variable">$fileName</span>.md)`r`n"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">                <span class="string">"`r`n## <span class="variable">$chapterTitle</span> `r`n`r`n <span class="variable">$chapterContent</span>"</span> | Out-File -FilePath <span class="string">"<span class="variable">$fileName</span>.md"</span> -Encoding utf8</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">            <span class="comment"># 清空,重新开始记录</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$chapterTitle</span> = <span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$chapterContent</span> =<span class="string">""</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$chapterTitle</span> = <span class="variable">$line</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">        &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">            <span class="variable">$chapterContent</span> += <span class="variable">$line</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">   &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="string">"# Summary`r`n`r`n* [简介](README.md)`r`n`r`n<span class="variable">$summary</span>"</span> | Out-File -FilePath <span class="string">"summary.md"</span> -Encoding utf8</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">Write-Host <span class="string">'Done'</span></span></pre></td></tr></table></figure>


<h3 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h3><ul>
<li><p>powershell 调用优先级: 别名 —&gt; 函数 -&gt; 命令 -&gt; 脚本(*.ps1) -&gt; 可执行文件</p>
</li>
<li><p>变量名不区分大小写</p>
</li>
<li><p>ps 所有的变量保存在 <code>variable</code> 驱动器中</p>
</li>
<li><p>显示环境变量: ls env:</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">// 更新到系统环境变量中</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">PS&gt; [environment]::SetEnvironmentvariable(<span class="string">"Path"</span>, <span class="string">";c:\powershellscript"</span>, <span class="string">"User"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">PS&gt; [environment]::GetEnvironmentvariable(<span class="string">"Path"</span>, <span class="string">"User"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">;c:\powershellscript</span></pre></td></tr></table></figure></li>
<li><p>数组是固定大小,内部的内存是连续分布的，所以要添加新元素只能重新创建一个新的数组，添加使用 <code>$arr += xxx</code></p>
</li>
<li><p>去除数组中重复元素</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr2</span> = <span class="variable">$arr1</span> | <span class="built_in">Get-Unique</span></span></pre></td></tr></table></figure></li>
<li><p>统计文件数据</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">// 统计单词，行数，大小</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Get-Content</span> .word.txt | measure -Line -Word -Character</span></pre></td></tr></table></figure></li>
<li><p>开启调试模式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$DebugPreference</span>=<span class="string">"Continue"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">// wrte-debug 只有在调试模式下才会输出信息</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">write-debug <span class="string">'Hello'</span></span></pre></td></tr></table></figure>
</li>
<li><p>关闭调试模式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$DebugPreference</span>=<span class="string">"SilentlyContinue"</span></span></pre></td></tr></table></figure>
</li>
<li><p>在函数避免错误信息作为返回值正确做法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Function ErrorTest()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">#从这里开始隐藏所有的错误信息</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$ErrorActionPreference</span>=<span class="string">"SilentlyContinue"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    Stop-Process -Name <span class="string">"www.mossfly.com"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">#该进程不存在</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">#恢复$ErrorActionPreference,错误开始输出</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">$ErrorActionPreference</span>=<span class="string">"Continue"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
<li><p>定义多行文本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Here strings 定义多行文本</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">@<span class="string">"#独立一行</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">字符串”@格式定义多行文本，尤其是较长的文本，再好不过了</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="string"></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="string">这首诗用来评价陶渊明的诗歌再好不过了</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="string"> </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="string">一语天然万古新，豪华落尽见真淳。</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="string">南窗白日羲皇上，未害渊明是晋人。</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="string">"</span>@<span class="comment">#独立一行</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">//这里要注意开始和结束的标记必须另起一行。</span></pre></td></tr></table></figure>
</li>
<li><p>生成全球唯一标识符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$guid</span> = [GUID]::NewGUID()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    Foreach (<span class="variable">$format</span> <span class="keyword">in</span> <span class="string">"N"</span>,<span class="string">"D"</span>,<span class="string">"B"</span>,<span class="string">"P"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"GUID with <span class="variable">$format</span> : &#123;0&#125;"</span> -f <span class="variable">$GUID</span>.ToString(<span class="variable">$format</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">//GUID with N : e1a5d98f4227470b84c2b37a6a8fb894</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">//GUID with D : e1a5d98f-4227-470b-84c2-b37a6a8fb894</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">//GUID with B : &#123;e1a5d98f-4227-470b-84c2-b37a6a8fb894&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">//GUID with P : (e1a5d98f-4227-470b-84c2-b37a6a8fb894)</span></pre></td></tr></table></figure>
</li>
<li><p>移除 String 中 split 方法空元素</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="string">"https://www.pstips.net"</span>.split(<span class="string">":./"</span>,[StringSplitOptions]::RemoveEmptyEntries)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">http</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">www</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">pstips</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">net</span></pre></td></tr></table></figure>
</li>
<li><p>正则表达式中的 ignore,multiline 表示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="string">"Abcdeafewe"</span> -match <span class="string">"(?i)abcd"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">// True</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">"Abcdeafewe"</span> -match <span class="string">"(?-i)abcd"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">// False</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$text</span> = @<span class="string">"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="string">这是一段文本，</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="string">我想在回复的邮件中引用它，</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="string">所以我在每行的开始追加了"</span>&gt;<span class="string">" 符号。</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="string">"</span>@</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="variable">$text</span> -replace <span class="string">"(?m)^"</span>, <span class="string">"&gt; "</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&gt; 这是一段文本，</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&gt; 我想在回复的邮件中引用它，</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&gt; 所以我在每行的开始追加了<span class="string">"&gt;"</span> 符号。</span></pre></td></tr></table></figure>
</li>
<li><p>换行符号使用 `(数字 1 左边)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">[regex]::Replace(<span class="variable">$text</span>, <span class="string">"\A"</span>, <span class="string">"&gt; "</span>, `</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">[Text.RegularExpressions.RegExOptions]::Multiline)</span></pre></td></tr></table></figure>
</li>
<li><p>条件操作符</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-eq</span> ：等于</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-ne</span> ：不等于</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-gt</span> ：大于</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-ge</span> ：大于等于</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-lt</span> ：小于</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-le</span> ：小于等于</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-contains</span> ：包含</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-notcontains</span> :不包含</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">-and ：和</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">-or ：或</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">-xor ：异或</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="nomarkup">-not</span> ：逆</span></pre></td></tr></table></figure></li>
</ul>

	
	</div>
</div>

           
		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
          <li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
        

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/2/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/Ajax/">Ajax<span>9</span></a></li>
		
			<li><a href="/categories/AliPay/">AliPay<span>1</span></a></li>
		
			<li><a href="/categories/Android/">Android<span>12</span></a></li>
		
			<li><a href="/categories/AngularJS/">AngularJS<span>4</span></a></li>
		
			<li><a href="/categories/BackEnd/">BackEnd<span>5</span></a></li>
		
			<li><a href="/categories/Backbone/">Backbone<span>1</span></a></li>
		
			<li><a href="/categories/Bootstrap/">Bootstrap<span>2</span></a></li>
		
			<li><a href="/categories/C-C/">C/C++<span>1</span></a></li>
		
			<li><a href="/categories/Car/">Car<span>1</span></a></li>
		
			<li><a href="/categories/Css/">Css<span>9</span></a></li>
		
			<li><a href="/categories/Css3/">Css3<span>4</span></a></li>
		
			<li><a href="/categories/Database/">Database<span>4</span></a></li>
		
			<li><a href="/categories/Design/">Design<span>1</span></a></li>
		
			<li><a href="/categories/Docker/">Docker<span>1</span></a></li>
		
			<li><a href="/categories/Flutter/">Flutter<span>1</span></a></li>
		
			<li><a href="/categories/Git/">Git<span>1</span></a></li>
		
			<li><a href="/categories/Golang/">Golang<span>1</span></a></li>
		
			<li><a href="/categories/Hadoop/">Hadoop<span>1</span></a></li>
		
			<li><a href="/categories/Hexo/">Hexo<span>3</span></a></li>
		
			<li><a href="/categories/Html/">Html<span>18</span></a></li>
		
			<li><a href="/categories/Java/">Java<span>17</span></a></li>
		
			<li><a href="/categories/JavaScript/">JavaScript<span>82</span></a></li>
		
			<li><a href="/categories/Linux/">Linux<span>8</span></a></li>
		
			<li><a href="/categories/Node-js/">Node.js<span>40</span></a></li>
		
			<li><a href="/categories/Powershell/">Powershell<span>1</span></a></li>
		
			<li><a href="/categories/Python/">Python<span>1</span></a></li>
		
			<li><a href="/categories/Read/">Read<span>9</span></a></li>
		
			<li><a href="/categories/Testing/">Testing<span>4</span></a></li>
		
			<li><a href="/categories/Tools/">Tools<span>16</span></a></li>
		
			<li><a href="/categories/Vue-js/">Vue.js<span>10</span></a></li>
		
			<li><a href="/categories/WeChat/">WeChat<span>4</span></a></li>
		
			<li><a href="/categories/jQuery/">jQuery<span>5</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/Document/">Document<span>8</span></a></li>
		
			<li><a href="/tags/MongoDB/">MongoDB<span>2</span></a></li>
		
			<li><a href="/tags/Performence/">Performence<span>1</span></a></li>
		
			<li><a href="/tags/MySQL/">MySQL<span>1</span></a></li>
		
			<li><a href="/tags/JSP/">JSP<span>1</span></a></li>
		
			<li><a href="/tags/Sublime/">Sublime<span>2</span></a></li>
		
			<li><a href="/tags/Jasmine/">Jasmine<span>1</span></a></li>
		
			<li><a href="/tags/OOP/">OOP<span>9</span></a></li>
		
			<li><a href="/tags/Library/">Library<span>7</span></a></li>
		
			<li><a href="/tags/RegExp/">RegExp<span>2</span></a></li>
		
			<li><a href="/tags/Mocha/">Mocha<span>1</span></a></li>
		
			<li><a href="/tags/Bom/">Bom<span>10</span></a></li>
		
			<li><a href="/tags/Es6/">Es6+<span>2</span></a></li>
		
			<li><a href="/tags/Npm/">Npm<span>3</span></a></li>
		
			<li><a href="/tags/PhantomJs/">PhantomJs<span>1</span></a></li>
		
			<li><a href="/tags/Karma/">Karma<span>1</span></a></li>
		
			<li><a href="/tags/Promise/">Promise<span>2</span></a></li>
		
			<li><a href="/tags/Webpack/">Webpack<span>2</span></a></li>
		
			<li><a href="/tags/StdLib/">StdLib<span>11</span></a></li>
		
			<li><a href="/tags/Chrome/">Chrome<span>2</span></a></li>
		
		
		   <li><a href="/tags">...<span>21</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2019/11/14/2019-11-14-java-NIO/" ><i class="fa fa-file-o"></i>NIO</a>
      </li>
    
      <li>
        <a href="/2019/11/06/2019-11-06-flutter/" ><i class="fa fa-file-o"></i>Flutter</a>
      </li>
    
      <li>
        <a href="/2019/10/03/2019-10-02.car/" ><i class="fa fa-file-o"></i>Car Parameters</a>
      </li>
    
      <li>
        <a href="/2019/10/02/2019-10--02.android/" ><i class="fa fa-file-o"></i>Android Notes</a>
      </li>
    
      <li>
        <a href="/2019/09/20/2019-09--20.hadoop/" ><i class="fa fa-file-o"></i>Hadoop</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/wzpan/freemind/" title="Freemind's Github repository." target="_blank"]);">Freemind</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/JesseQiu" title="My Github account." target="_blank"]);">My Github</a></li>
	
		<li><i class="fa fa-linkedin"></i><a href="https://jesseqiu.github.io/" title="My Linkin account." target="_blank"]);">My LinkedIn</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->


	</div>
  </div>

  <div class="container-narrow">
  <footer> 
<!-- 不蒜子统计 -->

    <span id="busuanzi_container_site_pv">
            本站总访问量 <span id="busuanzi_value_site_pv"></span> 次
    </span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv" style='display:none'>
            本站访客数 <span id="busuanzi_value_site_uv"> </span>人
    </span>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<span>
  &copy; 2019 John Doe
  
</span>

<span>
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind</a>.    
</span>
 </footer>
</div> <!-- container-narrow -->

  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

  
</body>

   </html>
